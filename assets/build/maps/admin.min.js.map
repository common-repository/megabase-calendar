{"version":3,"sources":["popper.min.js","rangeslider.min.js","bootstrap-datepicker.min.js","event-calendar.min.js","jquery.timepicker.min.js","select2.min.js","admin-scripts.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","$","GENERIC_ERROR_MSG","$document","document","setupAdminTabs","selector","tabs","find","length","hasClass","addClass","each","$active","$content","$links","this","filter","location","hash","not","hide","on","e","removeClass","show","preventDefault","megacalShortcodeFieldUpdate","opts","event_type","console","error","field_selector","shortcode_att","output_selector","handler","callback","$shortcode_field","shortcode","val","out","type","att","$element","prop","megacalReplaceShortcodeAtt","default_handler","shortcode_len","insert_index","regex","RegExp","indexOf","replace","substring","checkRequiredFields","$form","$submitBtn","required","allValid","$this","next","ready","colorTextInputDebounce","$registerForm","$registerHandleField","$checkHandleBtn","$registerBtn","$colorpickers","$opacitySliders","$colorTextInputs","$colorResets","window","href","select","execCommand","fadeIn","delay","fadeOut","err","attr","closest","animate","scrollTop","first","trigger","confirm","nonce","megacal_admin_script_opts","settings_url","parent","clearTimeout","setTimeout","$input","$colorpicker","hexStr","test","showAlertNotification","bind","$container","$opacitySlider","defaultColor","data","$labelVal","text","check_handle_data","action","handle","_nonce","post","ajax_url","response","success","clearAlertNotification","message","unique","fail","form","formData","FormData","get","firstname","lastname","email","calendarName","phone","registerData","upgrade_url","alert","$manageEvents","setEventApproval","approvalAction","btn","approvalNotice","eventId","userId","putApprovalData","remove","loadApprovalList","$calendar","eventCalendar","loadEventForm","successCallback","failureCallback","eventUpsertData","registerEventFormActions","date","$eventForm","$eventSubmitBtn","$eventDeleteBtn","$allDayCheckbox","$startTimeField","$endTimeField","$dateField","$eventImgBtn","$eventRemoveBtn","$eventImgField","$imgPreview","$venueField","$venueIdField","$categoryField","$categoryIdField","$venueLocationField","$cancelBtn","$modalCancelBtn","startDate","Date","$timepicker","recurrence","recurrenceDetails","trim","JSON","parse","fmtDate","Intl","DateTimeFormat","month","day","year","format","$saveEventWrap","hideChangeTypeModal","changeTypeSelected","deleteEventData","eventChangeType","done","showChangeTypeModal","megacalDatepicker","todayHighlight","autoclose","fetchEventRecurrenceDetails","timepicker","defaultTime","startTime","timeFormat","interval","dropdown","dynamic","scrollbar","zindex","select2","placeholder","tags","allowClear","createTag","tag","found","term","toUpperCase","isNumeric","id","isNew","language","noResults","params","tinyMCE","triggerSave","saveEvent","customUploader","wp","media","title","library","button","multiple","attachment","state","toJSON","url","open","$modal","focus","eventTitle","eventDate","eventAllDay","eventStartTime","eventEndTime","eventImg","eventVenueId","eventVenueName","eventVenueLocation","eventCatId","eventCatName","eventOrganizer","eventFacebookUrl","eventTicketUrl","eventPrice","eventTaggedUsers","getAll","eventTaggedUsersExtra","megacalEventDescription","megacalEventPrivateNotes","published","eventRecurrence","eventRecurrenceRepetition","eventRecurrenceCustomType","eventRecurrenceCustomMonthlyFreq","eventRecurrenceWeeklyDays","eventRecurrenceEnd","eventRecurrenceEndDate","eventRecurrenceEndOccurrence","eventRecurrenceDayOfWeek","eventRecurrenceWeekOfMonth","eventRecurrenceLastDayOfWeek","eventRecurrenceDayOfMonth","eventRecurrenceMonth","saveEventData","$eventRecurrenceContainer","$select","selectVal","$radio","radioVal","$customRecurrenceTypeSelectOr","customRecurrenceTypeVal","parseInt","$endsDetailsContainer","endsExpanded","showRecurrence","custom","end_condition","html","content","recurrence_details","$eventRecurrenceRepetition","$eventRecurrenceEndDate","$eventRecurrenceEndOccurrence","$customRecurrenceTypeSelect","$customRecurrenceMonthlyFreq","$customRecurrenceWeeklyDays","$eventRecurrenceSelect","$customRecurrenceDetailsSection","customRecurrenceType","toLowerCase","customDetail","detailVals","fmtEndDate","moment","afterOccurrence","after_occurrence","repetition","repeat_on","day_of_week","weekOfMonth","week_of_month","$newEndsDetailsContainer","slideDown","slideUp","$selectedDayCB","$weeklyDaysCBs","defaultDay","weekly_custom","selected_day_of_week","allEmpty","initWYSIWYGFields","tinyMCEPreInit","mceInit","setup","ed","init","quicktags","showAddEventForm","loadCalendarView","$eventCalendar","aMoment","hours","minutes","seconds","milliseconds","clone","startOf","endDate","endOf","$filterForm","fetchEventsData","eventCategories","events","getApprovalListData","$approvalList","currDate","showImage","showLegends","showOwners","time_fmt_setting","dateFormat","calendar","calendarFirst","showSlider","loaderImageUrl","base_url","defaultEventImageUrl","default_image_path","calendarCreate","event","$eventManageMask","createdByMe","isDirty","addEventListener","returnValue","$nameInput","$inputs","putRelationshipData","name","clearNotificationTimeout","$alertNotice","alertState","msg","ownerId","catId","$shortcode_btn","tb_show","ajax_shortcode_options","target","copyTextarea","editor","insert","tb_remove","in_dom","MutationObserver","mutations","$loaded_content","css","width","height","padding","overflow","observe","body","childList","$toggle","$collapsable","key","jQuery"],"mappings":"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","file":"../vendor/admin.min.js","sourcesContent":["/*\n Copyright (C) Federico Zivolo 2020\n Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).\n */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Popper=t()})(this,function(){'use strict';function e(e){return e&&'[object Function]'==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var o=e.ownerDocument.defaultView,n=o.getComputedStyle(e,null);return t?n[t]:n}function o(e){return'HTML'===e.nodeName?e:e.parentNode||e.host}function n(e){if(!e)return document.body;switch(e.nodeName){case'HTML':case'BODY':return e.ownerDocument.body;case'#document':return e.body;}var i=t(e),r=i.overflow,p=i.overflowX,s=i.overflowY;return /(auto|scroll|overlay)/.test(r+s+p)?e:n(o(e))}function i(e){return e&&e.referenceNode?e.referenceNode:e}function r(e){return 11===e?re:10===e?pe:re||pe}function p(e){if(!e)return document.documentElement;for(var o=r(10)?document.body:null,n=e.offsetParent||null;n===o&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&'BODY'!==i&&'HTML'!==i?-1!==['TH','TD','TABLE'].indexOf(n.nodeName)&&'static'===t(n,'position')?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function s(e){var t=e.nodeName;return'BODY'!==t&&('HTML'===t||p(e.firstElementChild)===e)}function d(e){return null===e.parentNode?e:d(e.parentNode)}function a(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,n=o?e:t,i=o?t:e,r=document.createRange();r.setStart(n,0),r.setEnd(i,0);var l=r.commonAncestorContainer;if(e!==l&&t!==l||n.contains(i))return s(l)?l:p(l);var f=d(e);return f.host?a(f.host,t):a(e,d(t).host)}function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',o='top'===t?'scrollTop':'scrollLeft',n=e.nodeName;if('BODY'===n||'HTML'===n){var i=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||i;return r[o]}return e[o]}function f(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=l(t,'top'),i=l(t,'left'),r=o?-1:1;return e.top+=n*r,e.bottom+=n*r,e.left+=i*r,e.right+=i*r,e}function m(e,t){var o='x'===t?'Left':'Top',n='Left'==o?'Right':'Bottom';return parseFloat(e['border'+o+'Width'])+parseFloat(e['border'+n+'Width'])}function h(e,t,o,n){return ee(t['offset'+e],t['scroll'+e],o['client'+e],o['offset'+e],o['scroll'+e],r(10)?parseInt(o['offset'+e])+parseInt(n['margin'+('Height'===e?'Top':'Left')])+parseInt(n['margin'+('Height'===e?'Bottom':'Right')]):0)}function c(e){var t=e.body,o=e.documentElement,n=r(10)&&getComputedStyle(o);return{height:h('Height',t,o,n),width:h('Width',t,o,n)}}function g(e){return le({},e,{right:e.left+e.width,bottom:e.top+e.height})}function u(e){var o={};try{if(r(10)){o=e.getBoundingClientRect();var n=l(e,'top'),i=l(e,'left');o.top+=n,o.left+=i,o.bottom+=n,o.right+=i}else o=e.getBoundingClientRect()}catch(t){}var p={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},s='HTML'===e.nodeName?c(e.ownerDocument):{},d=s.width||e.clientWidth||p.width,a=s.height||e.clientHeight||p.height,f=e.offsetWidth-d,h=e.offsetHeight-a;if(f||h){var u=t(e);f-=m(u,'x'),h-=m(u,'y'),p.width-=f,p.height-=h}return g(p)}function b(e,o){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=r(10),s='HTML'===o.nodeName,d=u(e),a=u(o),l=n(e),m=t(o),h=parseFloat(m.borderTopWidth),c=parseFloat(m.borderLeftWidth);i&&s&&(a.top=ee(a.top,0),a.left=ee(a.left,0));var b=g({top:d.top-a.top-h,left:d.left-a.left-c,width:d.width,height:d.height});if(b.marginTop=0,b.marginLeft=0,!p&&s){var w=parseFloat(m.marginTop),y=parseFloat(m.marginLeft);b.top-=h-w,b.bottom-=h-w,b.left-=c-y,b.right-=c-y,b.marginTop=w,b.marginLeft=y}return(p&&!i?o.contains(l):o===l&&'BODY'!==l.nodeName)&&(b=f(b,o)),b}function w(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=e.ownerDocument.documentElement,n=b(e,o),i=ee(o.clientWidth,window.innerWidth||0),r=ee(o.clientHeight,window.innerHeight||0),p=t?0:l(o),s=t?0:l(o,'left'),d={top:p-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:r};return g(d)}function y(e){var n=e.nodeName;if('BODY'===n||'HTML'===n)return!1;if('fixed'===t(e,'position'))return!0;var i=o(e);return!!i&&y(i)}function E(e){if(!e||!e.parentElement||r())return document.documentElement;for(var o=e.parentElement;o&&'none'===t(o,'transform');)o=o.parentElement;return o||document.documentElement}function v(e,t,r,p){var s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],d={top:0,left:0},l=s?E(e):a(e,i(t));if('viewport'===p)d=w(l,s);else{var f;'scrollParent'===p?(f=n(o(t)),'BODY'===f.nodeName&&(f=e.ownerDocument.documentElement)):'window'===p?f=e.ownerDocument.documentElement:f=p;var m=b(f,l,s);if('HTML'===f.nodeName&&!y(l)){var h=c(e.ownerDocument),g=h.height,u=h.width;d.top+=m.top-m.marginTop,d.bottom=g+m.top,d.left+=m.left-m.marginLeft,d.right=u+m.left}else d=m}r=r||0;var v='number'==typeof r;return d.left+=v?r:r.left||0,d.top+=v?r:r.top||0,d.right-=v?r:r.right||0,d.bottom-=v?r:r.bottom||0,d}function x(e){var t=e.width,o=e.height;return t*o}function O(e,t,o,n,i){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf('auto'))return e;var p=v(o,n,r,i),s={top:{width:p.width,height:t.top-p.top},right:{width:p.right-t.right,height:p.height},bottom:{width:p.width,height:p.bottom-t.bottom},left:{width:t.left-p.left,height:p.height}},d=Object.keys(s).map(function(e){return le({key:e},s[e],{area:x(s[e])})}).sort(function(e,t){return t.area-e.area}),a=d.filter(function(e){var t=e.width,n=e.height;return t>=o.clientWidth&&n>=o.clientHeight}),l=0<a.length?a[0].key:d[0].key,f=e.split('-')[1];return l+(f?'-'+f:'')}function L(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,r=n?E(t):a(t,i(o));return b(o,r,n)}function S(e){var t=e.ownerDocument.defaultView,o=t.getComputedStyle(e),n=parseFloat(o.marginTop||0)+parseFloat(o.marginBottom||0),i=parseFloat(o.marginLeft||0)+parseFloat(o.marginRight||0),r={width:e.offsetWidth+i,height:e.offsetHeight+n};return r}function T(e){var t={left:'right',right:'left',bottom:'top',top:'bottom'};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function C(e,t,o){o=o.split('-')[0];var n=S(e),i={width:n.width,height:n.height},r=-1!==['right','left'].indexOf(o),p=r?'top':'left',s=r?'left':'top',d=r?'height':'width',a=r?'width':'height';return i[p]=t[p]+t[d]/2-n[d]/2,i[s]=o===s?t[s]-n[a]:t[T(s)],i}function D(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var n=D(e,function(e){return e[t]===o});return e.indexOf(n)}function P(t,o,n){var i=void 0===n?t:t.slice(0,N(t,'name',n));return i.forEach(function(t){t['function']&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var n=t['function']||t.fn;t.enabled&&e(n)&&(o.offsets.popper=g(o.offsets.popper),o.offsets.reference=g(o.offsets.reference),o=n(o,t))}),o}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=O(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=C(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?'fixed':'absolute',e=P(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some(function(e){var o=e.name,n=e.enabled;return n&&o===t})}function B(e){for(var t=[!1,'ms','Webkit','Moz','O'],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length;n++){var i=t[n],r=i?''+i+o:e;if('undefined'!=typeof document.body.style[r])return r}return null}function H(){return this.state.isDestroyed=!0,W(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.position='',this.popper.style.top='',this.popper.style.left='',this.popper.style.right='',this.popper.style.bottom='',this.popper.style.willChange='',this.popper.style[B('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function A(e){var t=e.ownerDocument;return t?t.defaultView:window}function M(e,t,o,i){var r='BODY'===e.nodeName,p=r?e.ownerDocument.defaultView:e;p.addEventListener(t,o,{passive:!0}),r||M(n(p.parentNode),t,o,i),i.push(p)}function F(e,t,o,i){o.updateBound=i,A(e).addEventListener('resize',o.updateBound,{passive:!0});var r=n(e);return M(r,'scroll',o.updateBound,o.scrollParents),o.scrollElement=r,o.eventsEnabled=!0,o}function I(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return A(e).removeEventListener('resize',t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener('scroll',t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function U(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function Y(e){return''!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function V(e,t){Object.keys(t).forEach(function(o){var n='';-1!==['width','height','top','right','bottom','left'].indexOf(o)&&Y(t[o])&&(n='px'),e.style[o]=t[o]+n})}function j(e,t){Object.keys(t).forEach(function(o){var n=t[o];!1===n?e.removeAttribute(o):e.setAttribute(o,t[o])})}function q(e,t){var o=e.offsets,n=o.popper,i=o.reference,r=$,p=function(e){return e},s=r(i.width),d=r(n.width),a=-1!==['left','right'].indexOf(e.placement),l=-1!==e.placement.indexOf('-'),f=t?a||l||s%2==d%2?r:Z:p,m=t?r:p;return{left:f(1==s%2&&1==d%2&&!l&&t?n.left-1:n.left),top:m(n.top),bottom:m(n.bottom),right:f(n.right)}}function K(e,t,o){var n=D(e,function(e){var o=e.name;return o===t}),i=!!n&&e.some(function(e){return e.name===o&&e.enabled&&e.order<n.order});if(!i){var r='`'+t+'`';console.warn('`'+o+'`'+' modifier is required by '+r+' modifier in order to work, be sure to include it before '+r+'!')}return i}function z(e){return'end'===e?'start':'start'===e?'end':e}function G(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=he.indexOf(e),n=he.slice(o+1).concat(he.slice(0,o));return t?n.reverse():n}function _(e,t,o,n){var i=e.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/),r=+i[1],p=i[2];if(!r)return e;if(0===p.indexOf('%')){var s;switch(p){case'%p':s=o;break;case'%':case'%r':default:s=n;}var d=g(s);return d[t]/100*r}if('vh'===p||'vw'===p){var a;return a='vh'===p?ee(document.documentElement.clientHeight,window.innerHeight||0):ee(document.documentElement.clientWidth,window.innerWidth||0),a/100*r}return r}function X(e,t,o,n){var i=[0,0],r=-1!==['right','left'].indexOf(n),p=e.split(/(\\+|\\-)/).map(function(e){return e.trim()}),s=p.indexOf(D(p,function(e){return-1!==e.search(/,|\\s/)}));p[s]&&-1===p[s].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var d=/\\s*,\\s*|\\s+/,a=-1===s?[p]:[p.slice(0,s).concat([p[s].split(d)[0]]),[p[s].split(d)[1]].concat(p.slice(s+1))];return a=a.map(function(e,n){var i=(1===n?!r:r)?'height':'width',p=!1;return e.reduce(function(e,t){return''===e[e.length-1]&&-1!==['+','-'].indexOf(t)?(e[e.length-1]=t,p=!0,e):p?(e[e.length-1]+=t,p=!1,e):e.concat(t)},[]).map(function(e){return _(e,i,t,o)})}),a.forEach(function(e,t){e.forEach(function(o,n){Y(o)&&(i[t]+=o*('-'===e[n-1]?-1:1))})}),i}function J(e,t){var o,n=t.offset,i=e.placement,r=e.offsets,p=r.popper,s=r.reference,d=i.split('-')[0];return o=Y(+n)?[+n,0]:X(n,p,s,d),'left'===d?(p.top+=o[0],p.left-=o[1]):'right'===d?(p.top+=o[0],p.left+=o[1]):'top'===d?(p.left+=o[0],p.top-=o[1]):'bottom'===d&&(p.left+=o[0],p.top+=o[1]),e.popper=p,e}var Q=Math.min,Z=Math.floor,$=Math.round,ee=Math.max,te='undefined'!=typeof window&&'undefined'!=typeof document&&'undefined'!=typeof navigator,oe=function(){for(var e=['Edge','Trident','Firefox'],t=0;t<e.length;t+=1)if(te&&0<=navigator.userAgent.indexOf(e[t]))return 1;return 0}(),ne=te&&window.Promise,ie=ne?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},oe))}},re=te&&!!(window.MSInputMethodContext&&document.documentMode),pe=te&&/MSIE 10/.test(navigator.userAgent),se=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},de=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),ae=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},le=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},fe=te&&/Firefox/i.test(navigator.userAgent),me=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],he=me.slice(3),ce={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},ge=function(){function t(o,n){var i=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};se(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=ie(this.update.bind(this)),this.options=le({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=o&&o.jquery?o[0]:o,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(le({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=le({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return le({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var p=this.options.eventsEnabled;p&&this.enableEventListeners(),this.state.eventsEnabled=p}return de(t,[{key:'update',value:function(){return k.call(this)}},{key:'destroy',value:function(){return H.call(this)}},{key:'enableEventListeners',value:function(){return I.call(this)}},{key:'disableEventListeners',value:function(){return U.call(this)}}]),t}();return ge.Utils=('undefined'==typeof window?global:window).PopperUtils,ge.placements=me,ge.Defaults={placement:'bottom',positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split('-')[0],n=t.split('-')[1];if(n){var i=e.offsets,r=i.reference,p=i.popper,s=-1!==['bottom','top'].indexOf(o),d=s?'left':'top',a=s?'width':'height',l={start:ae({},d,r[d]),end:ae({},d,r[d]+r[a]-p[a])};e.offsets.popper=le({},p,l[n])}return e}},offset:{order:200,enabled:!0,fn:J,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||p(e.instance.popper);e.instance.reference===o&&(o=p(o));var n=B('transform'),i=e.instance.popper.style,r=i.top,s=i.left,d=i[n];i.top='',i.left='',i[n]='';var a=v(e.instance.popper,e.instance.reference,t.padding,o,e.positionFixed);i.top=r,i.left=s,i[n]=d,t.boundaries=a;var l=t.priority,f=e.offsets.popper,m={primary:function(e){var o=f[e];return f[e]<a[e]&&!t.escapeWithReference&&(o=ee(f[e],a[e])),ae({},e,o)},secondary:function(e){var o='right'===e?'left':'top',n=f[o];return f[e]>a[e]&&!t.escapeWithReference&&(n=Q(f[o],a[e]-('right'===e?f.width:f.height))),ae({},o,n)}};return l.forEach(function(e){var t=-1===['left','top'].indexOf(e)?'secondary':'primary';f=le({},f,m[t](e))}),e.offsets.popper=f,e},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,n=t.reference,i=e.placement.split('-')[0],r=Z,p=-1!==['top','bottom'].indexOf(i),s=p?'right':'bottom',d=p?'left':'top',a=p?'width':'height';return o[s]<r(n[d])&&(e.offsets.popper[d]=r(n[d])-o[a]),o[d]>r(n[s])&&(e.offsets.popper[d]=r(n[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,o){var n;if(!K(e.instance.modifiers,'arrow','keepTogether'))return e;var i=o.element;if('string'==typeof i){if(i=e.instance.popper.querySelector(i),!i)return e;}else if(!e.instance.popper.contains(i))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),e;var r=e.placement.split('-')[0],p=e.offsets,s=p.popper,d=p.reference,a=-1!==['left','right'].indexOf(r),l=a?'height':'width',f=a?'Top':'Left',m=f.toLowerCase(),h=a?'left':'top',c=a?'bottom':'right',u=S(i)[l];d[c]-u<s[m]&&(e.offsets.popper[m]-=s[m]-(d[c]-u)),d[m]+u>s[c]&&(e.offsets.popper[m]+=d[m]+u-s[c]),e.offsets.popper=g(e.offsets.popper);var b=d[m]+d[l]/2-u/2,w=t(e.instance.popper),y=parseFloat(w['margin'+f]),E=parseFloat(w['border'+f+'Width']),v=b-e.offsets.popper[m]-y-E;return v=ee(Q(s[l]-u,v),0),e.arrowElement=i,e.offsets.arrow=(n={},ae(n,m,$(v)),ae(n,h,''),n),e},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(e,t){if(W(e.instance.modifiers,'inner'))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=v(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),n=e.placement.split('-')[0],i=T(n),r=e.placement.split('-')[1]||'',p=[];switch(t.behavior){case ce.FLIP:p=[n,i];break;case ce.CLOCKWISE:p=G(n);break;case ce.COUNTERCLOCKWISE:p=G(n,!0);break;default:p=t.behavior;}return p.forEach(function(s,d){if(n!==s||p.length===d+1)return e;n=e.placement.split('-')[0],i=T(n);var a=e.offsets.popper,l=e.offsets.reference,f=Z,m='left'===n&&f(a.right)>f(l.left)||'right'===n&&f(a.left)<f(l.right)||'top'===n&&f(a.bottom)>f(l.top)||'bottom'===n&&f(a.top)<f(l.bottom),h=f(a.left)<f(o.left),c=f(a.right)>f(o.right),g=f(a.top)<f(o.top),u=f(a.bottom)>f(o.bottom),b='left'===n&&h||'right'===n&&c||'top'===n&&g||'bottom'===n&&u,w=-1!==['top','bottom'].indexOf(n),y=!!t.flipVariations&&(w&&'start'===r&&h||w&&'end'===r&&c||!w&&'start'===r&&g||!w&&'end'===r&&u),E=!!t.flipVariationsByContent&&(w&&'start'===r&&c||w&&'end'===r&&h||!w&&'start'===r&&u||!w&&'end'===r&&g),v=y||E;(m||b||v)&&(e.flipped=!0,(m||b)&&(n=p[d+1]),v&&(r=z(r)),e.placement=n+(r?'-'+r:''),e.offsets.popper=le({},e.offsets.popper,C(e.instance.popper,e.offsets.reference,e.placement)),e=P(e.instance.modifiers,e,'flip'))}),e},behavior:'flip',padding:5,boundariesElement:'viewport',flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split('-')[0],n=e.offsets,i=n.popper,r=n.reference,p=-1!==['left','right'].indexOf(o),s=-1===['top','left'].indexOf(o);return i[p?'left':'top']=r[o]-(s?i[p?'width':'height']:0),e.placement=T(t),e.offsets.popper=g(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,'hide','preventOverflow'))return e;var t=e.offsets.reference,o=D(e.instance.modifiers,function(e){return'preventOverflow'===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes['x-out-of-boundaries']=''}else{if(!1===e.hide)return e;e.hide=!1,e.attributes['x-out-of-boundaries']=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,n=t.y,i=e.offsets.popper,r=D(e.instance.modifiers,function(e){return'applyStyle'===e.name}).gpuAcceleration;void 0!==r&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var s,d,a=void 0===r?t.gpuAcceleration:r,l=p(e.instance.popper),f=u(l),m={position:i.position},h=q(e,2>window.devicePixelRatio||!fe),c='bottom'===o?'top':'bottom',g='right'===n?'left':'right',b=B('transform');if(d='bottom'==c?'HTML'===l.nodeName?-l.clientHeight+h.bottom:-f.height+h.bottom:h.top,s='right'==g?'HTML'===l.nodeName?-l.clientWidth+h.right:-f.width+h.right:h.left,a&&b)m[b]='translate3d('+s+'px, '+d+'px, 0)',m[c]=0,m[g]=0,m.willChange='transform';else{var w='bottom'==c?-1:1,y='right'==g?-1:1;m[c]=d*w,m[g]=s*y,m.willChange=c+', '+g}var E={\"x-placement\":e.placement};return e.attributes=le({},E,e.attributes),e.styles=le({},m,e.styles),e.arrowStyles=le({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(e){return V(e.instance.popper,e.styles),j(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&V(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,o,n,i){var r=L(i,t,e,o.positionFixed),p=O(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute('x-placement',p),V(t,{position:o.positionFixed?'fixed':'absolute'}),o},gpuAcceleration:void 0}}},ge});\n","/*! rangeslider.js - v2.3.2 | (c) 2018 @andreruffert | MIT license | https://github.com/andreruffert/rangeslider.js */\n!function(a){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],a):\"object\"==typeof exports?module.exports=a(require(\"jquery\")):a(jQuery)}(function(a){\"use strict\";function b(){var a=document.createElement(\"input\");return a.setAttribute(\"type\",\"range\"),\"text\"!==a.type}function c(a,b){var c=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)}function d(a,b){return b=b||100,function(){if(!a.debouncing){var c=Array.prototype.slice.apply(arguments);a.lastReturnVal=a.apply(window,c),a.debouncing=!0}return clearTimeout(a.debounceTimeout),a.debounceTimeout=setTimeout(function(){a.debouncing=!1},b),a.lastReturnVal}}function e(a){return a&&(0===a.offsetWidth||0===a.offsetHeight||!1===a.open)}function f(a){for(var b=[],c=a.parentNode;e(c);)b.push(c),c=c.parentNode;return b}function g(a,b){function c(a){void 0!==a.open&&(a.open=!a.open)}var d=f(a),e=d.length,g=[],h=a[b];if(e){for(var i=0;i<e;i++)g[i]=d[i].style.cssText,d[i].style.setProperty?d[i].style.setProperty(\"display\",\"block\",\"important\"):d[i].style.cssText+=\";display: block !important\",d[i].style.height=\"0\",d[i].style.overflow=\"hidden\",d[i].style.visibility=\"hidden\",c(d[i]);h=a[b];for(var j=0;j<e;j++)d[j].style.cssText=g[j],c(d[j])}return h}function h(a,b){var c=parseFloat(a);return Number.isNaN(c)?b:c}function i(a){return a.charAt(0).toUpperCase()+a.substr(1)}function j(b,e){if(this.$window=a(window),this.$document=a(document),this.$element=a(b),this.options=a.extend({},n,e),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute(\"data-orientation\")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=o.orientation[this.orientation].dimension,this.DIRECTION=o.orientation[this.orientation].direction,this.DIRECTION_STYLE=o.orientation[this.orientation].directionStyle,this.COORDINATE=o.orientation[this.orientation].coordinate,this.polyfill&&m)return!1;this.identifier=\"js-\"+k+\"-\"+l++,this.startEvent=this.options.startEvent.join(\".\"+this.identifier+\" \")+\".\"+this.identifier,this.moveEvent=this.options.moveEvent.join(\".\"+this.identifier+\" \")+\".\"+this.identifier,this.endEvent=this.options.endEvent.join(\".\"+this.identifier+\" \")+\".\"+this.identifier,this.toFixed=(this.step+\"\").replace(\".\",\"\").length-1,this.$fill=a('<div class=\"'+this.options.fillClass+'\" />'),this.$handle=a('<div class=\"'+this.options.handleClass+'\" />'),this.$range=a('<div class=\"'+this.options.rangeClass+\" \"+this.options[this.orientation+\"Class\"]+'\" id=\"'+this.identifier+'\" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:\"absolute\",width:\"1px\",height:\"1px\",overflow:\"hidden\",opacity:\"0\"}),this.handleDown=a.proxy(this.handleDown,this),this.handleMove=a.proxy(this.handleMove,this),this.handleEnd=a.proxy(this.handleEnd,this),this.init();var f=this;this.$window.on(\"resize.\"+this.identifier,d(function(){c(function(){f.update(!1,!1)},300)},20)),this.$document.on(this.startEvent,\"#\"+this.identifier+\":not(.\"+this.options.disabledClass+\")\",this.handleDown),this.$element.on(\"change.\"+this.identifier,function(a,b){if(!b||b.origin!==f.identifier){var c=a.target.value,d=f.getPositionFromValue(c);f.setPosition(d)}})}Number.isNaN=Number.isNaN||function(a){return\"number\"==typeof a&&a!==a};var k=\"rangeslider\",l=0,m=b(),n={polyfill:!0,orientation:\"horizontal\",rangeClass:\"rangeslider\",disabledClass:\"rangeslider--disabled\",activeClass:\"rangeslider--active\",horizontalClass:\"rangeslider--horizontal\",verticalClass:\"rangeslider--vertical\",fillClass:\"rangeslider__fill\",handleClass:\"rangeslider__handle\",startEvent:[\"mousedown\",\"touchstart\",\"pointerdown\"],moveEvent:[\"mousemove\",\"touchmove\",\"pointermove\"],endEvent:[\"mouseup\",\"touchend\",\"pointerup\"]},o={orientation:{horizontal:{dimension:\"width\",direction:\"left\",directionStyle:\"left\",coordinate:\"x\"},vertical:{dimension:\"height\",direction:\"top\",directionStyle:\"bottom\",coordinate:\"y\"}}};return j.prototype.init=function(){this.update(!0,!1),this.onInit&&\"function\"==typeof this.onInit&&this.onInit()},j.prototype.update=function(a,b){a=a||!1,a&&(this.min=h(this.$element[0].getAttribute(\"min\"),0),this.max=h(this.$element[0].getAttribute(\"max\"),100),this.value=h(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=h(this.$element[0].getAttribute(\"step\"),1)),this.handleDimension=g(this.$handle[0],\"offset\"+i(this.DIMENSION)),this.rangeDimension=g(this.$range[0],\"offset\"+i(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,b)},j.prototype.handleDown=function(a){if(a.preventDefault(),!(a.button&&0!==a.button||(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),(\" \"+a.target.className+\" \").replace(/[\\n\\t]/g,\" \").indexOf(this.options.handleClass)>-1))){var b=this.getRelativePosition(a),c=this.$range[0].getBoundingClientRect()[this.DIRECTION],d=this.getPositionFromNode(this.$handle[0])-c,e=\"vertical\"===this.orientation?this.maxHandlePos-(b-this.grabPos):b-this.grabPos;this.setPosition(e),b>=d&&b<d+this.handleDimension&&(this.grabPos=b-d)}},j.prototype.handleMove=function(a){a.preventDefault();var b=this.getRelativePosition(a),c=\"vertical\"===this.orientation?this.maxHandlePos-(b-this.grabPos):b-this.grabPos;this.setPosition(c)},j.prototype.handleEnd=function(a){a.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$range.removeClass(this.options.activeClass),this.$element.trigger(\"change\",{origin:this.identifier}),this.onSlideEnd&&\"function\"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},j.prototype.cap=function(a,b,c){return a<b?b:a>c?c:a},j.prototype.setPosition=function(a,b){var c,d;void 0===b&&(b=!0),c=this.getValueFromPosition(this.cap(a,0,this.maxHandlePos)),d=this.getPositionFromValue(c),this.$fill[0].style[this.DIMENSION]=d+this.grabPos+\"px\",this.$handle[0].style[this.DIRECTION_STYLE]=d+\"px\",this.setValue(c),this.position=d,this.value=c,b&&this.onSlide&&\"function\"==typeof this.onSlide&&this.onSlide(d,c)},j.prototype.getPositionFromNode=function(a){for(var b=0;null!==a;)b+=a.offsetLeft,a=a.offsetParent;return b},j.prototype.getRelativePosition=function(a){var b=i(this.COORDINATE),c=this.$range[0].getBoundingClientRect()[this.DIRECTION],d=0;return void 0!==a.originalEvent[\"client\"+b]?d=a.originalEvent[\"client\"+b]:a.originalEvent.touches&&a.originalEvent.touches[0]&&void 0!==a.originalEvent.touches[0][\"client\"+b]?d=a.originalEvent.touches[0][\"client\"+b]:a.currentPoint&&void 0!==a.currentPoint[this.COORDINATE]&&(d=a.currentPoint[this.COORDINATE]),d-c},j.prototype.getPositionFromValue=function(a){var b;return b=(a-this.min)/(this.max-this.min),Number.isNaN(b)?0:b*this.maxHandlePos},j.prototype.getValueFromPosition=function(a){var b,c;return b=a/(this.maxHandlePos||1),c=this.step*Math.round(b*(this.max-this.min)/this.step)+this.min,Number(c.toFixed(this.toFixed))},j.prototype.setValue=function(a){a===this.value&&\"\"!==this.$element[0].value||this.$element.val(a).trigger(\"input\",{origin:this.identifier})},j.prototype.destroy=function(){this.$document.off(\".\"+this.identifier),this.$window.off(\".\"+this.identifier),this.$element.off(\".\"+this.identifier).removeAttr(\"style\").removeData(\"plugin_\"+k),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},a.fn[k]=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),e=d.data(\"plugin_\"+k);e||d.data(\"plugin_\"+k,e=new j(this,b)),\"string\"==typeof b&&e[b].apply(e,c)})},\"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);\"});","/*!\n * Datepicker for Bootstrap v1.9.0 (https://github.com/uxsolutions/bootstrap-datepicker)\n *\n * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)\n */\n\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(\"object\"==typeof exports?require(\"jquery\"):jQuery)}(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a,b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}function f(c,d){return function(){return d!==b&&a.fn.datepicker.deprecated(d),this[c].apply(this,arguments)}}function g(a){return a&&!isNaN(a.getTime())}function h(b,c){function d(a,b){return b.toLowerCase()}var e,f=a(b).data(),g={},h=new RegExp(\"^\"+c.toLowerCase()+\"([A-Z])\");c=new RegExp(\"^\"+c.toLowerCase());for(var i in f)c.test(i)&&(e=i.replace(h,d),g[e]=f[i]);return g}function i(b){var c={};if(q[b]||(b=b.split(\"-\")[0],q[b])){var d=q[b];return a.each(p,function(a,b){b in d&&(c[b]=d[b])}),c}}var j=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;c<d;c++)if(0<=this[c].valueOf()-b&&this[c].valueOf()-b<864e5)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new j;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),k=function(b,c){a.data(b,\"datepicker\",this),this._events=[],this._secondaryEvents=[],this._process_options(c),this.dates=new j,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=a(b),this.isInput=this.element.is(\"input\"),this.inputField=this.isInput?this.element:this.element.find(\"input\"),this.component=!!this.element.hasClass(\"date\")&&this.element.find(\".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn\"),this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is(\"div\"),this.picker=a(r.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(\".prev\").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(\".next\").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass(\"datepicker-inline\").appendTo(this.element):this.picker.addClass(\"datepicker-dropdown dropdown-menu\"),this.o.rtl&&this.picker.addClass(\"datepicker-rtl\"),this.o.calendarWeeks&&this.picker.find(\".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear\").attr(\"colspan\",function(a,b){return Number(b)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(b){return a.each(r.viewModes,function(c,d){if(b===c||-1!==a.inArray(b,d.names))return b=c,!1}),b},_resolveDaysOfWeek:function(b){return a.isArray(b)||(b=b.split(/[,\\s]*/)),a.map(b,Number)},_check_template:function(c){try{if(c===b||\"\"===c)return!1;if((c.match(/[<>]/g)||[]).length<=0)return!0;return a(c).length>0}catch(a){return!1}},_process_options:function(b){this._o=a.extend({},this._o,b);var e=this.o=a.extend({},this._o),f=e.language;q[f]||(f=f.split(\"-\")[0],q[f]||(f=o.language)),e.language=f,e.startView=this._resolveViewName(e.startView),e.minViewMode=this._resolveViewName(e.minViewMode),e.maxViewMode=this._resolveViewName(e.maxViewMode),e.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,e.startView)),!0!==e.multidate&&(e.multidate=Number(e.multidate)||!1,!1!==e.multidate&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var g=r.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=r.parseDate(e.startDate,g,e.language,e.assumeNearbyYear):e.startDate=-1/0),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=r.parseDate(e.endDate,g,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=this._resolveDaysOfWeek(e.daysOfWeekDisabled||[]),e.daysOfWeekHighlighted=this._resolveDaysOfWeek(e.daysOfWeekHighlighted||[]),e.datesDisabled=e.datesDisabled||[],a.isArray(e.datesDisabled)||(e.datesDisabled=e.datesDisabled.split(\",\")),e.datesDisabled=a.map(e.datesDisabled,function(a){return r.parseDate(a,g,e.language,e.assumeNearbyYear)});var h=String(e.orientation).toLowerCase().split(/\\s+/g),i=e.orientation.toLowerCase();if(h=a.grep(h,function(a){return/^auto|left|right|top|bottom$/.test(a)}),e.orientation={x:\"auto\",y:\"auto\"},i&&\"auto\"!==i)if(1===h.length)switch(h[0]){case\"top\":case\"bottom\":e.orientation.y=h[0];break;case\"left\":case\"right\":e.orientation.x=h[0]}else i=a.grep(h,function(a){return/^left|right$/.test(a)}),e.orientation.x=i[0]||\"auto\",i=a.grep(h,function(a){return/^top|bottom$/.test(a)}),e.orientation.y=i[0]||\"auto\";else;if(e.defaultViewDate instanceof Date||\"string\"==typeof e.defaultViewDate)e.defaultViewDate=r.parseDate(e.defaultViewDate,g,e.language,e.assumeNearbyYear);else if(e.defaultViewDate){var j=e.defaultViewDate.year||(new Date).getFullYear(),k=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=c(j,k,l)}else e.defaultViewDate=d()},_applyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(d=b,e=a[f][1]):3===a[f].length&&(d=a[f][1],e=a[f][2]),c.on(e,d)},_unapplyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(e=b,d=a[f][1]):3===a[f].length&&(e=a[f][1],d=a[f][2]),c.off(d,e)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};!0===this.o.showOnFocus&&(b.focus=a.proxy(this.show,this)),this.isInput?this._events=[[this.element,b]]:this.component&&this.inputField.length?this._events=[[this.inputField,b],[this.component,{click:a.proxy(this.show,this)}]]:this._events=[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]],this._events.push([this.element,\"*\",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{\"changeYear changeMonth\":a.proxy(function(a){this.update(a.date)},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[this.picker,\".prev, .next\",{click:a.proxy(this.navArrowsClick,this)}],[this.picker,\".day:not(.disabled)\",{click:a.proxy(this.dayCellClick,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{\"mousedown touchstart\":a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,viewMode:this.viewMode,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):\"string\"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return r.formatDate(c,b,this.o.language)},this)})},show:function(){if(!(this.inputField.is(\":disabled\")||this.inputField.prop(\"readonly\")&&!1===this.o.enableOnReadonly))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger(\"show\"),(window.navigator.msMaxTouchPoints||\"ontouchstart\"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(\":visible\")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger(\"hide\"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray(\"text/plain\",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData(\"text/plain\");else{if(!window.clipboardData)return;c=window.clipboardData.getData(\"Text\")}this.setDate(c),this.update(),b.preventDefault()},_utc_to_local:function(a){if(!a)return a;var b=new Date(a.getTime()+6e4*a.getTimezoneOffset());return b.getTimezoneOffset()!==a.getTimezoneOffset()&&(b=new Date(a.getTime()+6e4*b.getTimezoneOffset())),b},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&c(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return a!==b?new Date(a):null},clearDates:function(){this.inputField.val(\"\"),this.update(),this._trigger(\"changeDate\"),this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,b),this._trigger(\"changeDate\"),this.setValue(),this},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,a.map(b,this._utc_to_local)),this},setDate:f(\"setDates\"),setUTCDate:f(\"setUTCDates\"),remove:f(\"destroy\",\"Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead\"),setValue:function(){var a=this.getFormattedDate();return this.inputField.val(a),this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return r.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(a){return this._process_options({startDate:a}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){return this._process_options({endDate:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return this._process_options({daysOfWeekDisabled:a}),this.update(),this},setDaysOfWeekHighlighted:function(a){return this._process_options({daysOfWeekHighlighted:a}),this.update(),this},setDatesDisabled:function(a){return this._process_options({datesDisabled:a}),this.update(),this},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=a(this.o.container),e=d.width(),f=\"body\"===this.o.container?a(document).scrollTop():d.scrollTop(),g=d.offset(),h=[0];this.element.parents().each(function(){var b=a(this).css(\"z-index\");\"auto\"!==b&&0!==Number(b)&&h.push(Number(b))});var i=Math.max.apply(Math,h)+this.o.zIndexOffset,j=this.component?this.component.parent().offset():this.element.offset(),k=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),l=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),m=j.left-g.left,n=j.top-g.top;\"body\"!==this.o.container&&(n+=f),this.picker.removeClass(\"datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left\"),\"auto\"!==this.o.orientation.x?(this.picker.addClass(\"datepicker-orient-\"+this.o.orientation.x),\"right\"===this.o.orientation.x&&(m-=b-l)):j.left<0?(this.picker.addClass(\"datepicker-orient-left\"),m-=j.left-10):m+b>e?(this.picker.addClass(\"datepicker-orient-right\"),m+=l-b):this.o.rtl?this.picker.addClass(\"datepicker-orient-right\"):this.picker.addClass(\"datepicker-orient-left\");var o,p=this.o.orientation.y;if(\"auto\"===p&&(o=-f+n-c,p=o<0?\"bottom\":\"top\"),this.picker.addClass(\"datepicker-orient-\"+p),\"top\"===p?n-=c+parseInt(this.picker.css(\"padding-top\")):n+=k,this.o.rtl){var q=e-(m+l);this.picker.css({top:n,right:q,zIndex:i})}else this.picker.css({top:n,left:m,zIndex:i});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var b=this.dates.copy(),c=[],d=!1;return arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data(\"date\")||this.inputField.val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return r.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||!a},this),!0),this.dates.replace(c),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),d?(this.setValue(),this.element.change()):this.dates.length&&String(b)!==String(this.dates)&&d&&(this._trigger(\"changeDate\"),this.element.change()),!this.dates.length&&b.length&&(this._trigger(\"clearDate\"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var b=this.o.weekStart,c=\"<tr>\";for(this.o.calendarWeeks&&(c+='<th class=\"cw\">&#160;</th>');b<this.o.weekStart+7;)c+='<th class=\"dow',-1!==a.inArray(b,this.o.daysOfWeekDisabled)&&(c+=\" disabled\"),c+='\">'+q[this.o.language].daysMin[b++%7]+\"</th>\";c+=\"</tr>\",this.picker.find(\".datepicker-days thead\").append(c)}},fillMonths:function(){for(var a,b=this._utc_to_local(this.viewDate),c=\"\",d=0;d<12;d++)a=b&&b.getMonth()===d?\" focused\":\"\",c+='<span class=\"month'+a+'\">'+q[this.o.language].monthsShort[d]+\"</span>\";this.picker.find(\".datepicker-months td\").html(c)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],f=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),h=d();return b.getUTCFullYear()<f||b.getUTCFullYear()===f&&b.getUTCMonth()<g?c.push(\"old\"):(b.getUTCFullYear()>f||b.getUTCFullYear()===f&&b.getUTCMonth()>g)&&c.push(\"new\"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push(\"focused\"),this.o.todayHighlight&&e(b,h)&&c.push(\"today\"),-1!==this.dates.contains(b)&&c.push(\"active\"),this.dateWithinRange(b)||c.push(\"disabled\"),this.dateIsDisabled(b)&&c.push(\"disabled\",\"disabled-date\"),-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push(\"highlighted\"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push(\"range\"),-1!==a.inArray(b.valueOf(),this.range)&&c.push(\"selected\"),b.valueOf()===this.range[0]&&c.push(\"range-start\"),b.valueOf()===this.range[this.range.length-1]&&c.push(\"range-end\")),c},_fill_yearsView:function(c,d,e,f,g,h,i){for(var j,k,l,m=\"\",n=e/10,o=this.picker.find(c),p=Math.floor(f/e)*e,q=p+9*n,r=Math.floor(this.viewDate.getFullYear()/n)*n,s=a.map(this.dates,function(a){return Math.floor(a.getUTCFullYear()/n)*n}),t=p-n;t<=q+n;t+=n)j=[d],k=null,t===p-n?j.push(\"old\"):t===q+n&&j.push(\"new\"),-1!==a.inArray(t,s)&&j.push(\"active\"),(t<g||t>h)&&j.push(\"disabled\"),t===r&&j.push(\"focused\"),i!==a.noop&&(l=i(new Date(t,0,1)),l===b?l={}:\"boolean\"==typeof l?l={enabled:l}:\"string\"==typeof l&&(l={classes:l}),!1===l.enabled&&j.push(\"disabled\"),l.classes&&(j=j.concat(l.classes.split(/\\s+/))),l.tooltip&&(k=l.tooltip)),m+='<span class=\"'+j.join(\" \")+'\"'+(k?' title=\"'+k+'\"':\"\")+\">\"+t+\"</span>\";o.find(\".datepicker-switch\").text(p+\"-\"+q),o.find(\"td\").html(m)},fill:function(){var e,f,g=new Date(this.viewDate),h=g.getUTCFullYear(),i=g.getUTCMonth(),j=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,k=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,m=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,n=q[this.o.language].today||q.en.today||\"\",o=q[this.o.language].clear||q.en.clear||\"\",p=q[this.o.language].titleFormat||q.en.titleFormat,s=d(),t=(!0===this.o.todayBtn||\"linked\"===this.o.todayBtn)&&s>=this.o.startDate&&s<=this.o.endDate&&!this.weekOfDateIsDisabled(s);if(!isNaN(h)&&!isNaN(i)){this.picker.find(\".datepicker-days .datepicker-switch\").text(r.formatDate(g,p,this.o.language)),this.picker.find(\"tfoot .today\").text(n).css(\"display\",t?\"table-cell\":\"none\"),this.picker.find(\"tfoot .clear\").text(o).css(\"display\",!0===this.o.clearBtn?\"table-cell\":\"none\"),this.picker.find(\"thead .datepicker-title\").text(this.o.title).css(\"display\",\"string\"==typeof this.o.title&&\"\"!==this.o.title?\"table-cell\":\"none\"),this.updateNavArrows(),this.fillMonths();var u=c(h,i,0),v=u.getUTCDate();u.setUTCDate(v-(u.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(u);u.getUTCFullYear()<100&&w.setUTCFullYear(u.getUTCFullYear()),w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var x,y,z=[];u.valueOf()<w;){if((x=u.getUTCDay())===this.o.weekStart&&(z.push(\"<tr>\"),this.o.calendarWeeks)){var A=new Date(+u+(this.o.weekStart-x-7)%7*864e5),B=new Date(Number(A)+(11-A.getUTCDay())%7*864e5),C=new Date(Number(C=c(B.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),D=(B-C)/864e5/7+1;z.push('<td class=\"cw\">'+D+\"</td>\")}y=this.getClassNames(u),y.push(\"day\");var E=u.getUTCDate();this.o.beforeShowDay!==a.noop&&(f=this.o.beforeShowDay(this._utc_to_local(u)),f===b?f={}:\"boolean\"==typeof f?f={enabled:f}:\"string\"==typeof f&&(f={classes:f}),!1===f.enabled&&y.push(\"disabled\"),f.classes&&(y=y.concat(f.classes.split(/\\s+/))),f.tooltip&&(e=f.tooltip),f.content&&(E=f.content)),y=a.isFunction(a.uniqueSort)?a.uniqueSort(y):a.unique(y),z.push('<td class=\"'+y.join(\" \")+'\"'+(e?' title=\"'+e+'\"':\"\")+' data-date=\"'+u.getTime().toString()+'\">'+E+\"</td>\"),e=null,x===this.o.weekEnd&&z.push(\"</tr>\"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(\".datepicker-days tbody\").html(z.join(\"\"));var F=q[this.o.language].monthsTitle||q.en.monthsTitle||\"Months\",G=this.picker.find(\".datepicker-months\").find(\".datepicker-switch\").text(this.o.maxViewMode<2?F:h).end().find(\"tbody span\").removeClass(\"active\");if(a.each(this.dates,function(a,b){b.getUTCFullYear()===h&&G.eq(b.getUTCMonth()).addClass(\"active\")}),(h<j||h>l)&&G.addClass(\"disabled\"),h===j&&G.slice(0,k).addClass(\"disabled\"),h===l&&G.slice(m+1).addClass(\"disabled\"),this.o.beforeShowMonth!==a.noop){var H=this;a.each(G,function(c,d){var e=new Date(h,c,1),f=H.o.beforeShowMonth(e);f===b?f={}:\"boolean\"==typeof f?f={enabled:f}:\"string\"==typeof f&&(f={classes:f}),!1!==f.enabled||a(d).hasClass(\"disabled\")||a(d).addClass(\"disabled\"),f.classes&&a(d).addClass(f.classes),f.tooltip&&a(d).prop(\"title\",f.tooltip)})}this._fill_yearsView(\".datepicker-years\",\"year\",10,h,j,l,this.o.beforeShowYear),this._fill_yearsView(\".datepicker-decades\",\"decade\",100,h,j,l,this.o.beforeShowDecade),this._fill_yearsView(\".datepicker-centuries\",\"century\",1e3,h,j,l,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a,b,c=new Date(this.viewDate),d=c.getUTCFullYear(),e=c.getUTCMonth(),f=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,g=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,i=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,j=1;switch(this.viewMode){case 4:j*=10;case 3:j*=10;case 2:j*=10;case 1:a=Math.floor(d/j)*j<=f,b=Math.floor(d/j)*j+j>h;break;case 0:a=d<=f&&e<=g,b=d>=h&&e>=i}this.picker.find(\".prev\").toggleClass(\"disabled\",a),this.picker.find(\".next\").toggleClass(\"disabled\",b)}},click:function(b){b.preventDefault(),b.stopPropagation();var e,f,g,h;e=a(b.target),e.hasClass(\"datepicker-switch\")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),e.hasClass(\"today\")&&!e.hasClass(\"day\")&&(this.setViewMode(0),this._setDate(d(),\"linked\"===this.o.todayBtn?null:\"view\")),e.hasClass(\"clear\")&&this.clearDates(),e.hasClass(\"disabled\")||(e.hasClass(\"month\")||e.hasClass(\"year\")||e.hasClass(\"decade\")||e.hasClass(\"century\"))&&(this.viewDate.setUTCDate(1),f=1,1===this.viewMode?(h=e.parent().find(\"span\").index(e),g=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(h)):(h=0,g=Number(e.text()),this.viewDate.setUTCFullYear(g)),this._trigger(r.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(c(g,h,f)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(\":visible\")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(b){var c=a(b.currentTarget),d=c.data(\"date\"),e=new Date(d);this.o.updateViewDate&&(e.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger(\"changeYear\",this.viewDate),e.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger(\"changeMonth\",this.viewDate)),this._setDate(e)},navArrowsClick:function(b){var c=a(b.currentTarget),d=c.hasClass(\"prev\")?-1:1;0!==this.viewMode&&(d*=12*r.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,d),this._trigger(r.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a||this.dates.clear(),-1!==b?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(b):!1===this.o.multidate?(this.dates.clear(),this.dates.push(a)):this.dates.push(a),\"number\"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&\"date\"!==b||this._toggle_multidate(a&&new Date(a)),(!b&&this.o.updateViewDate||\"view\"===b)&&(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),b&&\"view\"===b||this._trigger(\"changeDate\"),this.inputField.trigger(\"change\"),!this.o.autoclose||b&&\"date\"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);return c.setUTCDate(a.getUTCDate()+b),c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!g(a))return this.o.defaultViewDate;if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),h=e.getUTCMonth(),i=Math.abs(b);if(b=b>0?1:-1,1===i)d=-1===b?function(){return e.getUTCMonth()===h}:function(){return e.getUTCMonth()!==c},c=h+b,e.setUTCMonth(c),c=(c+12)%12;else{for(var j=0;j<i;j++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!==e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{if(a=this[c](a,b),!this.dateWithinRange(a))return!1;c=\"moveDay\"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||a.grep(this.o.datesDisabled,function(a){return e(b,a)}).length>0},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(!this.picker.is(\":visible\"))return void(40!==a.keyCode&&27!==a.keyCode||(this.show(),a.stopPropagation()));var b,c,d=!1,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault(),a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;b=37===a.keyCode||38===a.keyCode?-1:1,0===this.viewMode?a.ctrlKey?(c=this.moveAvailableDate(e,b,\"moveYear\"))&&this._trigger(\"changeYear\",this.viewDate):a.shiftKey?(c=this.moveAvailableDate(e,b,\"moveMonth\"))&&this._trigger(\"changeMonth\",this.viewDate):37===a.keyCode||39===a.keyCode?c=this.moveAvailableDate(e,b,\"moveDay\"):this.weekOfDateIsDisabled(e)||(c=this.moveAvailableDate(e,b,\"moveWeek\")):1===this.viewMode?(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,\"moveMonth\")):2===this.viewMode&&(38!==a.keyCode&&40!==a.keyCode||(b*=4),c=this.moveAvailableDate(e,b,\"moveYear\")),c&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;e=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(e),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(\":visible\")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger(\"changeDate\"):this._trigger(\"clearDate\"),this.inputField.trigger(\"change\"))},setViewMode:function(a){this.viewMode=a,this.picker.children(\"div\").hide().filter(\".datepicker-\"+r.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger(\"changeViewMode\",new Date(this.viewDate))}};var l=function(b,c){a.data(b,\"datepicker\",this),this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,this.keepEmptyValues=c.keepEmptyValues,delete c.keepEmptyValues,n.call(a(this.inputs),c).on(\"changeDate\",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a.data(b,\"datepicker\")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},clearDates:function(){a.each(this.pickers,function(a,b){b.clearDates()})},dateUpdated:function(c){if(!this.updating){this.updating=!0;var d=a.data(c.target,\"datepicker\");if(d!==b){var e=d.getUTCDate(),f=this.keepEmptyValues,g=a.inArray(c.target,this.inputs),h=g-1,i=g+1,j=this.inputs.length;if(-1!==g){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b!==d&&f||b.setUTCDate(e)}),e<this.dates[h])for(;h>=0&&e<this.dates[h];)this.pickers[h--].setUTCDate(e);else if(e>this.dates[i])for(;i<j&&e>this.dates[i];)this.pickers[i++].setUTCDate(e);this.updateDates(),delete this.updating}}}},destroy:function(){a.map(this.pickers,function(a){a.destroy()}),a(this.inputs).off(\"changeDate\",this.dateUpdated),delete this.element.data().datepicker},remove:f(\"destroy\",\"Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead\")};var m=a.fn.datepicker,n=function(c){var d=Array.apply(null,arguments);d.shift();var e;if(this.each(function(){var b=a(this),f=b.data(\"datepicker\"),g=\"object\"==typeof c&&c;if(!f){var j=h(this,\"date\"),m=a.extend({},o,j,g),n=i(m.language),p=a.extend({},o,n,j,g);b.hasClass(\"input-daterange\")||p.inputs?(a.extend(p,{inputs:p.inputs||b.find(\"input\").toArray()}),f=new l(this,p)):f=new k(this,p),b.data(\"datepicker\",f)}\"string\"==typeof c&&\"function\"==typeof f[c]&&(e=f[c].apply(f,d))}),e===b||e instanceof k||e instanceof l)return this;if(this.length>1)throw new Error(\"Using only allowed for the collection of a single element (\"+c+\" function)\");return e};a.fn.datepicker=n;var o=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:\"mm/dd/yyyy\",keepEmptyValues:!1,keyboardNavigation:!0,language:\"en\",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:\",\",orientation:\"auto\",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:\"body\",immediateUpdates:!1,title:\"\",templates:{leftArrow:\"&#x00AB;\",rightArrow:\"&#x00BB;\"},showWeekDays:!0},p=a.fn.datepicker.locale_opts=[\"format\",\"rtl\",\"weekStart\"];a.fn.datepicker.Constructor=k;var q=a.fn.datepicker.dates={en:{days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],daysShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],daysMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthsShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],today:\"Today\",clear:\"Clear\",titleFormat:\"MM yyyy\"}},r={viewModes:[{names:[\"days\",\"month\"],clsName:\"days\",e:\"changeMonth\"},{names:[\"months\",\"year\"],clsName:\"months\",e:\"changeYear\",navStep:1},{names:[\"years\",\"decade\"],clsName:\"years\",e:\"changeDecade\",navStep:10},{names:[\"decades\",\"century\"],clsName:\"decades\",e:\"changeCentury\",navStep:100},{names:[\"centuries\",\"millennium\"],clsName:\"centuries\",e:\"changeMillennium\",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\\/:-@\\u5e74\\u6708\\u65e5\\[-`{-~\\t\\n\\r]+/g,parseFormat:function(a){if(\"function\"==typeof a.toValue&&\"function\"==typeof a.toDisplay)return a;var b=a.replace(this.validParts,\"\\0\").split(\"\\0\"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error(\"Invalid date format.\");return{separators:b,parts:c}},parseDate:function(c,e,f,g){function h(a,b){return!0===b&&(b=10),a<100&&(a+=2e3)>(new Date).getFullYear()+b&&(a-=100),a}function i(){var a=this.slice(0,j[n].length),b=j[n].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!c)return b;if(c instanceof Date)return c;if(\"string\"==typeof e&&(e=r.parseFormat(e)),e.toValue)return e.toValue(c,e,f);var j,l,m,n,o,p={d:\"moveDay\",m:\"moveMonth\",w:\"moveWeek\",y:\"moveYear\"},s={yesterday:\"-1d\",today:\"+0d\",tomorrow:\"+1d\"};if(c in s&&(c=s[c]),/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/i.test(c)){for(j=c.match(/([\\-+]\\d+)([dmwy])/gi),c=new Date,n=0;n<j.length;n++)l=j[n].match(/([\\-+]\\d+)([dmwy])/i),m=Number(l[1]),o=p[l[2].toLowerCase()],c=k.prototype[o](c,m);return k.prototype._zero_utc_time(c)}j=c&&c.match(this.nonpunctuation)||[];var t,u,v={},w=[\"yyyy\",\"yy\",\"M\",\"MM\",\"m\",\"mm\",\"d\",\"dd\"],x={yyyy:function(a,b){return a.setUTCFullYear(g?h(b,g):b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;b<0;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};x.yy=x.yyyy,x.M=x.MM=x.mm=x.m,x.dd=x.d,c=d();var y=e.parts.slice();if(j.length!==y.length&&(y=a(y).filter(function(b,c){return-1!==a.inArray(c,w)}).toArray()),j.length===y.length){var z;for(n=0,z=y.length;n<z;n++){if(t=parseInt(j[n],10),l=y[n],isNaN(t))switch(l){case\"MM\":u=a(q[f].months).filter(i),t=a.inArray(u[0],q[f].months)+1;break;case\"M\":u=a(q[f].monthsShort).filter(i),t=a.inArray(u[0],q[f].monthsShort)+1}v[l]=t}var A,B;for(n=0;n<w.length;n++)(B=w[n])in v&&!isNaN(v[B])&&(A=new Date(c),x[B](A,v[B]),isNaN(A)||(c=A))}return c},formatDate:function(b,c,d){if(!b)return\"\";if(\"string\"==typeof c&&(c=r.parseFormat(c)),c.toDisplay)return c.toDisplay(b,c,d);var e={d:b.getUTCDate(),D:q[d].daysShort[b.getUTCDay()],DD:q[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:q[d].monthsShort[b.getUTCMonth()],MM:q[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?\"0\":\"\")+e.d,e.mm=(e.m<10?\"0\":\"\")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;g<=h;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join(\"\")},\nheadTemplate:'<thead><tr><th colspan=\"7\" class=\"datepicker-title\"></th></tr><tr><th class=\"prev\">'+o.templates.leftArrow+'</th><th colspan=\"5\" class=\"datepicker-switch\"></th><th class=\"next\">'+o.templates.rightArrow+\"</th></tr></thead>\",contTemplate:'<tbody><tr><td colspan=\"7\"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr><tr><th colspan=\"7\" class=\"clear\"></th></tr></tfoot>'};r.template='<div class=\"datepicker\"><div class=\"datepicker-days\"><table class=\"table-condensed\">'+r.headTemplate+\"<tbody></tbody>\"+r.footTemplate+'</table></div><div class=\"datepicker-months\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class=\"datepicker-years\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class=\"datepicker-decades\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class=\"datepicker-centuries\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+\"</table></div></div>\",a.fn.datepicker.DPGlobal=r,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=m,this},a.fn.datepicker.version=\"1.9.0\",a.fn.datepicker.deprecated=function(a){var b=window.console;b&&b.warn&&b.warn(\"DEPRECATED: \"+a)},a(document).on(\"focus.datepicker.data-api click.datepicker.data-api\",'[data-provide=\"datepicker\"]',function(b){var c=a(this);c.data(\"datepicker\")||(b.preventDefault(),n.call(c,\"show\"))}),a(function(){n.call(a('[data-provide=\"datepicker-inline\"]'))})});","!function(t){let e=function(t,e){return e=e||null,moment(t,e).locale(\"en\")};var o=t.fn.datepicker.noConflict();t.fn.megacalDatepicker=o,t.widget(\"mdb.eventCalendar\",{options:{showAdd:!0,showImage:!1,showLegends:!0,showTooltipActions:!0,showOwners:!1,sliderWidth:\"200px\",showSlider:!0,eventClass:\"height-36\",eventImageSize:\"square\",slider:{id:\"mega-toolbar-slider\",min:18,max:90,value:18,step:18},classes:{megaCalendarWrap:\"megaCalendarWrap\",\"mega-content\":\"mega-content\",\"mega-toolbar\":\"mega-toolbar\",\"mega-toolbar-add-event\":\"mega-toolbar-add-event\",\"mega-toolbar-select-month\":\"mega-toolbar-select-month\",\"mega-toolbar-prev\":\"mega-toolbar-prev\",\"mega-toolbar-next\":\"mega-toolbar-next\",\"mega-toolbar-month\":\"mega-toolbar-month\",\"mega-toolbar-slider\":\"mega-toolbar-slider\",\"mega-view\":\"mega-view\",\"mega-view-header\":\"mega-view-header\",\"mega-view-header-weekday\":\"mega-view-header-weekday\",\"mega-view-body\":\"mega-view-body\",\"mega-view-week\":\"mega-view-week\",\"mega-view-day\":\"mega-view-day\",\"mega-view-day-header\":\"mega-view-day-header\",\"mega-view-day-content\":\"mega-view-day-content\",\"mega-view-day-content-event\":\"mega-view-day-content-event\",\"mega-view-day-content-event-text\":\"mega-view-day-content-event-text\",\"mega-view-day-content-event-image\":\"mega-view-day-content-event-image\",\"mega-loading-animation\":\"mega-loading-animation\",\"mega-legend\":\"mega-legend\",\"mega-legend-header\":\"mega-legend-header\",\"mega-legend-body\":\"mega-legend-body\",\"mega-legend-items\":\"mega-legend-items\",\"mega-legend-item\":\"mega-legend-item\",\"mega-tooltip\":\"mega-tooltip\"},dateFormat:{toolbar:\"MMMM YYYY\",calendar:\"DD\",calendarFirst:\"MMM DD\",eventDate:\"MM-DD-YYYY\"},colorOverride:{eventBGColor:\"\",eventBGOpacity:\"\",eventTextColor:\"\",eventBorderColor:\"\",navigationBtnColor:\"\",navigationBtnTextColor:\"\"},timeFormat:\"HH:mm\",shortWeekdaysName:!0,loaderImageUrl:null,defaultEventImageUrl:null,calendarCreate:null,calendarAddEvent:null,calendarViewChange:null},showLoader:function(){this._removeClass(this.calendarLoader,\"mega-loading-animation\",\"hidden\")._addClass(this.calendarLoader,\"mega-loading-animation\",\"visible\")},hideLoader:function(){this.eventLoaderInterval&&clearInterval(this.eventLoaderInterval),void 0!==this.eventProcessingDone?this.eventLoaderInterval=setInterval(function(){!0===this.eventProcessingDone&&(clearInterval(this.eventLoaderInterval),this._hideLoader())}.bind(this),100):this._hideLoader()},showPopup:function(e){const o=this.events.filter((function(t){return t.attr(\"id\")===`event-${e}`}))[0];this._hideTooltip();const n=t(\"div.arrow-zone\",this.tooltip);n.hasClass(\"top\")&&this._removeClass(n,\"top\")._addClass(n,\"bottom\"),this.tooltip.show();const a=this.tooltip.find(\"div.megaToolContent\");this._removeClass(a,\"megaToolContent\",\"visible\")._addClass(a,\"megaToolContent\",\"hidden\");const i=this.tooltip.find(\"div.animation\");this._removeClass(i,\"animation\",\"hidden\")._addClass(i,\"animation\",\"visible\");const s=t=>{this._removeClass(n,\"top bottom\"),t.originalPlacement!==t.placement?this._addClass(n,t.placement):this._addClass(n,t.originalPlacement)},d={placement:\"bottom\",modifiers:{preventOverflow:{boundariesElement:this.content.get(0)},arrow:{element:\".arrow\"}},eventsEnabled:!0,onCreate:s,onUpdate:s};this.popper=new Popper(o,this.tooltip,d)},setEvent:function(t){const e=this.tooltip.find(\"div.animation\");this._removeClass(e,\"animation\",\"visible\")._addClass(e,\"animation\",\"hidden\"),this._createTooltipContent(t)},clear:function(){this.calendarBody.remove(),this.toolbarMonth.html(this.startOfMonth.format(this.options.dateFormat.toolbar)),this._processCalendarBody()},refresh:function(){this._refresh()},refreshTooltip:function(){this.popper.update()},showImage:function(t){this.options.showImage=t},_create:function(){this.widgetEventPrefix=\"eventcalendar.\",this.now=e(),this.startOfMonth=this._getStartOfMonth(this.now),this.endOfMonth=this._getEndOfMonth(this.now),this._addClass(this.element,\"megaCalendarWrap postbox\"),this.content=t(\"<div/>\"),this.content.appendTo(this.element),this._addClass(this.content,\"mega-content\"),this._processToolbar(),this._processCalendarView(),this._processCalendarLoader(),this.options.showLegends&&this._processLegend(),this._processTooltip(),this._trigger(\"calendarCreate\",null,{widget:this})},_setOption:function(e,o){\"events\"===e&&o.events&&(this.eventsData=o.events.reverse(),this.eventProcessingInterval&&clearInterval(this.eventProcessingInterval),this.events=[],this.eventProcessingDone=!1,this.options.showSlider?this.eventCurrentClass=`height-${t(this.toolbarSlider).val()}`:this.eventCurrentClass=this.options.eventClass,this.clear(),this.eventProcessingInterval=setInterval(function(){this.eventsData&&0==this.eventsData.length&&(clearInterval(this.eventProcessingInterval),this.eventProcessingDone=!0);const t=[];let e=0;for(;10!==e&&0!=this.eventsData.length;){const o=this.eventsData.pop();e++,t.push(o)}this._processEvents(t)}.bind(this),300))},_processToolbar:function(){this.toolbar=t(\"<div/>\"),this._addClass(this.toolbar,\"mega-toolbar\"),this.toolbar.appendTo(this.content),this._processToolbarButtons(),this._processToolbarMonth(),this._processToolbarSlider()},_processToolbarButtons:function(){!0===this.options.showAdd&&this._processAddEventButton(),this._processSelectMonthButton(),this._processPrevButton(),this._processNextButton()},_processAddEventButton:function(){this.addEvent=t('\\n\\t\\t\\t\\t\\t<button>\\n\\t\\t\\t\\t\\t\\t<i class=\"fui-plus\" aria-hidden=\"true\"></i>\\n\\t\\t\\t\\t\\t\\tAdd Event\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t'),this._addClass(this.addEvent,\"mega-toolbar-add-event\",\"mega-toolbar-button\",\"button\",\"mega-toolbar-button\",\"page-title-action\"),this.addEvent.appendTo(this.toolbar),this.addEvent.attr(\"title\",\"Add an Event, or click on any date directly\"),this.addEvent.on(\"click\",function(t){this._trigger(\"calendarAddEvent\",t,{date:new Date})}.bind(this))},_processSelectMonthButton:function(){let o=this;this.selectMonth=t('\\n\\t\\t\\t\\t\\t<div>\\n\\t\\t\\t\\t\\t\\t<div class=\"input-group-addon\">\\n\\t\\t\\t\\t\\t\\t\\t<i class=\"fui-calendar-solid\" aria-hidden=\"true\"></i>\\n\\t\\t\\t\\t\\t\\t\\tJump to&hellip;\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t'),this._addClass(this.selectMonth,\"mega-toolbar-select-month\",\"mega-toolbar-button input-group date\"),this._hoverOverride(this.selectMonth),this.selectMonth.appendTo(this.toolbar),this.selectMonth.attr(\"title\",\"Select a month to view in the calendar\"),this.selectMonth.attr(\"tabindex\",0),this.selectMonth.megacalDatepicker({startView:\"months\",minViewMode:\"months\",todayBtn:\"linked\",autoclose:!0}),this.selectMonth.megacalDatepicker(\"setDate\",this.startOfMonth.toDate()),this.selectMonth.megacalDatepicker().on(\"changeDate\",function(t){const o=t.date,n=e(o);this.startOfMonth=this._getStartOfMonth(n),this.endOfMonth=this._getEndOfMonth(n),this._refresh(t)}.bind(this)),this.selectMonth.megacalDatepicker().on(\"show\",(function(e){const o=t(\"div.datepicker\"),n=o.offset();o.offset({top:n.top+30,left:n.left+20})})),this.selectMonth.on(\"keyup\",(function(t){\"Enter\"==t.key&&o.selectMonth.megacalDatepicker(\"show\")}))},_processPrevButton:function(){this.prev=t('\\n\\t\\t\\t\\t\\t<button>\\n\\t\\t\\t\\t\\t\\t<i class=\"fui-arrow-left\" aria-hidden=\"true\"></i>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t'),this._addClass(this.prev,\"mega-toolbar-prev\",\"mega-toolbar-button mega-toolbar-nav\"),this.prev.appendTo(this.toolbar),this.prev.attr(\"title\",\"Move to previous month\"),this.prev.attr(\"tabindex\",0),this._hoverOverride(this.prev),this.prev.on(\"click\",function(t){this.endOfMonth=this.startOfMonth.subtract(1,\"day\"),this.startOfMonth=this._getStartOfMonth(this.endOfMonth),this._refresh(t)}.bind(this))},_processNextButton:function(){this.next=t('\\n\\t\\t\\t\\t\\t<button>\\n\\t\\t\\t\\t\\t\\t<i class=\"fui-arrow-right\" aria-hidden=\"true\"></i>\\n\\t\\t\\t\\t\\t</button>\\n\\t\\t\\t\\t'),this._addClass(this.next,\"mega-toolbar-next\",\"mega-toolbar-button mega-toolbar-nav\"),this.next.appendTo(this.toolbar),this.next.attr(\"title\",\"Move to next month\"),this.next.attr(\"tabindex\",0),this._hoverOverride(this.next),this.next.on(\"click\",function(t){this.startOfMonth=this.endOfMonth.add(1,\"day\"),this.endOfMonth=this._getEndOfMonth(this.startOfMonth),this._refresh(t)}.bind(this))},_processToolbarMonth:function(){this.toolbarMonth=t(\"<div/>\"),this._addClass(this.toolbarMonth,\"mega-toolbar-month\"),this.toolbarMonth.attr(\"tabindex\",0),this.toolbarMonth.appendTo(this.toolbar),this.toolbarMonth.html(this.startOfMonth.format(this.options.dateFormat.toolbar))},_hoverOverride:function(t){this.options.colorOverride.navigationBtnColor&&(t.on(\"mouseenter focus\",(e=>{t.css({\"background-color\":this.options.colorOverride.navigationBtnColor,color:this.options.colorOverride.navigationBtnTextColor})})),t.on(\"mouseleave blur\",(e=>{t.css({\"background-color\":\"\",color:\"\"})})))},_processToolbarSlider:function(){if(this.options.showSlider){const o=t(\"<div />\");o.appendTo(this.toolbar),this._addClass(o,\"mega-toolbar-slider\"),o.css(\"width\",this.options.sliderWidth);var e=t('<label class=\"sr-only\" for=\"mega-toolbar-slider\">Event Height</label>');this.toolbarSlider=t('<input type=\"range\"/>'),this.toolbarSlider.attr({...this.options.slider}),this.toolbarSlider.appendTo(o),e.appendTo(o);const n=this;t(this.toolbarSlider).rangeslider({polyfill:!1,onSlideEnd:function(t,e){const o=`height-${e}`;n.events.forEach((function(t){n._removeClass(t,\"mega-view-day-content-event\",n.eventCurrentClass)._addClass(t,\"mega-view-day-content-event\",o)})),n.eventCurrentClass=o}})}},_processCalendarView:function(){this.view=t(\"<div/>\"),this._addClass(this.view,\"mega-view\"),this.view.appendTo(this.content),this._processCalendarHeader(),this._processCalendarBody()},_processCalendarHeader:function(){this.calendarHeader=t(\"<div/>\"),this._addClass(this.calendarHeader,\"mega-view-header\"),this.calendarHeader.appendTo(this.view);const e=this.options.shortWeekdaysName?moment.weekdaysShort():moment.weekdays();this.weekdays=e.map(function(e,o){const n=t(\"<div/>\");return this._addClass(n,\"mega-view-header-weekday\"),n.appendTo(this.calendarHeader),n.html(e),n}.bind(this))},_processCalendarBody:function(){this.calendarBody=t(\"<div/>\"),this._addClass(this.calendarBody,\"mega-view-body\"),this.calendarBody.appendTo(this.view);const e=this._getCalendarDates();this.days=[];let o=[];for(let t=0;t<e.length;t++){const n=e[t];o.push(n),(t+1)%7==0&&(this._processWeek(o),o=[])}},_processWeek:function(e){const o=t(\"<div/>\");this._addClass(o,\"mega-view-week\"),o.appendTo(this.calendarBody);const n=e.map(function(e,n){const a=t(\"<div/>\");this.now.isSame(e,\"day\")?this._addClass(a,\"mega-view-day\",\"today\"):this._addClass(a,\"mega-view-day\"),a.appendTo(o),a.data(\"date\",e.toDate());const i=t(\"<div/>\");this._addClass(i,\"mega-view-day-header\"),i.appendTo(a);const s=1===e.date()?this.options.dateFormat.calendarFirst:this.options.dateFormat.calendar;i.html(e.format(s));const d=t(\"<div />\");return this._addClass(d,\"mega-view-day-content\"),this.options.showAdd?(this._addClass(d,\"mega-view-day-content\",\"current-month show-add\"),d.attr(\"title\",\"Add event for \"+e.format(\"MMMM Do\"))):(this._addClass(d,\"mega-view-day-content\",\"current-month\"),d.attr(\"title\",e.format(\"MMMM Do\"))),d.attr(\"tabindex\",0),d.on(\"keyup\",(function(e){\"Enter\"===e.key&&t(this).trigger(\"click\")})),d.appendTo(a),!0===this.options.showAdd&&(i.on(\"click\",function(t){this._trigger(\"calendarAddEvent\",t,{date:e.toDate()})}.bind(this)),d.on(\"click\",function(t){this._trigger(\"calendarAddEvent\",t,{date:e.toDate()})}.bind(this))),a}.bind(this));this.days.push(...n)},_processCalendarLoader:function(){if(this.calendarLoader=t(\"<div/>\"),this._addClass(this.calendarLoader,\"mega-loading-animation\",\"hidden\"),this.calendarLoader.appendTo(this.content),this.options.loaderImageUrl){t(`<img src=\"${this.options.loaderImageUrl}\" alt=\"Loading Spinner\" />`).appendTo(this.calendarLoader)}},_processLegend:function(){this.legend=t(\"<div/>\"),this._addClass(this.legend,\"mega-legend\"),this.legend.appendTo(this.content),this.legendHeader=t(\"<div/>\"),this.legendHeader.html(\"Legend\"),this._addClass(this.legendHeader,\"mega-legend-header\"),this.legendHeader.appendTo(this.legend),this.legendBody=t(\"<div/>\"),this._addClass(this.legendBody,\"mega-legend-body\"),this.legendBody.appendTo(this.legend),this._processLegendItem(\"icon-bullhorn\",\"Event is Published\")},_processLegendItem:function(e,o){const n=t(\"<div/>\");this._addClass(n,\"mega-legend-items\"),n.appendTo(this.legendBody);const a=t(\"<div/>\");this._addClass(a,\"mega-legend-item\"),a.appendTo(n);const i=t(\"<i/>\");this._addClass(i,e),i.appendTo(a);const s=t(\"<div/>\");this._addClass(s,\"mega-legend-item\"),s.appendTo(n);const d=t(\"<span/>\");d.html(\"=\"),d.appendTo(s);const r=t(\"<div/>\");this._addClass(r,\"mega-legend-item\"),r.appendTo(n);const h=t(\"<span/>\");h.html(o),h.appendTo(r)},_processEvents:function(o){this.days.forEach(function(n){const a=e(n.data(\"date\")).format(this.options.dateFormat.eventDate),i=t(\"div.mega-view-day-content\",n);o.forEach(function(o){const{eventDate:n,id:s,title:d,published:r,createdByMe:h,owner:l}=o;if(e(n).format(this.options.dateFormat.eventDate)===a){const n=t(\"<button />\");n.attr({id:`event-${s}`}),n.data(\"eventData\",o),n.appendTo(i),n.attr(\"tabindex\",0);const a=o.category?\"event-category-\"+o.category.id:\"\";if(this._addClass(n,`megaEvent mega-view-day-content-event ${a}`,this.eventCurrentClass),this.events.push(n),this.options.showImage){const e=t(\"<div/>\");this._addClass(e,\"megaDayImage mega-view-day-content-event-image\"),e.appendTo(n);const a=t(\"<div/>\");this._addClass(a,\"image-zone\"),a.appendTo(e),this._processEventImage(o,e)}else this._addClass(n,\"noImageEvent\");const m=t(\"<div/>\");if(m.appendTo(n),this.options.showImage?this._addClass(m,\"megaEventText mega-view-day-content-event-text\",\"has-image-sibling\"):this._addClass(m,\"megaEventText mega-view-day-content-event-text\",\"full-height\"),this.options.colorOverride.eventBGColor){var c=this.options.colorOverride.eventBGOpacity||.85,p=this._hexToRgba(this.options.colorOverride.eventBGColor,c);m.css({background:p})}if(this.options.colorOverride.eventBorderColor&&m.css({\"border-left-color\":this.options.colorOverride.eventBorderColor}),r?this._addClass(m,\"mega-published-event\"):this._addClass(m,\"mega-unpublished-event\"),h?this._addClass(m,\"mega-my-event\"):this._addClass(m,\"mega-shared-event\"),o.startTime){let n=e(o.startTime,\"HH:mm\").format(this.options.timeFormat);const a=t(\"<span/>\");a.html(n),this._addClass(a,\"megaTime time\"),this.options.colorOverride.eventTextColor&&a.css({color:this.options.colorOverride.eventTextColor}),a.appendTo(m)}if(d&&\"-\"!==t.trim(d)){const e=t(\"<div/>\"),o=t(\"<span/>\");if(o.html(t.trim(d)),o.addClass(\"megaTitlePara\"),o.appendTo(e),this._addClass(e,\"megaTitle title\"),this.options.colorOverride.eventTextColor&&o.css({color:this.options.colorOverride.eventTextColor}),!h&&this.options.showOwners){const t=`Owned by ${l.calendarName} (${l.handle})`;e.attr(\"title\",t)}e.appendTo(m)}if(this.options.showLegends){const e=t(\"<div/>\");if(this._addClass(e,\"megaIcons\"),e.appendTo(m),r){const o=t(\"<i/>\");this._addClass(o,\"icon-bullhorn\"),o.attr(\"aria-hidden\",!0),o.appendTo(e);const n=t(\"<span />\");this._addClass(n,\"sr-only\"),n.html(\"Published Event\"),n.appendTo(m)}}n.on(\"click\",function(t){this._trigger(\"eventClick\",t,{eventId:s,createdByMe:h}),t.stopPropagation()}.bind(this)),n.on(\"contextmenu\",function(t){this._preventEventPropagation(t),this._trigger(\"eventContextMenu\",t,{eventId:s})}.bind(this)),n.on(\"mouseover focus\",function(t){n.is(\":hover\")&&\"focus\"==t.type||(this._preventEventPropagation(t),this._trigger(\"eventHover\",t,{eventId:s}))}.bind(this)),n.on(\"blur\",function(t){this._preventEventPropagation(t),this._hideTooltip()}.bind(this))}}.bind(this))}.bind(this))},_processEventImage:function(t,e){const{imageUrl:o,imageUrlSquare:n,imageUrlDetail:a,iamgeUrlBanner:i}=t;let s=o;switch(this.options.eventImageSize){case\"square\":s=n||o;break;case\"detail\":s=a||o;break;case\"banner\":s=i||o;break;default:s=o}s?this._createPanelImageHolder(e,\"one-image\",s):(this._addClass(e,\"noImage\"),this._addClass(e.parent(),\"noImageEvent\"),this.options.defaultEventImageUrl&&this._processPanelDefaultImage(e,this.options.defaultEventImageUrl))},_hideLoader:function(){this._removeClass(this.calendarLoader,\"mega-loading-animation\",\"visible\")._addClass(this.calendarLoader,\"mega-loading-animation\",\"hidden\")},_processTooltip:function(){this.tooltip=t(\"<div/>\"),this._addClass(this.tooltip,\"mega-tooltip\"),this.tooltip.appendTo(this.content),this.tooltip.hide();const e=t(\"<div/>\");this._addClass(e,\"arrow-zone bottom\"),e.appendTo(this.tooltip);const o=t(\"<div/>\");this._addClass(o,\"arrow\"),o.appendTo(e);const n=t(\"<div/>\");this._addClass(n,\"view\"),n.appendTo(this.tooltip);const a=t(\"<div/>\");this._addClass(a,\"megaToolContent\",\"hidden\"),a.appendTo(n);const i=t(\"<div/>\");if(this._addClass(i,\"animation\",\"hidden\"),i.appendTo(n),this.options.loaderImageUrl){t(`<img src=\"${this.options.loaderImageUrl}\" alt=\"Loading Spinner\" />`).appendTo(i)}t(\"body\").on(\"click mouseover\",function(e){!1===t(e.target).is(this.tooltip)&&!1===t.contains(this.tooltip.get(0),e.target)&&this._hideTooltip()}.bind(this)),parent.document&&t(parent.document).on(\"click mouseover\",function(t){this._hideTooltip()}.bind(this))},_createTooltipContent:function(t){const e=this.tooltip.find(\"div.megaToolContent\");e.empty(),e.html(t),this._removeClass(e,\"megaToolContent\",\"hidden\")._addClass(e,\"megaToolContent\",\"visible\")},_createTooltipPanels:function(t,e){},_processPanelDefaultImage:function(t,e){this._createPanelImageHolder(t,\"one-image\",e)},_createPanelImageHolder:function(e,o,n){const a=e.find(\"div.image-zone\"),i=t(\"<div/>\");this._addClass(i,o),i.appendTo(a);const s=t(\"<img/>\");s.attr(\"src\",n),s.attr(\"alt\",\"An image representing the event\"),s.appendTo(i)},_hideTooltip:function(){this.popper&&this.popper.destroy(),this.tooltip.hide()},_refresh:function(t){this.calendarBody.remove(),this.toolbarMonth.html(this.startOfMonth.format(this.options.dateFormat.toolbar)),this._processCalendarBody(),this._trigger(\"calendarViewChange\",t,{date:this.startOfMonth.toDate()})},_getCalendarDates:function(){let t=this._getStartOfCalendar(this.startOfMonth),e=this._getEndOfCalendar(this.endOfMonth);const o=[];for(;!t.isAfter(e,\"day\");)o.push(t.clone()),t=t.add(1,\"day\");return o},_getStartOfMonth:function(t){return this._resetTime(t.clone().startOf(\"month\"))},_getEndOfMonth:function(t){return this._resetTime(t.clone().endOf(\"month\"))},_getStartOfCalendar:function(t){return this._resetTime(t.clone().startOf(\"week\"))},_getEndOfCalendar:function(t){return this._resetTime(t.clone().endOf(\"week\"))},_resetTime:function(t){return t.hours(0).minutes(0).seconds(0).milliseconds(0)},_preventEventPropagation:function(t){t&&(t.preventDefault(),t.stopPropagation())},_getImageAtSize:function(t,e){return t.replace(/\\.([^\\.]*)$/,\"-\"+e+\".$1\")},_hexToRgba:function(t,e=1){let o=t.replace(\"#\",\"\").toUpperCase();if(!o.match(/[A-F0-9]{3,6}/g))return\"\";if(3===o.length)for(let t of o)o+=t.repeat(1);const n=o.match(/[A-Fa-f0-9]{2}/g).map((t=>parseInt(t,16))),a=Math.max(Math.min(e,1),0);return`rgba(${n.join(\", \")}, ${a})`}})}(jQuery);","/**\n * jQuery Timepicker - v1.3.6 - 2024-06-13\n * http://timepicker.co\n *\n * Enhances standard form input fields helping users to select (or type) times.\n *\n * Copyright (c) 2024 Willington Vega; Licensed MIT, GPL\n */\n\n!function(a){\"object\"==typeof module&&\"object\"==typeof module.exports?a(require(\"jquery\"),window,document):\"undefined\"!=typeof jQuery&&a(jQuery,window,document)}(function(a,b,c,d){!function(){function b(a,b,c){return new Array(c+1-a.length).join(b)+a}function d(){if(1===arguments.length){var b=arguments[0];return\"string\"==typeof b&&(b=a.fn.timepicker.parseTime(b)),new Date(0,0,0,b.getHours(),b.getMinutes(),b.getSeconds())}return 3===arguments.length?new Date(0,0,0,arguments[0],arguments[1],arguments[2]):2===arguments.length?new Date(0,0,0,arguments[0],arguments[1],0):new Date(0,0,0)}a.TimePicker=function(){var b=this;b.container=a(\".ui-timepicker-container\"),b.ui=b.container.find(\".ui-timepicker\"),0===b.container.length&&(b.container=a(\"<div></div>\").addClass(\"ui-timepicker-container\").addClass(\"ui-timepicker-hidden ui-helper-hidden\").appendTo(\"body\").hide(),b.ui=a(\"<div></div>\").addClass(\"ui-timepicker\").addClass(\"ui-widget ui-widget-content ui-menu\").addClass(\"ui-corner-all\").appendTo(b.container),b.viewport=a(\"<ul></ul>\").addClass(\"ui-timepicker-viewport\").appendTo(b.ui),a.fn.jquery>=\"1.4.2\"&&b.ui.delegate(\"a\",\"mouseenter.timepicker\",function(){b.activate(!1,a(this).parent())}).delegate(\"a\",\"mouseleave.timepicker\",function(){b.deactivate(!1)}).delegate(\"a\",\"click.timepicker\",function(c){c.preventDefault(),b.select(!1,a(this).parent())}))},a.TimePicker.count=0,a.TimePicker.instance=function(){return a.TimePicker._instance||(a.TimePicker._instance=new a.TimePicker),a.TimePicker._instance},a.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(b,c){var e,f,g=this,h=a(\"<ul></ul>\"),i=null;for(-1===b.options.timeFormat.indexOf(\"m\")&&b.options.interval%60!=0&&(b.options.interval=60*Math.max(Math.round(b.options.interval/60),1)),e=c?d(c):b.options.startTime?d(b.options.startTime):d(b.options.startHour,b.options.startMinutes),f=new Date(e.getTime()+864e5);e<f;)g._isValidTime(b,e)&&(i=a(\"<li>\").addClass(\"ui-menu-item\").appendTo(h),a(\"<a>\").addClass(\"ui-corner-all\").text(a.fn.timepicker.formatTime(b.options.timeFormat,e)).appendTo(i),i.data(\"time-value\",e)),e=new Date(e.getTime()+60*b.options.interval*1e3);return h.children()},_isValidTime:function(a,b){var c=null,e=null;return b=d(b),null!==a.options.minTime?c=d(a.options.minTime):null===a.options.minHour&&null===a.options.minMinutes||(c=d(a.options.minHour,a.options.minMinutes)),null!==a.options.maxTime?e=d(a.options.maxTime):null===a.options.maxHour&&null===a.options.maxMinutes||(e=d(a.options.maxHour,a.options.maxMinutes)),null!==c&&null!==e?b>=c&&b<=e:null!==c?b>=c:null===e||b<=e},_hasScroll:function(){var a=void 0!==this.viewport.prop?\"prop\":\"attr\";return this.viewport.height()<this.viewport[a](\"scrollHeight\")},_move:function(a,b,c){var d=this;if(d.closed()&&d.open(a),!d.active)return void d.activate(a,d.viewport.children(c));var e=d.active[b+\"All\"](\".ui-menu-item\").eq(0);e.length?d.activate(a,e):d.activate(a,d.viewport.children(c))},register:function(b,c){var d=this,e={};e.element=a(b),e.element.data(\"TimePicker\")||(e.options=a.metadata?a.extend({},c,e.element.metadata()):a.extend({},c),e.widget=d,a.extend(e,{next:function(){return d.next(e)},previous:function(){return d.previous(e)},first:function(){return d.first(e)},last:function(){return d.last(e)},selected:function(){return d.selected(e)},open:function(){return d.open(e)},close:function(){return d.close(e)},closed:function(){return d.closed(e)},destroy:function(){return d.destroy(e)},parse:function(a){return d.parse(e,a)},format:function(a,b){return d.format(e,a,b)},getTime:function(){return d.getTime(e)},setTime:function(a,b){return d.setTime(e,a,b)},option:function(a,b){return d.option(e,a,b)}}),d._setDefaultTime(e),d._addInputEventsHandlers(e),e.element.data(\"TimePicker\",e))},_setDefaultTime:function(b){\"now\"===b.options.defaultTime?b.setTime(d(new Date)):b.options.defaultTime&&b.options.defaultTime.getFullYear?b.setTime(d(b.options.defaultTime)):b.options.defaultTime&&b.setTime(a.fn.timepicker.parseTime(b.options.defaultTime))},_addInputEventsHandlers:function(b){var c=this;b.element.bind(\"keydown.timepicker\",function(a){switch(a.which||a.keyCode){case c.keyCode.ENTER:case c.keyCode.NUMPAD_ENTER:a.preventDefault(),c.closed()?b.element.trigger(\"change.timepicker\"):c.select(b,c.active);break;case c.keyCode.UP:b.previous();break;case c.keyCode.DOWN:b.next();break;default:c.closed()||b.close(!0)}}).bind(\"focus.timepicker\",function(){b.open()}).bind(\"blur.timepicker\",function(){setTimeout(function(){b.element.data(\"timepicker-user-clicked-outside\")&&b.close()})}).bind(\"change.timepicker\",function(){b.closed()&&b.setTime(a.fn.timepicker.parseTime(b.element.val()))})},select:function(b,c){var d=this,e=!1===b?d.instance:b;d.setTime(e,a.fn.timepicker.parseTime(c.children(\"a\").text())),d.close(e,!0)},activate:function(a,b){var c=this;if((!1===a?c.instance:a)===c.instance){if(c.deactivate(),c._hasScroll()){var d=b.offset().top-c.viewport.offset().top,e=c.viewport.scrollTop(),f=c.viewport.height();d<0?c.viewport.scrollTop(e+d):d>=f&&c.viewport.scrollTop(e+d)}c.active=b.eq(0).children(\"a\").addClass(\"ui-state-hover\").attr(\"id\",\"ui-active-item\").end()}},deactivate:function(){var a=this;a.active&&(a.active.children(\"a\").removeClass(\"ui-state-hover\").removeAttr(\"id\"),a.active=null)},next:function(a){return(this.closed()||this.instance===a)&&this._move(a,\"next\",\".ui-menu-item:first\"),a.element},previous:function(a){return(this.closed()||this.instance===a)&&this._move(a,\"prev\",\".ui-menu-item:last\"),a.element},first:function(a){return this.instance===a&&(this.active&&0===this.active.prevAll(\".ui-menu-item\").length)},last:function(a){return this.instance===a&&(this.active&&0===this.active.nextAll(\".ui-menu-item\").length)},selected:function(a){return this.instance===a&&this.active?this.active:null},open:function(b){var d=this,e=b.getTime(),f=b.options.dynamic&&e;if(!b.options.dropdown)return b.element;switch(b.element.data(\"timepicker-event-namespace\",Math.random()),a(c).bind(\"click.timepicker-\"+b.element.data(\"timepicker-event-namespace\"),function(a){b.element.get(0)===a.target?b.element.data(\"timepicker-user-clicked-outside\",!1):b.element.data(\"timepicker-user-clicked-outside\",!0).blur()}),(b.rebuild||!b.items||f)&&(b.items=d._items(b,f?e:null)),(b.rebuild||d.instance!==b||f)&&(a.fn.jquery<\"1.4.2\"?(d.viewport.children().remove(),d.viewport.append(b.items),d.viewport.find(\"a\").bind(\"mouseover.timepicker\",function(){d.activate(b,a(this).parent())}).bind(\"mouseout.timepicker\",function(){d.deactivate(b)}).bind(\"click.timepicker\",function(c){c.preventDefault(),d.select(b,a(this).parent())})):(d.viewport.children().detach(),d.viewport.append(b.items))),b.rebuild=!1,d.container.removeClass(\"ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners\").show(),d.viewport.scrollTop(0),b.options.theme){case\"standard\":d.container.addClass(\"ui-timepicker-standard\");break;case\"standard-rounded-corners\":d.container.addClass(\"ui-timepicker-standard ui-timepicker-corners\")}d.container.hasClass(\"ui-timepicker-no-scrollbar\")||b.options.scrollbar||(d.container.addClass(\"ui-timepicker-no-scrollbar\"),d.viewport.css({paddingRight:40}));var g=d.container.outerHeight()-d.container.height(),h=b.options.zindex?b.options.zindex:b.element.offsetParent().css(\"z-index\"),i=b.element.offset();d.container.css({top:i.top+b.element.outerHeight(),left:i.left}),d.container.show(),d.container.css({left:b.element.offset().left,height:d.ui.outerHeight()+g,width:b.element.outerWidth(),zIndex:h,cursor:\"default\"});var j=d.container.width()-(d.ui.outerWidth()-d.ui.width());return d.ui.css({width:j}),d.viewport.css({width:j}),b.items.css({width:j}),d.instance=b,e?b.items.each(function(){var c,f=a(this);return c=a.fn.jquery<\"1.4.2\"?a.fn.timepicker.parseTime(f.find(\"a\").text()):f.data(\"time-value\"),c.getTime()!==e.getTime()||(d.activate(b,f),!1)}):d.deactivate(b),b.element},close:function(b){var d=this;return d.instance===b&&(d.container.addClass(\"ui-helper-hidden ui-timepicker-hidden\").hide(),d.ui.scrollTop(0),d.viewport.scrollTop(0),d.ui.children().removeClass(\"ui-state-hover\")),a(c).unbind(\"click.timepicker-\"+b.element.data(\"timepicker-event-namespace\")),b.element},closed:function(){return this.ui.is(\":hidden\")},destroy:function(a){return this.close(a,!0),a.element.unbind(\".timepicker\").data(\"TimePicker\",null)},parse:function(b,c){return a.fn.timepicker.parseTime(c)},format:function(b,c,d){return d=d||b.options.timeFormat,a.fn.timepicker.formatTime(d,c)},getTime:function(b){var c=this,d=a.fn.timepicker.parseTime(b.element.val());return d instanceof Date&&!c._isValidTime(b,d)?null:d instanceof Date&&b.selectedTime?b.format(d)===b.format(b.selectedTime)?b.selectedTime:d:d instanceof Date?d:null},setTime:function(b,c,e){var f=this,g=b.selectedTime;if(\"string\"==typeof c&&(c=b.parse(c)),c&&c.getMinutes&&f._isValidTime(b,c)){if(c=d(c),b.selectedTime=c,b.element.val(b.format(c,b.options.timeFormat)),e)return b}else b.selectedTime=null;return null===g&&null===b.selectedTime||(b.element.trigger(\"time-change\",[c]),a.isFunction(b.options.change)&&b.options.change.apply(b.element,[c])),b.element},option:function(b,c,d){if(void 0===d)return b.options[c];var e,f,g=b.getTime();\"string\"==typeof c?(e={},e[c]=d):e=c,f=[\"minHour\",\"minMinutes\",\"minTime\",\"maxHour\",\"maxMinutes\",\"maxTime\",\"startHour\",\"startMinutes\",\"startTime\",\"timeFormat\",\"interval\",\"dropdown\"],a.each(e,function(c){b.options[c]=e[c],b.rebuild=b.rebuild||a.inArray(c,f)>-1}),b.rebuild&&b.setTime(g)}},a.TimePicker.defaults={timeFormat:\"hh:mm p\",minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:!0,theme:\"standard\",zindex:null,dropdown:!0,scrollbar:!1,change:function(){}},a.TimePicker.methods={chainable:[\"next\",\"previous\",\"open\",\"close\",\"destroy\",\"setTime\"]},a.fn.timepicker=function(b){if(\"string\"==typeof b){var c,d,e=Array.prototype.slice.call(arguments,1);return c=\"option\"===b&&arguments.length>2?\"each\":-1!==a.inArray(b,a.TimePicker.methods.chainable)?\"each\":\"map\",d=this[c](function(){var c=a(this),d=c.data(\"TimePicker\");if(\"object\"==typeof d)return d[b].apply(d,e)}),\"map\"===c&&1===this.length?a.makeArray(d).shift():\"map\"===c?a.makeArray(d):d}if(1===this.length&&this.data(\"TimePicker\"))return this.data(\"TimePicker\");var f=a.extend({},a.TimePicker.defaults,b);return this.each(function(){a.TimePicker.instance().register(this,f)})},a.fn.timepicker.formatTime=function(a,c){var d=c.getHours(),e=d%12,f=c.getMinutes(),g=c.getSeconds(),h={hh:b((0===e?12:e).toString(),\"0\",2),HH:b(d.toString(),\"0\",2),mm:b(f.toString(),\"0\",2),ss:b(g.toString(),\"0\",2),h:0===e?12:e,H:d,m:f,s:g,p:d>11?\"PM\":\"AM\"},i=a,j=\"\";for(j in h)h.hasOwnProperty(j)&&(i=i.replace(new RegExp(j,\"g\"),h[j]));return i=i.replace(new RegExp(\"a\",\"g\"),d>11?\"pm\":\"am\")},a.fn.timepicker.parseTime=function(){var b=[[/^(\\d+)$/,\"$1\"],[/^:(\\d)$/,\"$10\"],[/^:(\\d+)/,\"$1\"],[/^(\\d):([7-9])$/,\"0$10$2\"],[/^(\\d):(\\d\\d)$/,\"$1$2\"],[/^(\\d):(\\d{1,})$/,\"0$1$20\"],[/^(\\d\\d):([7-9])$/,\"$10$2\"],[/^(\\d\\d):(\\d)$/,\"$1$20\"],[/^(\\d\\d):(\\d*)$/,\"$1$2\"],[/^(\\d{3,}):(\\d)$/,\"$10$2\"],[/^(\\d{3,}):(\\d{2,})/,\"$1$2\"],[/^(\\d):(\\d):(\\d)$/,\"0$10$20$3\"],[/^(\\d{1,2}):(\\d):(\\d\\d)/,\"$10$2$3\"]],c=b.length;return function(e){var f=d(new Date),g=!1,h=!1,i=!1,j=!1,k=!1;if(void 0===e||!e.toLowerCase)return null;e=e.toLowerCase(),g=/a/.test(e),h=!g&&/p/.test(e),e=e.replace(/[^0-9:]/g,\"\").replace(/:+/g,\":\");for(var l=0;l<c;l+=1)if(b[l][0].test(e)){e=e.replace(b[l][0],b[l][1]);break}return e=e.replace(/:/g,\"\"),1===e.length?i=e:2===e.length?i=e:3===e.length||5===e.length?(i=e.substr(0,1),j=e.substr(1,2),k=e.substr(3,2)):(4===e.length||e.length>5)&&(i=e.substr(0,2),j=e.substr(2,2),k=e.substr(4,2)),e.length>0&&e.length<5&&(e.length<3&&(j=0),k=0),!1!==i&&!1!==j&&!1!==k&&(i=parseInt(i,10),j=parseInt(j,10),k=parseInt(k,10),g&&12===i?i=0:h&&i<12&&(i+=12),i>24?e.length>=6?a.fn.timepicker.parseTime(e.substr(0,5)):a.fn.timepicker.parseTime(e+\"0\"+(g?\"a\":\"\")+(h?\"p\":\"\")):(f.setHours(i,j,k),f))}}()}()});","/*! Select2 4.1.0-rc.0 | https://github.com/select2/select2/blob/master/LICENSE.md */\n!function(n){\"function\"==typeof define&&define.amd?define([\"jquery\"],n):\"object\"==typeof module&&module.exports?module.exports=function(e,t){return void 0===t&&(t=\"undefined\"!=typeof window?require(\"jquery\"):require(\"jquery\")(e)),n(t),t}:n(jQuery)}(function(t){var e,n,s,p,r,o,h,f,g,m,y,v,i,a,_,s=(t&&t.fn&&t.fn.select2&&t.fn.select2.amd&&(u=t.fn.select2.amd),u&&u.requirejs||(u?n=u:u={},g={},m={},y={},v={},i=Object.prototype.hasOwnProperty,a=[].slice,_=/\\.js$/,h=function(e,t){var n,s,i=c(e),r=i[0],t=t[1];return e=i[1],r&&(n=x(r=l(r,t))),r?e=n&&n.normalize?n.normalize(e,(s=t,function(e){return l(e,s)})):l(e,t):(r=(i=c(e=l(e,t)))[0],e=i[1],r&&(n=x(r))),{f:r?r+\"!\"+e:e,n:e,pr:r,p:n}},f={require:function(e){return w(e)},exports:function(e){var t=g[e];return void 0!==t?t:g[e]={}},module:function(e){return{id:e,uri:\"\",exports:g[e],config:(t=e,function(){return y&&y.config&&y.config[t]||{}})};var t}},r=function(e,t,n,s){var i,r,o,a,l,c=[],u=typeof n,d=A(s=s||e);if(\"undefined\"==u||\"function\"==u){for(t=!t.length&&n.length?[\"require\",\"exports\",\"module\"]:t,a=0;a<t.length;a+=1)if(\"require\"===(r=(o=h(t[a],d)).f))c[a]=f.require(e);else if(\"exports\"===r)c[a]=f.exports(e),l=!0;else if(\"module\"===r)i=c[a]=f.module(e);else if(b(g,r)||b(m,r)||b(v,r))c[a]=x(r);else{if(!o.p)throw new Error(e+\" missing \"+r);o.p.load(o.n,w(s,!0),function(t){return function(e){g[t]=e}}(r),{}),c[a]=g[r]}u=n?n.apply(g[e],c):void 0,e&&(i&&i.exports!==p&&i.exports!==g[e]?g[e]=i.exports:u===p&&l||(g[e]=u))}else e&&(g[e]=n)},e=n=o=function(e,t,n,s,i){if(\"string\"==typeof e)return f[e]?f[e](t):x(h(e,A(t)).f);if(!e.splice){if((y=e).deps&&o(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=p}return t=t||function(){},\"function\"==typeof n&&(n=s,s=i),s?r(p,e,t,n):setTimeout(function(){r(p,e,t,n)},4),o},o.config=function(e){return o(e)},e._defined=g,(s=function(e,t,n){if(\"string\"!=typeof e)throw new Error(\"See almond README: incorrect module build, no module name\");t.splice||(n=t,t=[]),b(g,e)||b(m,e)||(m[e]=[e,t,n])}).amd={jQuery:!0},u.requirejs=e,u.require=n,u.define=s),u.define(\"almond\",function(){}),u.define(\"jquery\",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error(\"Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.\"),e}),u.define(\"select2/utils\",[\"jquery\"],function(r){var s={};function c(e){var t,n=e.prototype,s=[];for(t in n)\"function\"==typeof n[t]&&\"constructor\"!==t&&s.push(t);return s}s.Extend=function(e,t){var n,s={}.hasOwnProperty;function i(){this.constructor=e}for(n in t)s.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},s.Decorate=function(s,i){var e=c(i),t=c(s);function r(){var e=Array.prototype.unshift,t=i.prototype.constructor.length,n=s.prototype.constructor;0<t&&(e.call(arguments,s.prototype.constructor),n=i.prototype.constructor),n.apply(this,arguments)}i.displayName=s.displayName,r.prototype=new function(){this.constructor=r};for(var n=0;n<t.length;n++){var o=t[n];r.prototype[o]=s.prototype[o]}for(var a=0;a<e.length;a++){var l=e[a];r.prototype[l]=function(e){var t=function(){};e in r.prototype&&(t=r.prototype[e]);var n=i.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),n.apply(this,arguments)}}(l)}return r};function e(){this.listeners={}}e.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},e.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),\"*\"in this.listeners&&this.invoke(this.listeners[\"*\"],arguments)},e.prototype.invoke=function(e,t){for(var n=0,s=e.length;n<s;n++)e[n].apply(this,t)},s.Observable=e,s.generateChars=function(e){for(var t=\"\",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},s.bind=function(e,t){return function(){e.apply(t,arguments)}},s._convertData=function(e){for(var t in e){var n=t.split(\"-\"),s=e;if(1!==n.length){for(var i=0;i<n.length;i++){var r=n[i];(r=r.substring(0,1).toLowerCase()+r.substring(1))in s||(s[r]={}),i==n.length-1&&(s[r]=e[t]),s=s[r]}delete e[t]}}return e},s.hasScroll=function(e,t){var n=r(t),s=t.style.overflowX,i=t.style.overflowY;return(s!==i||\"hidden\"!==i&&\"visible\"!==i)&&(\"scroll\"===s||\"scroll\"===i||(n.innerHeight()<t.scrollHeight||n.innerWidth()<t.scrollWidth))},s.escapeMarkup=function(e){var t={\"\\\\\":\"&#92;\",\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#47;\"};return\"string\"!=typeof e?e:String(e).replace(/[&<>\"'\\/\\\\]/g,function(e){return t[e]})},s.__cache={};var n=0;return s.GetUniqueElementId=function(e){var t=e.getAttribute(\"data-select2-id\");return null!=t||(t=e.id?\"select2-data-\"+e.id:\"select2-data-\"+(++n).toString()+\"-\"+s.generateChars(4),e.setAttribute(\"data-select2-id\",t)),t},s.StoreData=function(e,t,n){e=s.GetUniqueElementId(e);s.__cache[e]||(s.__cache[e]={}),s.__cache[e][t]=n},s.GetData=function(e,t){var n=s.GetUniqueElementId(e);return t?s.__cache[n]&&null!=s.__cache[n][t]?s.__cache[n][t]:r(e).data(t):s.__cache[n]},s.RemoveData=function(e){var t=s.GetUniqueElementId(e);null!=s.__cache[t]&&delete s.__cache[t],e.removeAttribute(\"data-select2-id\")},s.copyNonInternalCssClasses=function(e,t){var n=(n=e.getAttribute(\"class\").trim().split(/\\s+/)).filter(function(e){return 0===e.indexOf(\"select2-\")}),t=(t=t.getAttribute(\"class\").trim().split(/\\s+/)).filter(function(e){return 0!==e.indexOf(\"select2-\")}),t=n.concat(t);e.setAttribute(\"class\",t.join(\" \"))},s}),u.define(\"select2/results\",[\"jquery\",\"./utils\"],function(d,p){function s(e,t,n){this.$element=e,this.data=n,this.options=t,s.__super__.constructor.call(this)}return p.Extend(s,p.Observable),s.prototype.render=function(){var e=d('<ul class=\"select2-results__options\" role=\"listbox\"></ul>');return this.options.get(\"multiple\")&&e.attr(\"aria-multiselectable\",\"true\"),this.$results=e},s.prototype.clear=function(){this.$results.empty()},s.prototype.displayMessage=function(e){var t=this.options.get(\"escapeMarkup\");this.clear(),this.hideLoading();var n=d('<li role=\"alert\" aria-live=\"assertive\" class=\"select2-results__option\"></li>'),s=this.options.get(\"translations\").get(e.message);n.append(t(s(e.args))),n[0].className+=\" select2-results__message\",this.$results.append(n)},s.prototype.hideMessages=function(){this.$results.find(\".select2-results__message\").remove()},s.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var s=e.results[n],s=this.option(s);t.push(s)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger(\"results:message\",{message:\"noResults\"})},s.prototype.position=function(e,t){t.find(\".select2-results\").append(e)},s.prototype.sort=function(e){return this.options.get(\"sorter\")(e)},s.prototype.highlightFirstItem=function(){var e=this.$results.find(\".select2-results__option--selectable\"),t=e.filter(\".select2-results__option--selected\");(0<t.length?t:e).first().trigger(\"mouseenter\"),this.ensureHighlightVisible()},s.prototype.setClasses=function(){var t=this;this.data.current(function(e){var s=e.map(function(e){return e.id.toString()});t.$results.find(\".select2-results__option--selectable\").each(function(){var e=d(this),t=p.GetData(this,\"data\"),n=\"\"+t.id;null!=t.element&&t.element.selected||null==t.element&&-1<s.indexOf(n)?(this.classList.add(\"select2-results__option--selected\"),e.attr(\"aria-selected\",\"true\")):(this.classList.remove(\"select2-results__option--selected\"),e.attr(\"aria-selected\",\"false\"))})})},s.prototype.showLoading=function(e){this.hideLoading();e={disabled:!0,loading:!0,text:this.options.get(\"translations\").get(\"searching\")(e)},e=this.option(e);e.className+=\" loading-results\",this.$results.prepend(e)},s.prototype.hideLoading=function(){this.$results.find(\".loading-results\").remove()},s.prototype.option=function(e){var t=document.createElement(\"li\");t.classList.add(\"select2-results__option\"),t.classList.add(\"select2-results__option--selectable\");var n,s={role:\"option\"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(n in(null!=e.element&&i.call(e.element,\":disabled\")||null==e.element&&e.disabled)&&(s[\"aria-disabled\"]=\"true\",t.classList.remove(\"select2-results__option--selectable\"),t.classList.add(\"select2-results__option--disabled\")),null==e.id&&t.classList.remove(\"select2-results__option--selectable\"),null!=e._resultId&&(t.id=e._resultId),e.title&&(t.title=e.title),e.children&&(s.role=\"group\",s[\"aria-label\"]=e.text,t.classList.remove(\"select2-results__option--selectable\"),t.classList.add(\"select2-results__option--group\")),s){var r=s[n];t.setAttribute(n,r)}if(e.children){var o=d(t),a=document.createElement(\"strong\");a.className=\"select2-results__group\",this.template(e,a);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],u=this.option(u);l.push(u)}i=d(\"<ul></ul>\",{class:\"select2-results__options select2-results__options--nested\",role:\"none\"});i.append(l),o.append(a),o.append(i)}else this.template(e,t);return p.StoreData(t,\"data\",e),t},s.prototype.bind=function(t,e){var i=this,n=t.id+\"-results\";this.$results.attr(\"id\",n),t.on(\"results:all\",function(e){i.clear(),i.append(e.data),t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on(\"results:append\",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t.on(\"query\",function(e){i.hideMessages(),i.showLoading(e)}),t.on(\"select\",function(){t.isOpen()&&(i.setClasses(),i.options.get(\"scrollAfterSelect\")&&i.highlightFirstItem())}),t.on(\"unselect\",function(){t.isOpen()&&(i.setClasses(),i.options.get(\"scrollAfterSelect\")&&i.highlightFirstItem())}),t.on(\"open\",function(){i.$results.attr(\"aria-expanded\",\"true\"),i.$results.attr(\"aria-hidden\",\"false\"),i.setClasses(),i.ensureHighlightVisible()}),t.on(\"close\",function(){i.$results.attr(\"aria-expanded\",\"false\"),i.$results.attr(\"aria-hidden\",\"true\"),i.$results.removeAttr(\"aria-activedescendant\")}),t.on(\"results:toggle\",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger(\"mouseup\")}),t.on(\"results:select\",function(){var e,t=i.getHighlightedResults();0!==t.length&&(e=p.GetData(t[0],\"data\"),t.hasClass(\"select2-results__option--selected\")?i.trigger(\"close\",{}):i.trigger(\"select\",{data:e}))}),t.on(\"results:previous\",function(){var e,t=i.getHighlightedResults(),n=i.$results.find(\".select2-results__option--selectable\"),s=n.index(t);s<=0||(e=s-1,0===t.length&&(e=0),(s=n.eq(e)).trigger(\"mouseenter\"),t=i.$results.offset().top,n=s.offset().top,s=i.$results.scrollTop()+(n-t),0===e?i.$results.scrollTop(0):n-t<0&&i.$results.scrollTop(s))}),t.on(\"results:next\",function(){var e,t=i.getHighlightedResults(),n=i.$results.find(\".select2-results__option--selectable\"),s=n.index(t)+1;s>=n.length||((e=n.eq(s)).trigger(\"mouseenter\"),t=i.$results.offset().top+i.$results.outerHeight(!1),n=e.offset().top+e.outerHeight(!1),e=i.$results.scrollTop()+n-t,0===s?i.$results.scrollTop(0):t<n&&i.$results.scrollTop(e))}),t.on(\"results:focus\",function(e){e.element[0].classList.add(\"select2-results__option--highlighted\"),e.element[0].setAttribute(\"aria-selected\",\"true\")}),t.on(\"results:message\",function(e){i.displayMessage(e)}),d.fn.mousewheel&&this.$results.on(\"mousewheel\",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,t=0<e.deltaY&&t-e.deltaY<=0,n=e.deltaY<0&&n<=i.$results.height();t?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):n&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on(\"mouseup\",\".select2-results__option--selectable\",function(e){var t=d(this),n=p.GetData(this,\"data\");t.hasClass(\"select2-results__option--selected\")?i.options.get(\"multiple\")?i.trigger(\"unselect\",{originalEvent:e,data:n}):i.trigger(\"close\",{}):i.trigger(\"select\",{originalEvent:e,data:n})}),this.$results.on(\"mouseenter\",\".select2-results__option--selectable\",function(e){var t=p.GetData(this,\"data\");i.getHighlightedResults().removeClass(\"select2-results__option--highlighted\").attr(\"aria-selected\",\"false\"),i.trigger(\"results:focus\",{data:t,element:d(this)})})},s.prototype.getHighlightedResults=function(){return this.$results.find(\".select2-results__option--highlighted\")},s.prototype.destroy=function(){this.$results.remove()},s.prototype.ensureHighlightVisible=function(){var e,t,n,s,i=this.getHighlightedResults();0!==i.length&&(e=this.$results.find(\".select2-results__option--selectable\").index(i),s=this.$results.offset().top,t=i.offset().top,n=this.$results.scrollTop()+(t-s),s=t-s,n-=2*i.outerHeight(!1),e<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(n))},s.prototype.template=function(e,t){var n=this.options.get(\"templateResult\"),s=this.options.get(\"escapeMarkup\"),e=n(e,t);null==e?t.style.display=\"none\":\"string\"==typeof e?t.innerHTML=s(e):d(t).append(e)},s}),u.define(\"select2/keys\",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),u.define(\"select2/selection/base\",[\"jquery\",\"../utils\",\"../keys\"],function(n,s,i){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return s.Extend(r,s.Observable),r.prototype.render=function(){var e=n('<span class=\"select2-selection\" role=\"combobox\"  aria-haspopup=\"true\" aria-expanded=\"false\"></span>');return this._tabindex=0,null!=s.GetData(this.$element[0],\"old-tabindex\")?this._tabindex=s.GetData(this.$element[0],\"old-tabindex\"):null!=this.$element.attr(\"tabindex\")&&(this._tabindex=this.$element.attr(\"tabindex\")),e.attr(\"title\",this.$element.attr(\"title\")),e.attr(\"tabindex\",this._tabindex),e.attr(\"aria-disabled\",\"false\"),this.$selection=e},r.prototype.bind=function(e,t){var n=this,s=e.id+\"-results\";this.container=e,this.$selection.on(\"focus\",function(e){n.trigger(\"focus\",e)}),this.$selection.on(\"blur\",function(e){n._handleBlur(e)}),this.$selection.on(\"keydown\",function(e){n.trigger(\"keypress\",e),e.which===i.SPACE&&e.preventDefault()}),e.on(\"results:focus\",function(e){n.$selection.attr(\"aria-activedescendant\",e.data._resultId)}),e.on(\"selection:update\",function(e){n.update(e.data)}),e.on(\"open\",function(){n.$selection.attr(\"aria-expanded\",\"true\"),n.$selection.attr(\"aria-owns\",s),n._attachCloseHandler(e)}),e.on(\"close\",function(){n.$selection.attr(\"aria-expanded\",\"false\"),n.$selection.removeAttr(\"aria-activedescendant\"),n.$selection.removeAttr(\"aria-owns\"),n.$selection.trigger(\"focus\"),n._detachCloseHandler(e)}),e.on(\"enable\",function(){n.$selection.attr(\"tabindex\",n._tabindex),n.$selection.attr(\"aria-disabled\",\"false\")}),e.on(\"disable\",function(){n.$selection.attr(\"tabindex\",\"-1\"),n.$selection.attr(\"aria-disabled\",\"true\")})},r.prototype._handleBlur=function(e){var t=this;window.setTimeout(function(){document.activeElement==t.$selection[0]||n.contains(t.$selection[0],document.activeElement)||t.trigger(\"blur\",e)},1)},r.prototype._attachCloseHandler=function(e){n(document.body).on(\"mousedown.select2.\"+e.id,function(e){var t=n(e.target).closest(\".select2\");n(\".select2.select2-container--open\").each(function(){this!=t[0]&&s.GetData(this,\"element\").select2(\"close\")})})},r.prototype._detachCloseHandler=function(e){n(document.body).off(\"mousedown.select2.\"+e.id)},r.prototype.position=function(e,t){t.find(\".selection\").append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(e){throw new Error(\"The `update` method must be defined in child classes.\")},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get(\"disabled\")},r}),u.define(\"select2/selection/single\",[\"jquery\",\"./base\",\"../utils\",\"../keys\"],function(e,t,n,s){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e[0].classList.add(\"select2-selection--single\"),e.html('<span class=\"select2-selection__rendered\"></span><span class=\"select2-selection__arrow\" role=\"presentation\"><b role=\"presentation\"></b></span>'),e},i.prototype.bind=function(t,e){var n=this;i.__super__.bind.apply(this,arguments);var s=t.id+\"-container\";this.$selection.find(\".select2-selection__rendered\").attr(\"id\",s).attr(\"role\",\"textbox\").attr(\"aria-readonly\",\"true\"),this.$selection.attr(\"aria-labelledby\",s),this.$selection.attr(\"aria-controls\",s),this.$selection.on(\"mousedown\",function(e){1===e.which&&n.trigger(\"toggle\",{originalEvent:e})}),this.$selection.on(\"focus\",function(e){}),this.$selection.on(\"blur\",function(e){}),t.on(\"focus\",function(e){t.isOpen()||n.$selection.trigger(\"focus\")})},i.prototype.clear=function(){var e=this.$selection.find(\".select2-selection__rendered\");e.empty(),e.removeAttr(\"title\")},i.prototype.display=function(e,t){var n=this.options.get(\"templateSelection\");return this.options.get(\"escapeMarkup\")(n(e,t))},i.prototype.selectionContainer=function(){return e(\"<span></span>\")},i.prototype.update=function(e){var t,n;0!==e.length?(n=e[0],t=this.$selection.find(\".select2-selection__rendered\"),e=this.display(n,t),t.empty().append(e),(n=n.title||n.text)?t.attr(\"title\",n):t.removeAttr(\"title\")):this.clear()},i}),u.define(\"select2/selection/multiple\",[\"jquery\",\"./base\",\"../utils\"],function(i,e,c){function r(e,t){r.__super__.constructor.apply(this,arguments)}return c.Extend(r,e),r.prototype.render=function(){var e=r.__super__.render.call(this);return e[0].classList.add(\"select2-selection--multiple\"),e.html('<ul class=\"select2-selection__rendered\"></ul>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var s=e.id+\"-container\";this.$selection.find(\".select2-selection__rendered\").attr(\"id\",s),this.$selection.on(\"click\",function(e){n.trigger(\"toggle\",{originalEvent:e})}),this.$selection.on(\"click\",\".select2-selection__choice__remove\",function(e){var t;n.isDisabled()||(t=i(this).parent(),t=c.GetData(t[0],\"data\"),n.trigger(\"unselect\",{originalEvent:e,data:t}))}),this.$selection.on(\"keydown\",\".select2-selection__choice__remove\",function(e){n.isDisabled()||e.stopPropagation()})},r.prototype.clear=function(){var e=this.$selection.find(\".select2-selection__rendered\");e.empty(),e.removeAttr(\"title\")},r.prototype.display=function(e,t){var n=this.options.get(\"templateSelection\");return this.options.get(\"escapeMarkup\")(n(e,t))},r.prototype.selectionContainer=function(){return i('<li class=\"select2-selection__choice\"><button type=\"button\" class=\"select2-selection__choice__remove\" tabindex=\"-1\"><span aria-hidden=\"true\">&times;</span></button><span class=\"select2-selection__choice__display\"></span></li>')},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=this.$selection.find(\".select2-selection__rendered\").attr(\"id\")+\"-choice-\",s=0;s<e.length;s++){var i=e[s],r=this.selectionContainer(),o=this.display(i,r),a=n+c.generateChars(4)+\"-\";i.id?a+=i.id:a+=c.generateChars(4),r.find(\".select2-selection__choice__display\").append(o).attr(\"id\",a);var l=i.title||i.text;l&&r.attr(\"title\",l);o=this.options.get(\"translations\").get(\"removeItem\"),l=r.find(\".select2-selection__choice__remove\");l.attr(\"title\",o()),l.attr(\"aria-label\",o()),l.attr(\"aria-describedby\",a),c.StoreData(r[0],\"data\",i),t.push(r)}this.$selection.find(\".select2-selection__rendered\").append(t)}},r}),u.define(\"select2/selection/placeholder\",[],function(){function e(e,t,n){this.placeholder=this.normalizePlaceholder(n.get(\"placeholder\")),e.call(this,t,n)}return e.prototype.normalizePlaceholder=function(e,t){return\"string\"==typeof t&&(t={id:\"\",text:t}),t},e.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();n.html(this.display(t)),n[0].classList.add(\"select2-selection__placeholder\"),n[0].classList.remove(\"select2-selection__choice\");t=t.title||t.text||n.text();return this.$selection.find(\".select2-selection__rendered\").attr(\"title\",t),n},e.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();t=this.createPlaceholder(this.placeholder);this.$selection.find(\".select2-selection__rendered\").append(t)},e}),u.define(\"select2/selection/allowClear\",[\"jquery\",\"../keys\",\"../utils\"],function(i,s,a){function e(){}return e.prototype.bind=function(e,t,n){var s=this;e.call(this,t,n),null==this.placeholder&&this.options.get(\"debug\")&&window.console&&console.error&&console.error(\"Select2: The `allowClear` option should be used in combination with the `placeholder` option.\"),this.$selection.on(\"mousedown\",\".select2-selection__clear\",function(e){s._handleClear(e)}),t.on(\"keypress\",function(e){s._handleKeyboardClear(e,t)})},e.prototype._handleClear=function(e,t){if(!this.isDisabled()){var n=this.$selection.find(\".select2-selection__clear\");if(0!==n.length){t.stopPropagation();var s=a.GetData(n[0],\"data\"),i=this.$element.val();this.$element.val(this.placeholder.id);var r={data:s};if(this.trigger(\"clear\",r),r.prevented)this.$element.val(i);else{for(var o=0;o<s.length;o++)if(r={data:s[o]},this.trigger(\"unselect\",r),r.prevented)return void this.$element.val(i);this.$element.trigger(\"input\").trigger(\"change\"),this.trigger(\"toggle\",{})}}}},e.prototype._handleKeyboardClear=function(e,t,n){n.isOpen()||t.which!=s.DELETE&&t.which!=s.BACKSPACE||this._handleClear(t)},e.prototype.update=function(e,t){var n,s;e.call(this,t),this.$selection.find(\".select2-selection__clear\").remove(),this.$selection[0].classList.remove(\"select2-selection--clearable\"),0<this.$selection.find(\".select2-selection__placeholder\").length||0===t.length||(n=this.$selection.find(\".select2-selection__rendered\").attr(\"id\"),s=this.options.get(\"translations\").get(\"removeAllItems\"),(e=i('<button type=\"button\" class=\"select2-selection__clear\" tabindex=\"-1\"><span aria-hidden=\"true\">&times;</span></button>')).attr(\"title\",s()),e.attr(\"aria-label\",s()),e.attr(\"aria-describedby\",n),a.StoreData(e[0],\"data\",t),this.$selection.prepend(e),this.$selection[0].classList.add(\"select2-selection--clearable\"))},e}),u.define(\"select2/selection/search\",[\"jquery\",\"../utils\",\"../keys\"],function(s,a,l){function e(e,t,n){e.call(this,t,n)}return e.prototype.render=function(e){var t=this.options.get(\"translations\").get(\"search\"),n=s('<span class=\"select2-search select2-search--inline\"><textarea class=\"select2-search__field\" type=\"search\" tabindex=\"-1\" autocorrect=\"off\" autocapitalize=\"none\" spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" ></textarea></span>');this.$searchContainer=n,this.$search=n.find(\"textarea\"),this.$search.prop(\"autocomplete\",this.options.get(\"autocomplete\")),this.$search.attr(\"aria-label\",t());e=e.call(this);return this._transferTabIndex(),e.append(this.$searchContainer),e},e.prototype.bind=function(e,t,n){var s=this,i=t.id+\"-results\",r=t.id+\"-container\";e.call(this,t,n),s.$search.attr(\"aria-describedby\",r),t.on(\"open\",function(){s.$search.attr(\"aria-controls\",i),s.$search.trigger(\"focus\")}),t.on(\"close\",function(){s.$search.val(\"\"),s.resizeSearch(),s.$search.removeAttr(\"aria-controls\"),s.$search.removeAttr(\"aria-activedescendant\"),s.$search.trigger(\"focus\")}),t.on(\"enable\",function(){s.$search.prop(\"disabled\",!1),s._transferTabIndex()}),t.on(\"disable\",function(){s.$search.prop(\"disabled\",!0)}),t.on(\"focus\",function(e){s.$search.trigger(\"focus\")}),t.on(\"results:focus\",function(e){e.data._resultId?s.$search.attr(\"aria-activedescendant\",e.data._resultId):s.$search.removeAttr(\"aria-activedescendant\")}),this.$selection.on(\"focusin\",\".select2-search--inline\",function(e){s.trigger(\"focus\",e)}),this.$selection.on(\"focusout\",\".select2-search--inline\",function(e){s._handleBlur(e)}),this.$selection.on(\"keydown\",\".select2-search--inline\",function(e){var t;e.stopPropagation(),s.trigger(\"keypress\",e),s._keyUpPrevented=e.isDefaultPrevented(),e.which!==l.BACKSPACE||\"\"!==s.$search.val()||0<(t=s.$selection.find(\".select2-selection__choice\").last()).length&&(t=a.GetData(t[0],\"data\"),s.searchRemoveChoice(t),e.preventDefault())}),this.$selection.on(\"click\",\".select2-search--inline\",function(e){s.$search.val()&&e.stopPropagation()});var t=document.documentMode,o=t&&t<=11;this.$selection.on(\"input.searchcheck\",\".select2-search--inline\",function(e){o?s.$selection.off(\"input.search input.searchcheck\"):s.$selection.off(\"keyup.search\")}),this.$selection.on(\"keyup.search input.search\",\".select2-search--inline\",function(e){var t;o&&\"input\"===e.type?s.$selection.off(\"input.search input.searchcheck\"):(t=e.which)!=l.SHIFT&&t!=l.CTRL&&t!=l.ALT&&t!=l.TAB&&s.handleSearch(e)})},e.prototype._transferTabIndex=function(e){this.$search.attr(\"tabindex\",this.$selection.attr(\"tabindex\")),this.$selection.attr(\"tabindex\",\"-1\")},e.prototype.createPlaceholder=function(e,t){this.$search.attr(\"placeholder\",t.text)},e.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr(\"placeholder\",\"\"),e.call(this,t),this.resizeSearch(),n&&this.$search.trigger(\"focus\")},e.prototype.handleSearch=function(){var e;this.resizeSearch(),this._keyUpPrevented||(e=this.$search.val(),this.trigger(\"query\",{term:e})),this._keyUpPrevented=!1},e.prototype.searchRemoveChoice=function(e,t){this.trigger(\"unselect\",{data:t}),this.$search.val(t.text),this.handleSearch()},e.prototype.resizeSearch=function(){this.$search.css(\"width\",\"25px\");var e=\"100%\";\"\"===this.$search.attr(\"placeholder\")&&(e=.75*(this.$search.val().length+1)+\"em\"),this.$search.css(\"width\",e)},e}),u.define(\"select2/selection/selectionCss\",[\"../utils\"],function(n){function e(){}return e.prototype.render=function(e){var t=e.call(this),e=this.options.get(\"selectionCssClass\")||\"\";return-1!==e.indexOf(\":all:\")&&(e=e.replace(\":all:\",\"\"),n.copyNonInternalCssClasses(t[0],this.$element[0])),t.addClass(e),t},e}),u.define(\"select2/selection/eventRelay\",[\"jquery\"],function(o){function e(){}return e.prototype.bind=function(e,t,n){var s=this,i=[\"open\",\"opening\",\"close\",\"closing\",\"select\",\"selecting\",\"unselect\",\"unselecting\",\"clear\",\"clearing\"],r=[\"opening\",\"closing\",\"selecting\",\"unselecting\",\"clearing\"];e.call(this,t,n),t.on(\"*\",function(e,t){var n;-1!==i.indexOf(e)&&(t=t||{},n=o.Event(\"select2:\"+e,{params:t}),s.$element.trigger(n),-1!==r.indexOf(e)&&(t.prevented=n.isDefaultPrevented()))})},e}),u.define(\"select2/translation\",[\"jquery\",\"require\"],function(t,n){function s(e){this.dict=e||{}}return s.prototype.all=function(){return this.dict},s.prototype.get=function(e){return this.dict[e]},s.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},s._cache={},s.loadPath=function(e){var t;return e in s._cache||(t=n(e),s._cache[e]=t),new s(s._cache[e])},s}),u.define(\"select2/diacritics\",[],function(){return{\"Ⓐ\":\"A\",\"Ａ\":\"A\",\"À\":\"A\",\"Á\":\"A\",\"Â\":\"A\",\"Ầ\":\"A\",\"Ấ\":\"A\",\"Ẫ\":\"A\",\"Ẩ\":\"A\",\"Ã\":\"A\",\"Ā\":\"A\",\"Ă\":\"A\",\"Ằ\":\"A\",\"Ắ\":\"A\",\"Ẵ\":\"A\",\"Ẳ\":\"A\",\"Ȧ\":\"A\",\"Ǡ\":\"A\",\"Ä\":\"A\",\"Ǟ\":\"A\",\"Ả\":\"A\",\"Å\":\"A\",\"Ǻ\":\"A\",\"Ǎ\":\"A\",\"Ȁ\":\"A\",\"Ȃ\":\"A\",\"Ạ\":\"A\",\"Ậ\":\"A\",\"Ặ\":\"A\",\"Ḁ\":\"A\",\"Ą\":\"A\",\"Ⱥ\":\"A\",\"Ɐ\":\"A\",\"Ꜳ\":\"AA\",\"Æ\":\"AE\",\"Ǽ\":\"AE\",\"Ǣ\":\"AE\",\"Ꜵ\":\"AO\",\"Ꜷ\":\"AU\",\"Ꜹ\":\"AV\",\"Ꜻ\":\"AV\",\"Ꜽ\":\"AY\",\"Ⓑ\":\"B\",\"Ｂ\":\"B\",\"Ḃ\":\"B\",\"Ḅ\":\"B\",\"Ḇ\":\"B\",\"Ƀ\":\"B\",\"Ƃ\":\"B\",\"Ɓ\":\"B\",\"Ⓒ\":\"C\",\"Ｃ\":\"C\",\"Ć\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Č\":\"C\",\"Ç\":\"C\",\"Ḉ\":\"C\",\"Ƈ\":\"C\",\"Ȼ\":\"C\",\"Ꜿ\":\"C\",\"Ⓓ\":\"D\",\"Ｄ\":\"D\",\"Ḋ\":\"D\",\"Ď\":\"D\",\"Ḍ\":\"D\",\"Ḑ\":\"D\",\"Ḓ\":\"D\",\"Ḏ\":\"D\",\"Đ\":\"D\",\"Ƌ\":\"D\",\"Ɗ\":\"D\",\"Ɖ\":\"D\",\"Ꝺ\":\"D\",\"Ǳ\":\"DZ\",\"Ǆ\":\"DZ\",\"ǲ\":\"Dz\",\"ǅ\":\"Dz\",\"Ⓔ\":\"E\",\"Ｅ\":\"E\",\"È\":\"E\",\"É\":\"E\",\"Ê\":\"E\",\"Ề\":\"E\",\"Ế\":\"E\",\"Ễ\":\"E\",\"Ể\":\"E\",\"Ẽ\":\"E\",\"Ē\":\"E\",\"Ḕ\":\"E\",\"Ḗ\":\"E\",\"Ĕ\":\"E\",\"Ė\":\"E\",\"Ë\":\"E\",\"Ẻ\":\"E\",\"Ě\":\"E\",\"Ȅ\":\"E\",\"Ȇ\":\"E\",\"Ẹ\":\"E\",\"Ệ\":\"E\",\"Ȩ\":\"E\",\"Ḝ\":\"E\",\"Ę\":\"E\",\"Ḙ\":\"E\",\"Ḛ\":\"E\",\"Ɛ\":\"E\",\"Ǝ\":\"E\",\"Ⓕ\":\"F\",\"Ｆ\":\"F\",\"Ḟ\":\"F\",\"Ƒ\":\"F\",\"Ꝼ\":\"F\",\"Ⓖ\":\"G\",\"Ｇ\":\"G\",\"Ǵ\":\"G\",\"Ĝ\":\"G\",\"Ḡ\":\"G\",\"Ğ\":\"G\",\"Ġ\":\"G\",\"Ǧ\":\"G\",\"Ģ\":\"G\",\"Ǥ\":\"G\",\"Ɠ\":\"G\",\"Ꞡ\":\"G\",\"Ᵹ\":\"G\",\"Ꝿ\":\"G\",\"Ⓗ\":\"H\",\"Ｈ\":\"H\",\"Ĥ\":\"H\",\"Ḣ\":\"H\",\"Ḧ\":\"H\",\"Ȟ\":\"H\",\"Ḥ\":\"H\",\"Ḩ\":\"H\",\"Ḫ\":\"H\",\"Ħ\":\"H\",\"Ⱨ\":\"H\",\"Ⱶ\":\"H\",\"Ɥ\":\"H\",\"Ⓘ\":\"I\",\"Ｉ\":\"I\",\"Ì\":\"I\",\"Í\":\"I\",\"Î\":\"I\",\"Ĩ\":\"I\",\"Ī\":\"I\",\"Ĭ\":\"I\",\"İ\":\"I\",\"Ï\":\"I\",\"Ḯ\":\"I\",\"Ỉ\":\"I\",\"Ǐ\":\"I\",\"Ȉ\":\"I\",\"Ȋ\":\"I\",\"Ị\":\"I\",\"Į\":\"I\",\"Ḭ\":\"I\",\"Ɨ\":\"I\",\"Ⓙ\":\"J\",\"Ｊ\":\"J\",\"Ĵ\":\"J\",\"Ɉ\":\"J\",\"Ⓚ\":\"K\",\"Ｋ\":\"K\",\"Ḱ\":\"K\",\"Ǩ\":\"K\",\"Ḳ\":\"K\",\"Ķ\":\"K\",\"Ḵ\":\"K\",\"Ƙ\":\"K\",\"Ⱪ\":\"K\",\"Ꝁ\":\"K\",\"Ꝃ\":\"K\",\"Ꝅ\":\"K\",\"Ꞣ\":\"K\",\"Ⓛ\":\"L\",\"Ｌ\":\"L\",\"Ŀ\":\"L\",\"Ĺ\":\"L\",\"Ľ\":\"L\",\"Ḷ\":\"L\",\"Ḹ\":\"L\",\"Ļ\":\"L\",\"Ḽ\":\"L\",\"Ḻ\":\"L\",\"Ł\":\"L\",\"Ƚ\":\"L\",\"Ɫ\":\"L\",\"Ⱡ\":\"L\",\"Ꝉ\":\"L\",\"Ꝇ\":\"L\",\"Ꞁ\":\"L\",\"Ǉ\":\"LJ\",\"ǈ\":\"Lj\",\"Ⓜ\":\"M\",\"Ｍ\":\"M\",\"Ḿ\":\"M\",\"Ṁ\":\"M\",\"Ṃ\":\"M\",\"Ɱ\":\"M\",\"Ɯ\":\"M\",\"Ⓝ\":\"N\",\"Ｎ\":\"N\",\"Ǹ\":\"N\",\"Ń\":\"N\",\"Ñ\":\"N\",\"Ṅ\":\"N\",\"Ň\":\"N\",\"Ṇ\":\"N\",\"Ņ\":\"N\",\"Ṋ\":\"N\",\"Ṉ\":\"N\",\"Ƞ\":\"N\",\"Ɲ\":\"N\",\"Ꞑ\":\"N\",\"Ꞥ\":\"N\",\"Ǌ\":\"NJ\",\"ǋ\":\"Nj\",\"Ⓞ\":\"O\",\"Ｏ\":\"O\",\"Ò\":\"O\",\"Ó\":\"O\",\"Ô\":\"O\",\"Ồ\":\"O\",\"Ố\":\"O\",\"Ỗ\":\"O\",\"Ổ\":\"O\",\"Õ\":\"O\",\"Ṍ\":\"O\",\"Ȭ\":\"O\",\"Ṏ\":\"O\",\"Ō\":\"O\",\"Ṑ\":\"O\",\"Ṓ\":\"O\",\"Ŏ\":\"O\",\"Ȯ\":\"O\",\"Ȱ\":\"O\",\"Ö\":\"O\",\"Ȫ\":\"O\",\"Ỏ\":\"O\",\"Ő\":\"O\",\"Ǒ\":\"O\",\"Ȍ\":\"O\",\"Ȏ\":\"O\",\"Ơ\":\"O\",\"Ờ\":\"O\",\"Ớ\":\"O\",\"Ỡ\":\"O\",\"Ở\":\"O\",\"Ợ\":\"O\",\"Ọ\":\"O\",\"Ộ\":\"O\",\"Ǫ\":\"O\",\"Ǭ\":\"O\",\"Ø\":\"O\",\"Ǿ\":\"O\",\"Ɔ\":\"O\",\"Ɵ\":\"O\",\"Ꝋ\":\"O\",\"Ꝍ\":\"O\",\"Œ\":\"OE\",\"Ƣ\":\"OI\",\"Ꝏ\":\"OO\",\"Ȣ\":\"OU\",\"Ⓟ\":\"P\",\"Ｐ\":\"P\",\"Ṕ\":\"P\",\"Ṗ\":\"P\",\"Ƥ\":\"P\",\"Ᵽ\":\"P\",\"Ꝑ\":\"P\",\"Ꝓ\":\"P\",\"Ꝕ\":\"P\",\"Ⓠ\":\"Q\",\"Ｑ\":\"Q\",\"Ꝗ\":\"Q\",\"Ꝙ\":\"Q\",\"Ɋ\":\"Q\",\"Ⓡ\":\"R\",\"Ｒ\":\"R\",\"Ŕ\":\"R\",\"Ṙ\":\"R\",\"Ř\":\"R\",\"Ȑ\":\"R\",\"Ȓ\":\"R\",\"Ṛ\":\"R\",\"Ṝ\":\"R\",\"Ŗ\":\"R\",\"Ṟ\":\"R\",\"Ɍ\":\"R\",\"Ɽ\":\"R\",\"Ꝛ\":\"R\",\"Ꞧ\":\"R\",\"Ꞃ\":\"R\",\"Ⓢ\":\"S\",\"Ｓ\":\"S\",\"ẞ\":\"S\",\"Ś\":\"S\",\"Ṥ\":\"S\",\"Ŝ\":\"S\",\"Ṡ\":\"S\",\"Š\":\"S\",\"Ṧ\":\"S\",\"Ṣ\":\"S\",\"Ṩ\":\"S\",\"Ș\":\"S\",\"Ş\":\"S\",\"Ȿ\":\"S\",\"Ꞩ\":\"S\",\"Ꞅ\":\"S\",\"Ⓣ\":\"T\",\"Ｔ\":\"T\",\"Ṫ\":\"T\",\"Ť\":\"T\",\"Ṭ\":\"T\",\"Ț\":\"T\",\"Ţ\":\"T\",\"Ṱ\":\"T\",\"Ṯ\":\"T\",\"Ŧ\":\"T\",\"Ƭ\":\"T\",\"Ʈ\":\"T\",\"Ⱦ\":\"T\",\"Ꞇ\":\"T\",\"Ꜩ\":\"TZ\",\"Ⓤ\":\"U\",\"Ｕ\":\"U\",\"Ù\":\"U\",\"Ú\":\"U\",\"Û\":\"U\",\"Ũ\":\"U\",\"Ṹ\":\"U\",\"Ū\":\"U\",\"Ṻ\":\"U\",\"Ŭ\":\"U\",\"Ü\":\"U\",\"Ǜ\":\"U\",\"Ǘ\":\"U\",\"Ǖ\":\"U\",\"Ǚ\":\"U\",\"Ủ\":\"U\",\"Ů\":\"U\",\"Ű\":\"U\",\"Ǔ\":\"U\",\"Ȕ\":\"U\",\"Ȗ\":\"U\",\"Ư\":\"U\",\"Ừ\":\"U\",\"Ứ\":\"U\",\"Ữ\":\"U\",\"Ử\":\"U\",\"Ự\":\"U\",\"Ụ\":\"U\",\"Ṳ\":\"U\",\"Ų\":\"U\",\"Ṷ\":\"U\",\"Ṵ\":\"U\",\"Ʉ\":\"U\",\"Ⓥ\":\"V\",\"Ｖ\":\"V\",\"Ṽ\":\"V\",\"Ṿ\":\"V\",\"Ʋ\":\"V\",\"Ꝟ\":\"V\",\"Ʌ\":\"V\",\"Ꝡ\":\"VY\",\"Ⓦ\":\"W\",\"Ｗ\":\"W\",\"Ẁ\":\"W\",\"Ẃ\":\"W\",\"Ŵ\":\"W\",\"Ẇ\":\"W\",\"Ẅ\":\"W\",\"Ẉ\":\"W\",\"Ⱳ\":\"W\",\"Ⓧ\":\"X\",\"Ｘ\":\"X\",\"Ẋ\":\"X\",\"Ẍ\":\"X\",\"Ⓨ\":\"Y\",\"Ｙ\":\"Y\",\"Ỳ\":\"Y\",\"Ý\":\"Y\",\"Ŷ\":\"Y\",\"Ỹ\":\"Y\",\"Ȳ\":\"Y\",\"Ẏ\":\"Y\",\"Ÿ\":\"Y\",\"Ỷ\":\"Y\",\"Ỵ\":\"Y\",\"Ƴ\":\"Y\",\"Ɏ\":\"Y\",\"Ỿ\":\"Y\",\"Ⓩ\":\"Z\",\"Ｚ\":\"Z\",\"Ź\":\"Z\",\"Ẑ\":\"Z\",\"Ż\":\"Z\",\"Ž\":\"Z\",\"Ẓ\":\"Z\",\"Ẕ\":\"Z\",\"Ƶ\":\"Z\",\"Ȥ\":\"Z\",\"Ɀ\":\"Z\",\"Ⱬ\":\"Z\",\"Ꝣ\":\"Z\",\"ⓐ\":\"a\",\"ａ\":\"a\",\"ẚ\":\"a\",\"à\":\"a\",\"á\":\"a\",\"â\":\"a\",\"ầ\":\"a\",\"ấ\":\"a\",\"ẫ\":\"a\",\"ẩ\":\"a\",\"ã\":\"a\",\"ā\":\"a\",\"ă\":\"a\",\"ằ\":\"a\",\"ắ\":\"a\",\"ẵ\":\"a\",\"ẳ\":\"a\",\"ȧ\":\"a\",\"ǡ\":\"a\",\"ä\":\"a\",\"ǟ\":\"a\",\"ả\":\"a\",\"å\":\"a\",\"ǻ\":\"a\",\"ǎ\":\"a\",\"ȁ\":\"a\",\"ȃ\":\"a\",\"ạ\":\"a\",\"ậ\":\"a\",\"ặ\":\"a\",\"ḁ\":\"a\",\"ą\":\"a\",\"ⱥ\":\"a\",\"ɐ\":\"a\",\"ꜳ\":\"aa\",\"æ\":\"ae\",\"ǽ\":\"ae\",\"ǣ\":\"ae\",\"ꜵ\":\"ao\",\"ꜷ\":\"au\",\"ꜹ\":\"av\",\"ꜻ\":\"av\",\"ꜽ\":\"ay\",\"ⓑ\":\"b\",\"ｂ\":\"b\",\"ḃ\":\"b\",\"ḅ\":\"b\",\"ḇ\":\"b\",\"ƀ\":\"b\",\"ƃ\":\"b\",\"ɓ\":\"b\",\"ⓒ\":\"c\",\"ｃ\":\"c\",\"ć\":\"c\",\"ĉ\":\"c\",\"ċ\":\"c\",\"č\":\"c\",\"ç\":\"c\",\"ḉ\":\"c\",\"ƈ\":\"c\",\"ȼ\":\"c\",\"ꜿ\":\"c\",\"ↄ\":\"c\",\"ⓓ\":\"d\",\"ｄ\":\"d\",\"ḋ\":\"d\",\"ď\":\"d\",\"ḍ\":\"d\",\"ḑ\":\"d\",\"ḓ\":\"d\",\"ḏ\":\"d\",\"đ\":\"d\",\"ƌ\":\"d\",\"ɖ\":\"d\",\"ɗ\":\"d\",\"ꝺ\":\"d\",\"ǳ\":\"dz\",\"ǆ\":\"dz\",\"ⓔ\":\"e\",\"ｅ\":\"e\",\"è\":\"e\",\"é\":\"e\",\"ê\":\"e\",\"ề\":\"e\",\"ế\":\"e\",\"ễ\":\"e\",\"ể\":\"e\",\"ẽ\":\"e\",\"ē\":\"e\",\"ḕ\":\"e\",\"ḗ\":\"e\",\"ĕ\":\"e\",\"ė\":\"e\",\"ë\":\"e\",\"ẻ\":\"e\",\"ě\":\"e\",\"ȅ\":\"e\",\"ȇ\":\"e\",\"ẹ\":\"e\",\"ệ\":\"e\",\"ȩ\":\"e\",\"ḝ\":\"e\",\"ę\":\"e\",\"ḙ\":\"e\",\"ḛ\":\"e\",\"ɇ\":\"e\",\"ɛ\":\"e\",\"ǝ\":\"e\",\"ⓕ\":\"f\",\"ｆ\":\"f\",\"ḟ\":\"f\",\"ƒ\":\"f\",\"ꝼ\":\"f\",\"ⓖ\":\"g\",\"ｇ\":\"g\",\"ǵ\":\"g\",\"ĝ\":\"g\",\"ḡ\":\"g\",\"ğ\":\"g\",\"ġ\":\"g\",\"ǧ\":\"g\",\"ģ\":\"g\",\"ǥ\":\"g\",\"ɠ\":\"g\",\"ꞡ\":\"g\",\"ᵹ\":\"g\",\"ꝿ\":\"g\",\"ⓗ\":\"h\",\"ｈ\":\"h\",\"ĥ\":\"h\",\"ḣ\":\"h\",\"ḧ\":\"h\",\"ȟ\":\"h\",\"ḥ\":\"h\",\"ḩ\":\"h\",\"ḫ\":\"h\",\"ẖ\":\"h\",\"ħ\":\"h\",\"ⱨ\":\"h\",\"ⱶ\":\"h\",\"ɥ\":\"h\",\"ƕ\":\"hv\",\"ⓘ\":\"i\",\"ｉ\":\"i\",\"ì\":\"i\",\"í\":\"i\",\"î\":\"i\",\"ĩ\":\"i\",\"ī\":\"i\",\"ĭ\":\"i\",\"ï\":\"i\",\"ḯ\":\"i\",\"ỉ\":\"i\",\"ǐ\":\"i\",\"ȉ\":\"i\",\"ȋ\":\"i\",\"ị\":\"i\",\"į\":\"i\",\"ḭ\":\"i\",\"ɨ\":\"i\",\"ı\":\"i\",\"ⓙ\":\"j\",\"ｊ\":\"j\",\"ĵ\":\"j\",\"ǰ\":\"j\",\"ɉ\":\"j\",\"ⓚ\":\"k\",\"ｋ\":\"k\",\"ḱ\":\"k\",\"ǩ\":\"k\",\"ḳ\":\"k\",\"ķ\":\"k\",\"ḵ\":\"k\",\"ƙ\":\"k\",\"ⱪ\":\"k\",\"ꝁ\":\"k\",\"ꝃ\":\"k\",\"ꝅ\":\"k\",\"ꞣ\":\"k\",\"ⓛ\":\"l\",\"ｌ\":\"l\",\"ŀ\":\"l\",\"ĺ\":\"l\",\"ľ\":\"l\",\"ḷ\":\"l\",\"ḹ\":\"l\",\"ļ\":\"l\",\"ḽ\":\"l\",\"ḻ\":\"l\",\"ſ\":\"l\",\"ł\":\"l\",\"ƚ\":\"l\",\"ɫ\":\"l\",\"ⱡ\":\"l\",\"ꝉ\":\"l\",\"ꞁ\":\"l\",\"ꝇ\":\"l\",\"ǉ\":\"lj\",\"ⓜ\":\"m\",\"ｍ\":\"m\",\"ḿ\":\"m\",\"ṁ\":\"m\",\"ṃ\":\"m\",\"ɱ\":\"m\",\"ɯ\":\"m\",\"ⓝ\":\"n\",\"ｎ\":\"n\",\"ǹ\":\"n\",\"ń\":\"n\",\"ñ\":\"n\",\"ṅ\":\"n\",\"ň\":\"n\",\"ṇ\":\"n\",\"ņ\":\"n\",\"ṋ\":\"n\",\"ṉ\":\"n\",\"ƞ\":\"n\",\"ɲ\":\"n\",\"ŉ\":\"n\",\"ꞑ\":\"n\",\"ꞥ\":\"n\",\"ǌ\":\"nj\",\"ⓞ\":\"o\",\"ｏ\":\"o\",\"ò\":\"o\",\"ó\":\"o\",\"ô\":\"o\",\"ồ\":\"o\",\"ố\":\"o\",\"ỗ\":\"o\",\"ổ\":\"o\",\"õ\":\"o\",\"ṍ\":\"o\",\"ȭ\":\"o\",\"ṏ\":\"o\",\"ō\":\"o\",\"ṑ\":\"o\",\"ṓ\":\"o\",\"ŏ\":\"o\",\"ȯ\":\"o\",\"ȱ\":\"o\",\"ö\":\"o\",\"ȫ\":\"o\",\"ỏ\":\"o\",\"ő\":\"o\",\"ǒ\":\"o\",\"ȍ\":\"o\",\"ȏ\":\"o\",\"ơ\":\"o\",\"ờ\":\"o\",\"ớ\":\"o\",\"ỡ\":\"o\",\"ở\":\"o\",\"ợ\":\"o\",\"ọ\":\"o\",\"ộ\":\"o\",\"ǫ\":\"o\",\"ǭ\":\"o\",\"ø\":\"o\",\"ǿ\":\"o\",\"ɔ\":\"o\",\"ꝋ\":\"o\",\"ꝍ\":\"o\",\"ɵ\":\"o\",\"œ\":\"oe\",\"ƣ\":\"oi\",\"ȣ\":\"ou\",\"ꝏ\":\"oo\",\"ⓟ\":\"p\",\"ｐ\":\"p\",\"ṕ\":\"p\",\"ṗ\":\"p\",\"ƥ\":\"p\",\"ᵽ\":\"p\",\"ꝑ\":\"p\",\"ꝓ\":\"p\",\"ꝕ\":\"p\",\"ⓠ\":\"q\",\"ｑ\":\"q\",\"ɋ\":\"q\",\"ꝗ\":\"q\",\"ꝙ\":\"q\",\"ⓡ\":\"r\",\"ｒ\":\"r\",\"ŕ\":\"r\",\"ṙ\":\"r\",\"ř\":\"r\",\"ȑ\":\"r\",\"ȓ\":\"r\",\"ṛ\":\"r\",\"ṝ\":\"r\",\"ŗ\":\"r\",\"ṟ\":\"r\",\"ɍ\":\"r\",\"ɽ\":\"r\",\"ꝛ\":\"r\",\"ꞧ\":\"r\",\"ꞃ\":\"r\",\"ⓢ\":\"s\",\"ｓ\":\"s\",\"ß\":\"s\",\"ś\":\"s\",\"ṥ\":\"s\",\"ŝ\":\"s\",\"ṡ\":\"s\",\"š\":\"s\",\"ṧ\":\"s\",\"ṣ\":\"s\",\"ṩ\":\"s\",\"ș\":\"s\",\"ş\":\"s\",\"ȿ\":\"s\",\"ꞩ\":\"s\",\"ꞅ\":\"s\",\"ẛ\":\"s\",\"ⓣ\":\"t\",\"ｔ\":\"t\",\"ṫ\":\"t\",\"ẗ\":\"t\",\"ť\":\"t\",\"ṭ\":\"t\",\"ț\":\"t\",\"ţ\":\"t\",\"ṱ\":\"t\",\"ṯ\":\"t\",\"ŧ\":\"t\",\"ƭ\":\"t\",\"ʈ\":\"t\",\"ⱦ\":\"t\",\"ꞇ\":\"t\",\"ꜩ\":\"tz\",\"ⓤ\":\"u\",\"ｕ\":\"u\",\"ù\":\"u\",\"ú\":\"u\",\"û\":\"u\",\"ũ\":\"u\",\"ṹ\":\"u\",\"ū\":\"u\",\"ṻ\":\"u\",\"ŭ\":\"u\",\"ü\":\"u\",\"ǜ\":\"u\",\"ǘ\":\"u\",\"ǖ\":\"u\",\"ǚ\":\"u\",\"ủ\":\"u\",\"ů\":\"u\",\"ű\":\"u\",\"ǔ\":\"u\",\"ȕ\":\"u\",\"ȗ\":\"u\",\"ư\":\"u\",\"ừ\":\"u\",\"ứ\":\"u\",\"ữ\":\"u\",\"ử\":\"u\",\"ự\":\"u\",\"ụ\":\"u\",\"ṳ\":\"u\",\"ų\":\"u\",\"ṷ\":\"u\",\"ṵ\":\"u\",\"ʉ\":\"u\",\"ⓥ\":\"v\",\"ｖ\":\"v\",\"ṽ\":\"v\",\"ṿ\":\"v\",\"ʋ\":\"v\",\"ꝟ\":\"v\",\"ʌ\":\"v\",\"ꝡ\":\"vy\",\"ⓦ\":\"w\",\"ｗ\":\"w\",\"ẁ\":\"w\",\"ẃ\":\"w\",\"ŵ\":\"w\",\"ẇ\":\"w\",\"ẅ\":\"w\",\"ẘ\":\"w\",\"ẉ\":\"w\",\"ⱳ\":\"w\",\"ⓧ\":\"x\",\"ｘ\":\"x\",\"ẋ\":\"x\",\"ẍ\":\"x\",\"ⓨ\":\"y\",\"ｙ\":\"y\",\"ỳ\":\"y\",\"ý\":\"y\",\"ŷ\":\"y\",\"ỹ\":\"y\",\"ȳ\":\"y\",\"ẏ\":\"y\",\"ÿ\":\"y\",\"ỷ\":\"y\",\"ẙ\":\"y\",\"ỵ\":\"y\",\"ƴ\":\"y\",\"ɏ\":\"y\",\"ỿ\":\"y\",\"ⓩ\":\"z\",\"ｚ\":\"z\",\"ź\":\"z\",\"ẑ\":\"z\",\"ż\":\"z\",\"ž\":\"z\",\"ẓ\":\"z\",\"ẕ\":\"z\",\"ƶ\":\"z\",\"ȥ\":\"z\",\"ɀ\":\"z\",\"ⱬ\":\"z\",\"ꝣ\":\"z\",\"Ά\":\"Α\",\"Έ\":\"Ε\",\"Ή\":\"Η\",\"Ί\":\"Ι\",\"Ϊ\":\"Ι\",\"Ό\":\"Ο\",\"Ύ\":\"Υ\",\"Ϋ\":\"Υ\",\"Ώ\":\"Ω\",\"ά\":\"α\",\"έ\":\"ε\",\"ή\":\"η\",\"ί\":\"ι\",\"ϊ\":\"ι\",\"ΐ\":\"ι\",\"ό\":\"ο\",\"ύ\":\"υ\",\"ϋ\":\"υ\",\"ΰ\":\"υ\",\"ώ\":\"ω\",\"ς\":\"σ\",\"’\":\"'\"}}),u.define(\"select2/data/base\",[\"../utils\"],function(n){function s(e,t){s.__super__.constructor.call(this)}return n.Extend(s,n.Observable),s.prototype.current=function(e){throw new Error(\"The `current` method must be defined in child classes.\")},s.prototype.query=function(e,t){throw new Error(\"The `query` method must be defined in child classes.\")},s.prototype.bind=function(e,t){},s.prototype.destroy=function(){},s.prototype.generateResultId=function(e,t){e=e.id+\"-result-\";return e+=n.generateChars(4),null!=t.id?e+=\"-\"+t.id.toString():e+=\"-\"+n.generateChars(4),e},s}),u.define(\"select2/data/select\",[\"./base\",\"../utils\",\"jquery\"],function(e,a,l){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return a.Extend(n,e),n.prototype.current=function(e){var t=this;e(Array.prototype.map.call(this.$element[0].querySelectorAll(\":checked\"),function(e){return t.item(l(e))}))},n.prototype.select=function(i){var e,r=this;if(i.selected=!0,null!=i.element&&\"option\"===i.element.tagName.toLowerCase())return i.element.selected=!0,void this.$element.trigger(\"input\").trigger(\"change\");this.$element.prop(\"multiple\")?this.current(function(e){var t=[];(i=[i]).push.apply(i,e);for(var n=0;n<i.length;n++){var s=i[n].id;-1===t.indexOf(s)&&t.push(s)}r.$element.val(t),r.$element.trigger(\"input\").trigger(\"change\")}):(e=i.id,this.$element.val(e),this.$element.trigger(\"input\").trigger(\"change\"))},n.prototype.unselect=function(i){var r=this;if(this.$element.prop(\"multiple\")){if(i.selected=!1,null!=i.element&&\"option\"===i.element.tagName.toLowerCase())return i.element.selected=!1,void this.$element.trigger(\"input\").trigger(\"change\");this.current(function(e){for(var t=[],n=0;n<e.length;n++){var s=e[n].id;s!==i.id&&-1===t.indexOf(s)&&t.push(s)}r.$element.val(t),r.$element.trigger(\"input\").trigger(\"change\")})}},n.prototype.bind=function(e,t){var n=this;(this.container=e).on(\"select\",function(e){n.select(e.data)}),e.on(\"unselect\",function(e){n.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find(\"*\").each(function(){a.RemoveData(this)})},n.prototype.query=function(t,e){var n=[],s=this;this.$element.children().each(function(){var e;\"option\"!==this.tagName.toLowerCase()&&\"optgroup\"!==this.tagName.toLowerCase()||(e=l(this),e=s.item(e),null!==(e=s.matches(t,e))&&n.push(e))}),e({results:n})},n.prototype.addOptions=function(e){this.$element.append(e)},n.prototype.option=function(e){var t;e.children?(t=document.createElement(\"optgroup\")).label=e.text:void 0!==(t=document.createElement(\"option\")).textContent?t.textContent=e.text:t.innerText=e.text,void 0!==e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);e=this._normalizeItem(e);return e.element=t,a.StoreData(t,\"data\",e),l(t)},n.prototype.item=function(e){var t={};if(null!=(t=a.GetData(e[0],\"data\")))return t;var n=e[0];if(\"option\"===n.tagName.toLowerCase())t={id:e.val(),text:e.text(),disabled:e.prop(\"disabled\"),selected:e.prop(\"selected\"),title:e.prop(\"title\")};else if(\"optgroup\"===n.tagName.toLowerCase()){t={text:e.prop(\"label\"),children:[],title:e.prop(\"title\")};for(var s=e.children(\"option\"),i=[],r=0;r<s.length;r++){var o=l(s[r]),o=this.item(o);i.push(o)}t.children=i}return(t=this._normalizeItem(t)).element=e[0],a.StoreData(e[0],\"data\",t),t},n.prototype._normalizeItem=function(e){e!==Object(e)&&(e={id:e,text:e});return null!=(e=l.extend({},{text:\"\"},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),l.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get(\"matcher\")(e,t)},n}),u.define(\"select2/data/array\",[\"./select\",\"../utils\",\"jquery\"],function(e,t,c){function s(e,t){this._dataToConvert=t.get(\"data\")||[],s.__super__.constructor.call(this,e,t)}return t.Extend(s,e),s.prototype.bind=function(e,t){s.__super__.bind.call(this,e,t),this.addOptions(this.convertToOptions(this._dataToConvert))},s.prototype.select=function(n){var e=this.$element.find(\"option\").filter(function(e,t){return t.value==n.id.toString()});0===e.length&&(e=this.option(n),this.addOptions(e)),s.__super__.select.call(this,n)},s.prototype.convertToOptions=function(e){var t=this,n=this.$element.find(\"option\"),s=n.map(function(){return t.item(c(this)).id}).get(),i=[];for(var r=0;r<e.length;r++){var o,a,l=this._normalizeItem(e[r]);0<=s.indexOf(l.id)?(o=n.filter(function(e){return function(){return c(this).val()==e.id}}(l)),a=this.item(o),a=c.extend(!0,{},l,a),a=this.option(a),o.replaceWith(a)):(a=this.option(l),l.children&&(l=this.convertToOptions(l.children),a.append(l)),i.push(a))}return i},s}),u.define(\"select2/data/ajax\",[\"./array\",\"../utils\",\"jquery\"],function(e,t,r){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get(\"ajax\")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){var t={data:function(e){return r.extend({},e,{q:e.term})},transport:function(e,t,n){e=r.ajax(e);return e.then(t),e.fail(n),e}};return r.extend({},t,e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(t,n){var s=this;null!=this._request&&(\"function\"==typeof this._request.abort&&this._request.abort(),this._request=null);var i=r.extend({type:\"GET\"},this.ajaxOptions);function e(){var e=i.transport(i,function(e){e=s.processResults(e,t);s.options.get(\"debug\")&&window.console&&console.error&&(e&&e.results&&Array.isArray(e.results)||console.error(\"Select2: The AJAX results did not return an array in the `results` key of the response.\")),n(e)},function(){\"status\"in e&&(0===e.status||\"0\"===e.status)||s.trigger(\"results:message\",{message:\"errorLoading\"})});s._request=e}\"function\"==typeof i.url&&(i.url=i.url.call(this.$element,t)),\"function\"==typeof i.data&&(i.data=i.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(e,this.ajaxOptions.delay)):e()},n}),u.define(\"select2/data/tags\",[\"jquery\"],function(t){function e(e,t,n){var s=n.get(\"tags\"),i=n.get(\"createTag\");void 0!==i&&(this.createTag=i);i=n.get(\"insertTag\");if(void 0!==i&&(this.insertTag=i),e.call(this,t,n),Array.isArray(s))for(var r=0;r<s.length;r++){var o=s[r],o=this._normalizeItem(o),o=this.option(o);this.$element.append(o)}}return e.prototype.query=function(e,c,u){var d=this;this._removeOldTags(),null!=c.term&&null==c.page?e.call(this,c,function e(t,n){for(var s=t.results,i=0;i<s.length;i++){var r=s[i],o=null!=r.children&&!e({results:r.children},!0);if((r.text||\"\").toUpperCase()===(c.term||\"\").toUpperCase()||o)return!n&&(t.data=s,void u(t))}if(n)return!0;var a,l=d.createTag(c);null!=l&&((a=d.option(l)).attr(\"data-select2-tag\",\"true\"),d.addOptions([a]),d.insertTag(s,l)),t.results=s,u(t)}):e.call(this,c,u)},e.prototype.createTag=function(e,t){if(null==t.term)return null;t=t.term.trim();return\"\"===t?null:{id:t,text:t}},e.prototype.insertTag=function(e,t,n){t.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find(\"option[data-select2-tag]\").each(function(){this.selected||t(this).remove()})},e}),u.define(\"select2/data/tokenizer\",[\"jquery\"],function(c){function e(e,t,n){var s=n.get(\"tokenizer\");void 0!==s&&(this.tokenizer=s),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(\".select2-search__field\")},e.prototype.query=function(e,t,n){var s=this;t.term=t.term||\"\";var i=this.tokenizer(t,this.options,function(e){var t,n=s._normalizeItem(e);s.$element.find(\"option\").filter(function(){return c(this).val()===n.id}).length||((t=s.option(n)).attr(\"data-select2-tag\",!0),s._removeOldTags(),s.addOptions([t])),t=n,s.trigger(\"select\",{data:t})});i.term!==t.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.trigger(\"focus\")),t.term=i.term),e.call(this,t,n)},e.prototype.tokenizer=function(e,t,n,s){for(var i=n.get(\"tokenSeparators\")||[],r=t.term,o=0,a=this.createTag||function(e){return{id:e.term,text:e.term}};o<r.length;){var l=r[o];-1!==i.indexOf(l)?(l=r.substr(0,o),null!=(l=a(c.extend({},t,{term:l})))?(s(l),r=r.substr(o+1)||\"\",o=0):o++):o++}return{term:r}},e}),u.define(\"select2/data/minimumInputLength\",[],function(){function e(e,t,n){this.minimumInputLength=n.get(\"minimumInputLength\"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||\"\",t.term.length<this.minimumInputLength?this.trigger(\"results:message\",{message:\"inputTooShort\",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),u.define(\"select2/data/maximumInputLength\",[],function(){function e(e,t,n){this.maximumInputLength=n.get(\"maximumInputLength\"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||\"\",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger(\"results:message\",{message:\"inputTooLong\",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),u.define(\"select2/data/maximumSelectionLength\",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get(\"maximumSelectionLength\"),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var s=this;e.call(this,t,n),t.on(\"select\",function(){s._checkIfMaximumSelected()})},e.prototype.query=function(e,t,n){var s=this;this._checkIfMaximumSelected(function(){e.call(s,t,n)})},e.prototype._checkIfMaximumSelected=function(e,t){var n=this;this.current(function(e){e=null!=e?e.length:0;0<n.maximumSelectionLength&&e>=n.maximumSelectionLength?n.trigger(\"results:message\",{message:\"maximumSelected\",args:{maximum:n.maximumSelectionLength}}):t&&t()})},e}),u.define(\"select2/dropdown\",[\"jquery\",\"./utils\"],function(t,e){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class=\"select2-dropdown\"><span class=\"select2-results\"></span></span>');return e.attr(\"dir\",this.options.get(\"dir\")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),u.define(\"select2/dropdown/search\",[\"jquery\"],function(r){function e(){}return e.prototype.render=function(e){var t=e.call(this),n=this.options.get(\"translations\").get(\"search\"),e=r('<span class=\"select2-search select2-search--dropdown\"><input class=\"select2-search__field\" type=\"search\" tabindex=\"-1\" autocorrect=\"off\" autocapitalize=\"none\" spellcheck=\"false\" role=\"searchbox\" aria-autocomplete=\"list\" /></span>');return this.$searchContainer=e,this.$search=e.find(\"input\"),this.$search.prop(\"autocomplete\",this.options.get(\"autocomplete\")),this.$search.attr(\"aria-label\",n()),t.prepend(e),t},e.prototype.bind=function(e,t,n){var s=this,i=t.id+\"-results\";e.call(this,t,n),this.$search.on(\"keydown\",function(e){s.trigger(\"keypress\",e),s._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on(\"input\",function(e){r(this).off(\"keyup\")}),this.$search.on(\"keyup input\",function(e){s.handleSearch(e)}),t.on(\"open\",function(){s.$search.attr(\"tabindex\",0),s.$search.attr(\"aria-controls\",i),s.$search.trigger(\"focus\"),window.setTimeout(function(){s.$search.trigger(\"focus\")},0)}),t.on(\"close\",function(){s.$search.attr(\"tabindex\",-1),s.$search.removeAttr(\"aria-controls\"),s.$search.removeAttr(\"aria-activedescendant\"),s.$search.val(\"\"),s.$search.trigger(\"blur\")}),t.on(\"focus\",function(){t.isOpen()||s.$search.trigger(\"focus\")}),t.on(\"results:all\",function(e){null!=e.query.term&&\"\"!==e.query.term||(s.showSearch(e)?s.$searchContainer[0].classList.remove(\"select2-search--hide\"):s.$searchContainer[0].classList.add(\"select2-search--hide\"))}),t.on(\"results:focus\",function(e){e.data._resultId?s.$search.attr(\"aria-activedescendant\",e.data._resultId):s.$search.removeAttr(\"aria-activedescendant\")})},e.prototype.handleSearch=function(e){var t;this._keyUpPrevented||(t=this.$search.val(),this.trigger(\"query\",{term:t})),this._keyUpPrevented=!1},e.prototype.showSearch=function(e,t){return!0},e}),u.define(\"select2/dropdown/hidePlaceholder\",[],function(){function e(e,t,n,s){this.placeholder=this.normalizePlaceholder(n.get(\"placeholder\")),e.call(this,t,n,s)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return\"string\"==typeof t&&(t={id:\"\",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),s=t.length-1;0<=s;s--){var i=t[s];this.placeholder.id===i.id&&n.splice(s,1)}return n},e}),u.define(\"select2/dropdown/infiniteScroll\",[\"jquery\"],function(n){function e(e,t,n,s){this.lastParams={},e.call(this,t,n,s),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(e,t,n){var s=this;e.call(this,t,n),t.on(\"query\",function(e){s.lastParams=e,s.loading=!0}),t.on(\"query:append\",function(e){s.lastParams=e,s.loading=!0}),this.$results.on(\"scroll\",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=n.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&(e=this.$results.offset().top+this.$results.outerHeight(!1),this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=e+50&&this.loadMore())},e.prototype.loadMore=function(){this.loading=!0;var e=n.extend({},{page:1},this.lastParams);e.page++,this.trigger(\"query:append\",e)},e.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},e.prototype.createLoadingMore=function(){var e=n('<li class=\"select2-results__option select2-results__option--load-more\"role=\"option\" aria-disabled=\"true\"></li>'),t=this.options.get(\"translations\").get(\"loadingMore\");return e.html(t(this.lastParams)),e},e}),u.define(\"select2/dropdown/attachBody\",[\"jquery\",\"../utils\"],function(u,o){function e(e,t,n){this.$dropdownParent=u(n.get(\"dropdownParent\")||document.body),e.call(this,t,n)}return e.prototype.bind=function(e,t,n){var s=this;e.call(this,t,n),t.on(\"open\",function(){s._showDropdown(),s._attachPositioningHandler(t),s._bindContainerResultHandlers(t)}),t.on(\"close\",function(){s._hideDropdown(),s._detachPositioningHandler(t)}),this.$dropdownContainer.on(\"mousedown\",function(e){e.stopPropagation()})},e.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},e.prototype.position=function(e,t,n){t.attr(\"class\",n.attr(\"class\")),t[0].classList.remove(\"select2\"),t[0].classList.add(\"select2-container--open\"),t.css({position:\"absolute\",top:-999999}),this.$container=n},e.prototype.render=function(e){var t=u(\"<span></span>\"),e=e.call(this);return t.append(e),this.$dropdownContainer=t},e.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},e.prototype._bindContainerResultHandlers=function(e,t){var n;this._containerResultsHandlersBound||(n=this,t.on(\"results:all\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"results:append\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"results:message\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"select\",function(){n._positionDropdown(),n._resizeDropdown()}),t.on(\"unselect\",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0)},e.prototype._attachPositioningHandler=function(e,t){var n=this,s=\"scroll.select2.\"+t.id,i=\"resize.select2.\"+t.id,r=\"orientationchange.select2.\"+t.id,t=this.$container.parents().filter(o.hasScroll);t.each(function(){o.StoreData(this,\"select2-scroll-position\",{x:u(this).scrollLeft(),y:u(this).scrollTop()})}),t.on(s,function(e){var t=o.GetData(this,\"select2-scroll-position\");u(this).scrollTop(t.y)}),u(window).on(s+\" \"+i+\" \"+r,function(e){n._positionDropdown(),n._resizeDropdown()})},e.prototype._detachPositioningHandler=function(e,t){var n=\"scroll.select2.\"+t.id,s=\"resize.select2.\"+t.id,t=\"orientationchange.select2.\"+t.id;this.$container.parents().filter(o.hasScroll).off(n),u(window).off(n+\" \"+s+\" \"+t)},e.prototype._positionDropdown=function(){var e=u(window),t=this.$dropdown[0].classList.contains(\"select2-dropdown--above\"),n=this.$dropdown[0].classList.contains(\"select2-dropdown--below\"),s=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var r={height:this.$container.outerHeight(!1)};r.top=i.top,r.bottom=i.top+r.height;var o=this.$dropdown.outerHeight(!1),a=e.scrollTop(),l=e.scrollTop()+e.height(),c=a<i.top-o,e=l>i.bottom+o,a={left:i.left,top:r.bottom},l=this.$dropdownParent;\"static\"===l.css(\"position\")&&(l=l.offsetParent());i={top:0,left:0};(u.contains(document.body,l[0])||l[0].isConnected)&&(i=l.offset()),a.top-=i.top,a.left-=i.left,t||n||(s=\"below\"),e||!c||t?!c&&e&&t&&(s=\"below\"):s=\"above\",(\"above\"==s||t&&\"below\"!==s)&&(a.top=r.top-i.top-o),null!=s&&(this.$dropdown[0].classList.remove(\"select2-dropdown--below\"),this.$dropdown[0].classList.remove(\"select2-dropdown--above\"),this.$dropdown[0].classList.add(\"select2-dropdown--\"+s),this.$container[0].classList.remove(\"select2-container--below\"),this.$container[0].classList.remove(\"select2-container--above\"),this.$container[0].classList.add(\"select2-container--\"+s)),this.$dropdownContainer.css(a)},e.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+\"px\"};this.options.get(\"dropdownAutoWidth\")&&(e.minWidth=e.width,e.position=\"relative\",e.width=\"auto\"),this.$dropdown.css(e)},e.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},e}),u.define(\"select2/dropdown/minimumResultsForSearch\",[],function(){function e(e,t,n,s){this.minimumResultsForSearch=n.get(\"minimumResultsForSearch\"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,s)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var n=0,s=0;s<t.length;s++){var i=t[s];i.children?n+=e(i.children):n++}return n}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),u.define(\"select2/dropdown/selectOnClose\",[\"../utils\"],function(s){function e(){}return e.prototype.bind=function(e,t,n){var s=this;e.call(this,t,n),t.on(\"close\",function(e){s._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if(\"select\"===n._type||\"unselect\"===n._type)return}n=this.getHighlightedResults();n.length<1||(null!=(n=s.GetData(n[0],\"data\")).element&&n.element.selected||null==n.element&&n.selected||this.trigger(\"select\",{data:n}))},e}),u.define(\"select2/dropdown/closeOnSelect\",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var s=this;e.call(this,t,n),t.on(\"select\",function(e){s._selectTriggered(e)}),t.on(\"unselect\",function(e){s._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger(\"close\",{originalEvent:n,originalSelect2Event:t})},e}),u.define(\"select2/dropdown/dropdownCss\",[\"../utils\"],function(n){function e(){}return e.prototype.render=function(e){var t=e.call(this),e=this.options.get(\"dropdownCssClass\")||\"\";return-1!==e.indexOf(\":all:\")&&(e=e.replace(\":all:\",\"\"),n.copyNonInternalCssClasses(t[0],this.$element[0])),t.addClass(e),t},e}),u.define(\"select2/dropdown/tagsSearchHighlight\",[\"../utils\"],function(s){function e(){}return e.prototype.highlightFirstItem=function(e){var t=this.$results.find(\".select2-results__option--selectable:not(.select2-results__option--selected)\");if(0<t.length){var n=t.first(),t=s.GetData(n[0],\"data\").element;if(t&&t.getAttribute&&\"true\"===t.getAttribute(\"data-select2-tag\"))return void n.trigger(\"mouseenter\")}e.call(this)},e}),u.define(\"select2/i18n/en\",[],function(){return{errorLoading:function(){return\"The results could not be loaded.\"},inputTooLong:function(e){var t=e.input.length-e.maximum,e=\"Please delete \"+t+\" character\";return 1!=t&&(e+=\"s\"),e},inputTooShort:function(e){return\"Please enter \"+(e.minimum-e.input.length)+\" or more characters\"},loadingMore:function(){return\"Loading more results…\"},maximumSelected:function(e){var t=\"You can only select \"+e.maximum+\" item\";return 1!=e.maximum&&(t+=\"s\"),t},noResults:function(){return\"No results found\"},searching:function(){return\"Searching…\"},removeAllItems:function(){return\"Remove all items\"},removeItem:function(){return\"Remove item\"},search:function(){return\"Search\"}}}),u.define(\"select2/defaults\",[\"jquery\",\"./results\",\"./selection/single\",\"./selection/multiple\",\"./selection/placeholder\",\"./selection/allowClear\",\"./selection/search\",\"./selection/selectionCss\",\"./selection/eventRelay\",\"./utils\",\"./translation\",\"./diacritics\",\"./data/select\",\"./data/array\",\"./data/ajax\",\"./data/tags\",\"./data/tokenizer\",\"./data/minimumInputLength\",\"./data/maximumInputLength\",\"./data/maximumSelectionLength\",\"./dropdown\",\"./dropdown/search\",\"./dropdown/hidePlaceholder\",\"./dropdown/infiniteScroll\",\"./dropdown/attachBody\",\"./dropdown/minimumResultsForSearch\",\"./dropdown/selectOnClose\",\"./dropdown/closeOnSelect\",\"./dropdown/dropdownCss\",\"./dropdown/tagsSearchHighlight\",\"./i18n/en\"],function(l,r,o,a,c,u,d,p,h,f,g,t,m,y,v,_,b,$,w,x,A,D,S,E,O,C,L,T,q,I,e){function n(){this.reset()}return n.prototype.apply=function(e){var t;null==(e=l.extend(!0,{},this.defaults,e)).dataAdapter&&(null!=e.ajax?e.dataAdapter=v:null!=e.data?e.dataAdapter=y:e.dataAdapter=m,0<e.minimumInputLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,$)),0<e.maximumInputLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,w)),0<e.maximumSelectionLength&&(e.dataAdapter=f.Decorate(e.dataAdapter,x)),e.tags&&(e.dataAdapter=f.Decorate(e.dataAdapter,_)),null==e.tokenSeparators&&null==e.tokenizer||(e.dataAdapter=f.Decorate(e.dataAdapter,b))),null==e.resultsAdapter&&(e.resultsAdapter=r,null!=e.ajax&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,E)),null!=e.placeholder&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,S)),e.selectOnClose&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,L)),e.tags&&(e.resultsAdapter=f.Decorate(e.resultsAdapter,I))),null==e.dropdownAdapter&&(e.multiple?e.dropdownAdapter=A:(t=f.Decorate(A,D),e.dropdownAdapter=t),0!==e.minimumResultsForSearch&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,C)),e.closeOnSelect&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,T)),null!=e.dropdownCssClass&&(e.dropdownAdapter=f.Decorate(e.dropdownAdapter,q)),e.dropdownAdapter=f.Decorate(e.dropdownAdapter,O)),null==e.selectionAdapter&&(e.multiple?e.selectionAdapter=a:e.selectionAdapter=o,null!=e.placeholder&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,c)),e.allowClear&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,u)),e.multiple&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,d)),null!=e.selectionCssClass&&(e.selectionAdapter=f.Decorate(e.selectionAdapter,p)),e.selectionAdapter=f.Decorate(e.selectionAdapter,h)),e.language=this._resolveLanguage(e.language),e.language.push(\"en\");for(var n=[],s=0;s<e.language.length;s++){var i=e.language[s];-1===n.indexOf(i)&&n.push(i)}return e.language=n,e.translations=this._processTranslations(e.language,e.debug),e},n.prototype.reset=function(){function a(e){return e.replace(/[^\\u0000-\\u007E]/g,function(e){return t[e]||e})}this.defaults={amdLanguageBase:\"./i18n/\",autocomplete:\"off\",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:f.escapeMarkup,language:{},matcher:function e(t,n){if(null==t.term||\"\"===t.term.trim())return n;if(n.children&&0<n.children.length){for(var s=l.extend(!0,{},n),i=n.children.length-1;0<=i;i--)null==e(t,n.children[i])&&s.children.splice(i,1);return 0<s.children.length?s:e(t,s)}var r=a(n.text).toUpperCase(),o=a(t.term).toUpperCase();return-1<r.indexOf(o)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:\"default\",width:\"resolve\"}},n.prototype.applyFromElement=function(e,t){var n=e.language,s=this.defaults.language,i=t.prop(\"lang\"),t=t.closest(\"[lang]\").prop(\"lang\"),t=Array.prototype.concat.call(this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(s),this._resolveLanguage(t));return e.language=t,e},n.prototype._resolveLanguage=function(e){if(!e)return[];if(l.isEmptyObject(e))return[];if(l.isPlainObject(e))return[e];for(var t,n=Array.isArray(e)?e:[e],s=[],i=0;i<n.length;i++)s.push(n[i]),\"string\"==typeof n[i]&&0<n[i].indexOf(\"-\")&&(t=n[i].split(\"-\")[0],s.push(t));return s},n.prototype._processTranslations=function(e,t){for(var n=new g,s=0;s<e.length;s++){var i=new g,r=e[s];if(\"string\"==typeof r)try{i=g.loadPath(r)}catch(e){try{r=this.defaults.amdLanguageBase+r,i=g.loadPath(r)}catch(e){t&&window.console&&console.warn&&console.warn('Select2: The language file for \"'+r+'\" could not be automatically loaded. A fallback will be used instead.')}}else i=l.isPlainObject(r)?new g(r):r;n.extend(i)}return n},n.prototype.set=function(e,t){var n={};n[l.camelCase(e)]=t;n=f._convertData(n);l.extend(!0,this.defaults,n)},new n}),u.define(\"select2/options\",[\"jquery\",\"./defaults\",\"./utils\"],function(c,n,u){function e(e,t){this.options=e,null!=t&&this.fromElement(t),null!=t&&(this.options=n.applyFromElement(this.options,t)),this.options=n.apply(this.options)}return e.prototype.fromElement=function(e){var t=[\"select2\"];null==this.options.multiple&&(this.options.multiple=e.prop(\"multiple\")),null==this.options.disabled&&(this.options.disabled=e.prop(\"disabled\")),null==this.options.autocomplete&&e.prop(\"autocomplete\")&&(this.options.autocomplete=e.prop(\"autocomplete\")),null==this.options.dir&&(e.prop(\"dir\")?this.options.dir=e.prop(\"dir\"):e.closest(\"[dir]\").prop(\"dir\")?this.options.dir=e.closest(\"[dir]\").prop(\"dir\"):this.options.dir=\"ltr\"),e.prop(\"disabled\",this.options.disabled),e.prop(\"multiple\",this.options.multiple),u.GetData(e[0],\"select2Tags\")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags=\"true\"` attributes and will be removed in future versions of Select2.'),u.StoreData(e[0],\"data\",u.GetData(e[0],\"select2Tags\")),u.StoreData(e[0],\"tags\",!0)),u.GetData(e[0],\"ajaxUrl\")&&(this.options.debug&&window.console&&console.warn&&console.warn(\"Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2.\"),e.attr(\"ajax--url\",u.GetData(e[0],\"ajaxUrl\")),u.StoreData(e[0],\"ajax-Url\",u.GetData(e[0],\"ajaxUrl\")));var n={};function s(e,t){return t.toUpperCase()}for(var i=0;i<e[0].attributes.length;i++){var r=e[0].attributes[i].name,o=\"data-\";r.substr(0,o.length)==o&&(r=r.substring(o.length),o=u.GetData(e[0],r),n[r.replace(/-([a-z])/g,s)]=o)}c.fn.jquery&&\"1.\"==c.fn.jquery.substr(0,2)&&e[0].dataset&&(n=c.extend(!0,{},e[0].dataset,n));var a,l=c.extend(!0,{},u.GetData(e[0]),n);for(a in l=u._convertData(l))-1<t.indexOf(a)||(c.isPlainObject(this.options[a])?c.extend(this.options[a],l[a]):this.options[a]=l[a]);return this},e.prototype.get=function(e){return this.options[e]},e.prototype.set=function(e,t){this.options[e]=t},e}),u.define(\"select2/core\",[\"jquery\",\"./options\",\"./utils\",\"./keys\"],function(t,i,r,s){var o=function(e,t){null!=r.GetData(e[0],\"select2\")&&r.GetData(e[0],\"select2\").destroy(),this.$element=e,this.id=this._generateId(e),t=t||{},this.options=new i(t,e),o.__super__.constructor.call(this);var n=e.attr(\"tabindex\")||0;r.StoreData(e[0],\"old-tabindex\",n),e.attr(\"tabindex\",\"-1\");t=this.options.get(\"dataAdapter\");this.dataAdapter=new t(e,this.options);n=this.render();this._placeContainer(n);t=this.options.get(\"selectionAdapter\");this.selection=new t(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,n);t=this.options.get(\"dropdownAdapter\");this.dropdown=new t(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,n);n=this.options.get(\"resultsAdapter\");this.results=new n(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var s=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){s.trigger(\"selection:update\",{data:e})}),e[0].classList.add(\"select2-hidden-accessible\"),e.attr(\"aria-hidden\",\"true\"),this._syncAttributes(),r.StoreData(e[0],\"select2\",this),e.data(\"select2\",this)};return r.Extend(o,r.Observable),o.prototype._generateId=function(e){return\"select2-\"+(null!=e.attr(\"id\")?e.attr(\"id\"):null!=e.attr(\"name\")?e.attr(\"name\")+\"-\"+r.generateChars(2):r.generateChars(4)).replace(/(:|\\.|\\[|\\]|,)/g,\"\")},o.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get(\"width\"));null!=t&&e.css(\"width\",t)},o.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(\"resolve\"==t){var s=this._resolveWidth(e,\"style\");return null!=s?s:this._resolveWidth(e,\"element\")}if(\"element\"==t){s=e.outerWidth(!1);return s<=0?\"auto\":s+\"px\"}if(\"style\"!=t)return\"computedstyle\"!=t?t:window.getComputedStyle(e[0]).width;e=e.attr(\"style\");if(\"string\"!=typeof e)return null;for(var i=e.split(\";\"),r=0,o=i.length;r<o;r+=1){var a=i[r].replace(/\\s/g,\"\").match(n);if(null!==a&&1<=a.length)return a[1]}return null},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on(\"change.select2\",function(){t.dataAdapter.current(function(e){t.trigger(\"selection:update\",{data:e})})}),this.$element.on(\"focus.select2\",function(e){t.trigger(\"focus\",e)}),this._syncA=r.bind(this._syncAttributes,this),this._syncS=r.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(e){t._syncA(),t._syncS(e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},o.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on(\"*\",function(e,t){n.trigger(e,t)})},o.prototype._registerSelectionEvents=function(){var n=this,s=[\"toggle\",\"focus\"];this.selection.on(\"toggle\",function(){n.toggleDropdown()}),this.selection.on(\"focus\",function(e){n.focus(e)}),this.selection.on(\"*\",function(e,t){-1===s.indexOf(e)&&n.trigger(e,t)})},o.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on(\"*\",function(e,t){n.trigger(e,t)})},o.prototype._registerResultsEvents=function(){var n=this;this.results.on(\"*\",function(e,t){n.trigger(e,t)})},o.prototype._registerEvents=function(){var n=this;this.on(\"open\",function(){n.$container[0].classList.add(\"select2-container--open\")}),this.on(\"close\",function(){n.$container[0].classList.remove(\"select2-container--open\")}),this.on(\"enable\",function(){n.$container[0].classList.remove(\"select2-container--disabled\")}),this.on(\"disable\",function(){n.$container[0].classList.add(\"select2-container--disabled\")}),this.on(\"blur\",function(){n.$container[0].classList.remove(\"select2-container--focus\")}),this.on(\"query\",function(t){n.isOpen()||n.trigger(\"open\",{}),this.dataAdapter.query(t,function(e){n.trigger(\"results:all\",{data:e,query:t})})}),this.on(\"query:append\",function(t){this.dataAdapter.query(t,function(e){n.trigger(\"results:append\",{data:e,query:t})})}),this.on(\"keypress\",function(e){var t=e.which;n.isOpen()?t===s.ESC||t===s.UP&&e.altKey?(n.close(e),e.preventDefault()):t===s.ENTER||t===s.TAB?(n.trigger(\"results:select\",{}),e.preventDefault()):t===s.SPACE&&e.ctrlKey?(n.trigger(\"results:toggle\",{}),e.preventDefault()):t===s.UP?(n.trigger(\"results:previous\",{}),e.preventDefault()):t===s.DOWN&&(n.trigger(\"results:next\",{}),e.preventDefault()):(t===s.ENTER||t===s.SPACE||t===s.DOWN&&e.altKey)&&(n.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set(\"disabled\",this.$element.prop(\"disabled\")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger(\"disable\",{})):this.trigger(\"enable\",{})},o.prototype._isChangeMutation=function(e){var t=this;if(e.addedNodes&&0<e.addedNodes.length){for(var n=0;n<e.addedNodes.length;n++)if(e.addedNodes[n].selected)return!0}else{if(e.removedNodes&&0<e.removedNodes.length)return!0;if(Array.isArray(e))return e.some(function(e){return t._isChangeMutation(e)})}return!1},o.prototype._syncSubtree=function(e){var e=this._isChangeMutation(e),t=this;e&&this.dataAdapter.current(function(e){t.trigger(\"selection:update\",{data:e})})},o.prototype.trigger=function(e,t){var n=o.__super__.trigger,s={open:\"opening\",close:\"closing\",select:\"selecting\",unselect:\"unselecting\",clear:\"clearing\"};if(void 0===t&&(t={}),e in s){var i=s[e],s={prevented:!1,name:e,args:t};if(n.call(this,i,s),s.prevented)return void(t.prevented=!0)}n.call(this,e,t)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger(\"query\",{})},o.prototype.close=function(e){this.isOpen()&&this.trigger(\"close\",{originalEvent:e})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get(\"disabled\")},o.prototype.isOpen=function(){return this.$container[0].classList.contains(\"select2-container--open\")},o.prototype.hasFocus=function(){return this.$container[0].classList.contains(\"select2-container--focus\")},o.prototype.focus=function(e){this.hasFocus()||(this.$container[0].classList.add(\"select2-container--focus\"),this.trigger(\"focus\",{}))},o.prototype.enable=function(e){this.options.get(\"debug\")&&window.console&&console.warn&&console.warn('Select2: The `select2(\"enable\")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop(\"disabled\") instead.'),null!=e&&0!==e.length||(e=[!0]);e=!e[0];this.$element.prop(\"disabled\",e)},o.prototype.data=function(){this.options.get(\"debug\")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2(\"data\")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get(\"debug\")&&window.console&&console.warn&&console.warn('Select2: The `select2(\"val\")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();e=e[0];Array.isArray(e)&&(e=e.map(function(e){return e.toString()})),this.$element.val(e).trigger(\"input\").trigger(\"change\")},o.prototype.destroy=function(){r.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(\".select2\"),this.$element.attr(\"tabindex\",r.GetData(this.$element[0],\"old-tabindex\")),this.$element[0].classList.remove(\"select2-hidden-accessible\"),this.$element.attr(\"aria-hidden\",\"false\"),r.RemoveData(this.$element[0]),this.$element.removeData(\"select2\"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class=\"select2 select2-container\"><span class=\"selection\"></span><span class=\"dropdown-wrapper\" aria-hidden=\"true\"></span></span>');return e.attr(\"dir\",this.options.get(\"dir\")),this.$container=e,this.$container[0].classList.add(\"select2-container--\"+this.options.get(\"theme\")),r.StoreData(e[0],\"element\",this.$element),e},o}),u.define(\"jquery-mousewheel\",[\"jquery\"],function(e){return e}),u.define(\"jquery.select2\",[\"jquery\",\"jquery-mousewheel\",\"./select2/core\",\"./select2/defaults\",\"./select2/utils\"],function(i,e,r,t,o){var a;return null==i.fn.select2&&(a=[\"open\",\"close\",\"destroy\"],i.fn.select2=function(t){if(\"object\"==typeof(t=t||{}))return this.each(function(){var e=i.extend(!0,{},t);new r(i(this),e)}),this;if(\"string\"!=typeof t)throw new Error(\"Invalid arguments for Select2: \"+t);var n,s=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=o.GetData(this,\"select2\");null==e&&window.console&&console.error&&console.error(\"The select2('\"+t+\"') method was called on an element that is not using Select2.\"),n=e[t].apply(e,s)}),-1<a.indexOf(t)?this:n}),null==i.fn.select2.defaults&&(i.fn.select2.defaults=t),r}),{define:u.define,require:u.require});function b(e,t){return i.call(e,t)}function l(e,t){var n,s,i,r,o,a,l,c,u,d,p=t&&t.split(\"/\"),h=y.map,f=h&&h[\"*\"]||{};if(e){for(t=(e=e.split(\"/\")).length-1,y.nodeIdCompat&&_.test(e[t])&&(e[t]=e[t].replace(_,\"\")),\".\"===e[0].charAt(0)&&p&&(e=p.slice(0,p.length-1).concat(e)),c=0;c<e.length;c++)\".\"===(d=e[c])?(e.splice(c,1),--c):\"..\"===d&&(0===c||1===c&&\"..\"===e[2]||\"..\"===e[c-1]||0<c&&(e.splice(c-1,2),c-=2));e=e.join(\"/\")}if((p||f)&&h){for(c=(n=e.split(\"/\")).length;0<c;--c){if(s=n.slice(0,c).join(\"/\"),p)for(u=p.length;0<u;--u)if(i=h[p.slice(0,u).join(\"/\")],i=i&&i[s]){r=i,o=c;break}if(r)break;!a&&f&&f[s]&&(a=f[s],l=c)}!r&&a&&(r=a,o=l),r&&(n.splice(0,o,r),e=n.join(\"/\"))}return e}function w(t,n){return function(){var e=a.call(arguments,0);return\"string\"!=typeof e[0]&&1===e.length&&e.push(null),o.apply(p,e.concat([t,n]))}}function x(e){var t;if(b(m,e)&&(t=m[e],delete m[e],v[e]=!0,r.apply(p,t)),!b(g,e)&&!b(v,e))throw new Error(\"No \"+e);return g[e]}function c(e){var t,n=e?e.indexOf(\"!\"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function A(e){return e?c(e):[]}var u=s.require(\"jquery.select2\");return t.fn.select2.amd=s,u});"," (function($) {\n    \n    const GENERIC_ERROR_MSG = 'Please <a href=\"#\" class=\"page-refresh-btn\">refresh</a> the page. If you see this message again, please contact support@megabase.co.';\n    var $document = $(document);\n\n    $document.ready(function() {\n\n        var $registerForm = $( '#megacal-register-form' );\n        var $registerHandleField = $( '#megacal-register-handle' );\n        var $checkHandleBtn = $( '#megacal-check-handle-button' );\n        var $registerBtn = $( '.megacal-register-button' );\n        var $colorpickers = $( '.megacal-color-colorpicker-input' );\n        var $opacitySliders = $( '.megacal-opacity-slider' );\n        var $colorTextInputs = $( '.megacal-color-text-input' );\n        var $colorResets = $( '.megacal-color-input-reset' );\n\n        $document.on( 'click', '.page-refresh-btn', function( e ) {\n            e.preventDefault();\n            window.location.href = window.location.href;\n        } );\n\n        setupAdminTabs( document );\n\n       //Copy to clipboard button\n        $document.on('click', '#megacal-events-settings-sc .copyToClipboard', function(e) {\n\n            e.preventDefault();\n\n            var copyTextarea = $('.shortcode'); \n            copyTextarea.select();\n\n            try {\n\n                var successful = document.execCommand('copy');\n\n                if( successful )\n                    $('.copySuccess').fadeIn().delay(200).fadeOut();\n                else\n                    $('.copyFail').fadeIn().delay(200).fadeOut();\n\n            } catch (err) {\n\n                console.error( err );\n                $('.copyFail').fadeIn().delay(200).fadeOut();\n            \n            }\n        \n        });\n\n        $( '#megacal-show-tokens' ).on( 'click', function( e ) {\n\n            e.preventDefault();\n\n            $( '#megacal_access_token' ).attr( 'type', 'text' ).closest( 'tr.hidden' ).addClass( 'megacal-row' ).removeClass( 'hidden' );\n            $( '#megacal_refresh_token' ).attr( 'type', 'text' ).closest( 'tr.hidden' ).addClass( 'megacal-row' ).removeClass( 'hidden' );\n\n            $( 'body,html' ).animate({\n                scrollTop: 0,\n            });\n\n            $( '.megacal-admin-tabs li > a' ).first().trigger( 'click' );\n\n        });\n\n        $( '#megacal-reset-account' ).on( 'click', function( e ) {\n\n            e.preventDefault();\n            var confirm = window.confirm( 'Do you really want to unlink your MegaCalendar account from this site? (You will lose your existing Events)' );\n\n            if( !confirm ) {\n                return false;\n            }\n\n            var nonce = $( '#_megacal_unlink_account_nonce' ).val();\n            window.location = megacal_admin_script_opts.settings_url + \"&unlink=true&nonce=\" + nonce;\n\n        } );\n\n        // Color Customization fields\n        $colorpickers.on( 'change', function( e ) {\n\n            var $this = $( this ); \n            var $container = $this.parent();\n            $container.find( '.megacal-color-text-input' ).val( $this.val() );\n\n        } );\n\n        var colorTextInputDebounce;\n        $colorTextInputs.on( 'keyup', function( e ) {\n            \n            var $this = $( this );\n\n            if( colorTextInputDebounce )\n                clearTimeout( colorTextInputDebounce );\n\n            colorTextInputDebounce = setTimeout( \n                colorTextInputHandler.bind( $this ), \n                1000 \n            );\n\n        } );\n\n        $colorTextInputs.on( 'focus', function() {\n            $( this ).select();\n        } );\n\n        $colorResets.on( 'click', function( e ) {\n\n            e.preventDefault();\n            let $this = $( this );\n            let $container = $this.parent();\n            let $colorpicker = $container.find( '.megacal-color-colorpicker-input' );\n            let $opacitySlider = $container.find( '.megacal-opacity-slider' );\n            let defaultColor = $this.data( 'color' );\n            let defaultOpacity = 85;\n\n            $colorpicker.val( defaultColor ).trigger( 'change' );\n\n            if( $opacitySlider.length > 0 ) {\n                var $labelVal = $container.find( '.megacal-opacity-slider-val' );\n                $opacitySlider.val( defaultOpacity );\n                $labelVal.text( defaultOpacity );\n            }\n\n            $this.hide();\n\n        } );\n\n        $opacitySliders.on( 'input', function( e ) {\n\n            var $this = $( this );\n            var $container = $this.closest( '.megacal-opacity-slider-container' );\n            var $labelVal = $container.find( '.megacal-opacity-slider-val' );\n\n            $labelVal.text( $this.val() );\n\n        } );\n\n        function colorTextInputHandler() {\n           \n            var $input = $( this );\n            var $container = $input.parent();\n            var $colorpicker = $container.find( '.megacal-color-colorpicker-input' );\n\n            if( isValidHexCode( $input.val() ) ) {\n                $colorpicker.val( $input.val() );\n            } else {\n                showAlertNotification( 'Invalid color code value', 'error' );\n                $input.val( $colorpicker.val() );\n            }\n\n        }\n\n        // Turn on/off check handle button\n        $registerHandleField.on( 'keyup', function() {\n\n            var $this = $( this );\n\n            if( $this.val() ) {\n                $checkHandleBtn.prop( 'disabled', false );\n            } else {\n                $checkHandleBtn.prop( 'disabled', true );\n            }\n\n        } );\n\n        // Check Handles\n        $checkHandleBtn.on( 'click', function( e ) {\n\n            e.preventDefault(); \n\n            var handle = $registerHandleField.val();\n            var _nonce = $( '#_megacal_check_handle_nonce' ).val();\n\n            var check_handle_data = {\n                action: 'megacal_check_handle',\n                handle,\n                _nonce,\n            };\n    \n            $.post(\n\n                megacal_admin_script_opts.ajax_url,\n                check_handle_data,\n                function( response ) {\n                    \n                    if( false == response.success ) {\n                        \n                        clearAlertNotification();\n                        showAlertNotification( response.data.message, 'error' );\n\n                        return;\n                    }\n\n                    var unique = response.data.unique;\n                    \n                    if( true == unique ) {\n                        $registerHandleField.removeClass( 'invalid' );\n                        $registerHandleField.addClass( 'valid' );\n                    } else {\n                        $registerHandleField.removeClass( 'valid' );\n                        $registerHandleField.addClass( 'invalid' );\n                    }\n\n                }\n\n            )\n            .fail( function() {\n\n                clearAlertNotification();\n                showAlertNotification( 'Something isn\\'t right...', 'error' );\n            \n            }); \n\n        });\n\n        // Registration form validation\n        $( '#megacal-register-form input' ).on( 'keyup', function() {\n\n            checkRequiredFields( $registerForm, $registerBtn );\n\n        });\n\n        // Register\n        $registerForm.on( 'submit', function( e ) {\n\n            e.preventDefault();\n            \n            var form = $( this )[0];\n            var formData = new FormData( form );\n            \n            if( !formData.get( 'firstname' ) ) {\n                alert( 'firstname cannot be empty' );\n                return;\n            }\n\n            if( !formData.get( 'lastname' ) ) {\n                alert( 'lastname cannot be empty' );\n                return;\n            }\n\n            if( !formData.get( 'handle' ) ) {\n                alert( 'handle cannot be empty' );\n                return;\n            }\n\n            if( !formData.get( 'email' ) ) {\n                alert( 'email cannot be empty' );\n                return;\n            }\n\n            if( !formData.get( 'calendarName' ) ) {\n                alert( 'calendarName cannot be empty' );\n                return;\n            }\n\n            var firstname = formData.get( 'firstname' );\n            var lastname = formData.get( 'lastname' );\n            var handle = formData.get( 'handle' );\n            var email = formData.get( 'email' );\n            var calendarName = formData.get( 'calendarName' );\n            var phone = formData.get( 'phone' );\n            var _nonce = formData.get( '_megacal_register_nonce' );\n\n            var registerData = {\n                action: 'megacal_register',\n                _nonce,\n                firstname,\n                lastname,\n                handle,\n                email,\n                calendarName,\n                phone,\n            }; \n\n            $.post(\n\n                megacal_admin_script_opts.ajax_url,\n                registerData,\n                function( response ) {\n                    \n                    if( false == response.success ) {\n                        clearAlertNotification();\n                        showAlertNotification( response.data.message, 'error' );\n                        return;\n                    }\n                    \n                    window.location = megacal_admin_script_opts.upgrade_url;\n\n                }\n\n            )\n            .fail( function() {\n\n                clearAlertNotification();\n                showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n            \n            }); \n\n        });\n        \n        var $manageEvents = $( '#megacal-manage-events' );\n        \n        if( $manageEvents.length > 0 ) {\n\n            var $saveEventWrap = $( '#save-event-wrap' );\n            var $calendar = $( '#megacal-manage-calendar' );\n            var currDate = new Date();\n            var changeTypeSelected = false;\n            var $approvalList = $( '#megacal-approval-list' );\n\n            $( '.megacal-filter-cat-btn' ).on( 'change', function() {\n                $calendar.eventCalendar( 'refresh' );\n            } );\n\n            $calendar.eventCalendar({\n\n                showImage: false,\n                showLegends: true,\n                showOwners: true,\n                timeFormat: megacal_admin_script_opts.time_fmt_setting,\n                dateFormat: {\n                    calendar: 'D',\n                    calendarFirst: 'MMM D',\n                },\n                showSlider: false,\n                loaderImageUrl: megacal_admin_script_opts.base_url + '/assets/img/loading.svg',\n                defaultEventImageUrl: megacal_admin_script_opts.default_image_path,\n                calendarCreate: (event, data) => {\n\n                }\n\n            }).on( 'eventcalendar.calendaraddevent', ( event, data ) => {\n                \n                var $eventManageMask = $manageEvents.find( '#eventManageMask' );\n                var $eventForm = $saveEventWrap.find( '#megacal-event-form' );\n\n                $calendar.eventCalendar( 'showLoader' );\n                $eventManageMask.removeClass( 'hidden' );\n                $eventForm.html( '' );\n\n                loadEventForm( \n                    null, \n                    function( response ) {\n                            \n                        if( false == response.success ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'error' );\n                            return;\n                        }\n                            \n                        $calendar.eventCalendar( 'hideLoader' );\n                        $eventManageMask.addClass( 'hidden' );\n                        $saveEventWrap.html( response.data.content );\n                        \n                        var $eventForm = $saveEventWrap.find( '#megacal-event-form' );\n                        var $eventSubmitBtn = $saveEventWrap.find( '.megacal-button-save-event' );\n                        \n                        registerEventFormActions( data.date );\n                        initWYSIWYGFields();\n                        showAddEventForm();\n\n                    }, \n                    function() {\n\n                        clearAlertNotification();\n                        showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n\n                    }\n                );\n\n            }).on('eventcalendar.calendarviewchange', ( event, data ) => {\n\n                currDate = data.date;\n                loadCalendarView( $calendar, data.date );\n\n            }).on('eventcalendar.eventclick', ( event, data ) => {\n                \n                if( !data.createdByMe ) {\n                    return;\n                }\n\n                var eventId = data.eventId;\n                var $eventManageMask = $manageEvents.find( '#eventManageMask' );\n                var $eventForm = $saveEventWrap.find( '#megacal-event-form' );\n\n                $calendar.eventCalendar( 'showLoader' );\n                $eventManageMask.removeClass( 'hidden' );\n                $eventForm.html( '' );\n\n                loadEventForm( \n                    eventId, \n                    function( response ) {\n                        \n                        var $eventManageMask = $manageEvents.find( '#eventManageMask' );\n\n                        if( false == response.success ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'error' );\n                            return;\n                        }\n                        \n                        $calendar.eventCalendar( 'hideLoader' );\n                        $eventManageMask.addClass( 'hidden' );\n                        $saveEventWrap.html( response.data.content );\n                        \n                        var $eventForm = $saveEventWrap.find( '#megacal-event-form' );\n                        var $eventSubmitBtn = $saveEventWrap.find( '.megacal-button-save-event' );\n                        \n                        registerEventFormActions();\n                        initWYSIWYGFields();\n                        showAddEventForm();\n\n                    }, \n                    function() {\n\n                        clearAlertNotification();\n                        showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n\n                    }\n                );\n\n            });\n\n            loadCalendarView( $calendar, currDate );\n            loadApprovalList();\n\n            function setEventApproval( approvalAction, btn ) {\n\n                var approvalNotice = btn.closest( '.approval-notice' );\n                var eventId = approvalNotice.data( 'event-id' );\n                var userId = approvalNotice.data( 'user-id' );\n                var _nonce = $( '#_megacal_set_event_approval_nonce' ).val();\n\n                var putApprovalData = {\n                    action: 'megacal_set_event_approval',\n                    _nonce,\n                    approvalAction,\n                };\n\n                switch( approvalAction ) {\n                    case 'approve':\n                    case 'deny':\n                        putApprovalData.userId = userId;\n                        putApprovalData.eventId = eventId;\n                        break;\n\n                    case 'always':\n                    case 'approve_pending':\n                    case 'deny_pending': \n                        putApprovalData.userId = userId;\n                        break;\n                }\n\n                $.post(\n\n                    megacal_admin_script_opts.ajax_url,\n                    putApprovalData,\n                    function( response ) {\n                        \n                        if( false == response.success ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'error' )\n                            return;\n                        }\n\n                        approvalNotice.fadeOut( 200, function() {\n                            $( this ).remove();\n                            loadApprovalList();\n                        });\n\n                        $calendar.eventCalendar( 'refresh' );\n\n                    }\n    \n                )\n                .fail( function() {\n    \n                    clearAlertNotification();\n                    showAlertNotification( GENERIC_ERROR_MSG, 'error' )\n                    \n                });\n\n            }\n            \n            /**\n             * Reload the event form via AJAX\n             * \n             * @param {int|null} eventId The event Id to prepopulate the fields - null value will generate an empty form\n             * @param {function} successCallback The callback to run on success\n             * @param {function} failureCallback The callback to run on failure\n             */\n            function loadEventForm( eventId, successCallback, failureCallback ) {\n\n                var _nonce = $( '#_megacal_get_event_upsert_nonce' ).val();\n                var eventId = eventId || null;\n\n                var eventUpsertData = {\n                    action: 'megacal_get_event_upsert',\n                    _nonce,\n                };\n\n                if( eventId !== null ) {\n                    eventUpsertData.eventId = eventId;\n                }\n\n                $.post(\n\n                    megacal_admin_script_opts.ajax_url,\n                    eventUpsertData,\n                    successCallback\n    \n                )\n                .fail( failureCallback ); \n\n            }\n\n            function registerEventFormActions( date ) {\n\n                var $eventForm = $( '#megacal-event-form' );\n                var $eventSubmitBtn = $( '.megacal-button-save-event' );\n                var $eventDeleteBtn = $( '.megacal-button-delete-event' );\n                var $allDayCheckbox = $( '#megacal-all-day' );\n                var $startTimeField = $( '#megacal-event-start-time' );\n                var $endTimeField = $( '#megacal-event-end-time' );\n                var $dateField = $( '#megacal-event-date' );\n                var $eventImgBtn = $( '#megacal-upload-event-img' );\n                var $eventRemoveBtn = $( '#megacal-remove-event-img' );\n                var $eventImgField = $( '#megacal-event-img' );\n                var $imgPreview = $( '#megacal-img-preview' );\n                var $venueField = $( '#megacal-event-venue-name' );\n                var $venueIdField = $( '#megacal-event-venue-id' );\n                var $categoryField = $( '#megacal-event-category-name' );\n                var $categoryIdField = $( '#megacal-event-category-id' );\n                var $venueLocationField = $( '#megacal-event-venue-location' ); \n                var $cancelBtn = $( '.megacal-button-cancel-edit-event' );\n                var $modalCancelBtn = $( '.megacal-button-cancel-save-delete');\n                var startDate = date ? new Date( date ) : false;\n                var $timepicker = $( '.timepicker' );\n                var recurrence = $( '#megacal-event-recurrence-details' ).val();\n                var recurrenceDetails = null;\n\n                if( '' !== recurrence.trim() ) {\n                    recurrenceDetails = JSON.parse( recurrence );\n                }\n\n                if( startDate ) {\n                    \n                    fmtDate = new Intl.DateTimeFormat( 'en-US', { \n                        month: '2-digit', \n                        day: '2-digit', \n                        year: 'numeric' \n                    } ).format( startDate );\n\n                    $dateField.val( fmtDate );\n\n                }\n\n                $cancelBtn.on( 'click', function( e ) {\n                    $saveEventWrap.fadeOut( 500 );\n                });\n\n                $modalCancelBtn.on( 'click', function( e ) {\n                    hideChangeTypeModal();\n                });\n\n                $eventDeleteBtn.on( 'click', function( e ) {\n\n                    if( !changeTypeSelected ) {\n                        var confirm = window.confirm( 'Are you sure you want to permanently delete this event?' );\n                        if( !confirm ) {\n                            return;\n                        }\n                    }\n\n                    if( recurrenceDetails && !changeTypeSelected ) {\n                        showChangeTypeModal( 'delete' );\n                        return;\n                    }\n\n                    var publishOptions = $( '#submitdiv' );\n                    var _nonce = publishOptions.find( '#_megacal_delete_event_nonce' ).val();\n                    var eventId = $eventForm.find( '#megacal-event-id' ).val();\n                    var formData = new FormData( $eventForm[0] );\n                    var eventChangeType = formData.get( 'eventChangeType' );\n\n                    var deleteEventData = {\n                        action: 'megacal_delete_event',\n                        _nonce,\n                        eventId,\n                        eventChangeType,\n                    };\n\n                    $.post(\n\n                        megacal_admin_script_opts.ajax_url,\n                        deleteEventData,\n                        function( response ) {\n                            \n                            if( false == response.success ) {\n                                clearAlertNotification();\n                                showAlertNotification( response.data.message, 'error' );\n                                return;\n                            }\n\n                            if( response.data.message ) {\n                                clearAlertNotification();\n                                showAlertNotification( response.data.message, 'success' );\n                            }\n\n                            $saveEventWrap.fadeOut( 500, function() {\n                                $calendar.eventCalendar( 'refresh' );\n                            } );\n\n                        }\n        \n                    )\n                    .fail( function() {\n        \n                        clearAlertNotification();\n                        showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n                        \n                    })\n                    .done( function() {\n                        hideChangeTypeModal();\n                    } );\n\n                } );\n\n                $dateField.megacalDatepicker({\n                    format: 'mm/dd/yyyy',\n                    todayHighlight: true,\n                    autoclose: true,\n                }).megacalDatepicker( 'update' );\n\n                $dateField.on( 'change', function() {\n                    \n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n                    fetchEventRecurrenceDetails( recurrenceDetails );\n\n                });\n\n                $timepicker.each( function() {\n                \n                    var val = $( this ).val();\n\n                    $( this ).timepicker({\n                        defaultTime: val || '',\n                        startTime: '6:00am',\n                        timeFormat: 'h:mm a',\n                        interval: 15,\n                        dropdown: true,\n                        dynamic: false,\n                        scrollbar: true,\n                        zindex: 9999,\n                    });\n\n                    if( !val ) {\n                        $( this ).val( '' ); // Default state - no value\n                    }\n\n                });\n\n                $venueField.select2({\n                    placeholder: 'Tag or Add a Venue',\n                    tags: true,\n                    allowClear: true,\n                    createTag: function( tag ) {\n\n                        // Case-insensitive tagging\n                        var found = false;\n\n                        $venueField.find( 'option' ).each( function() {\n                            \n                            if( $.trim( tag.term ).toUpperCase() === $.trim( $( this ).text() ).toUpperCase() ) {\n                                found = true;\n                            }\n\n                        });\n                \n                        if( !found ) {\n                            \n                            // Also don't allow purely numeric venue names\n                            if( $.isNumeric( tag.term ) ) {\n                                return {};\n                            }\n\n                            return {\n                                id: tag.term,\n                                text: tag.term + \" (new)\",\n                                isNew: true\n                            };\n\n                        }\n\n                    },\n                    language: {\n                        noResults: function( params ){\n                            return \"Type to add a venue.\";\n                        }\n                    },\n                });\n\n                $venueField.on( 'change', function() {\n\n                    var val = $( this ).val();\n                    var location = $( this ).find( 'option[value=\"' + val + '\"]' ).data( 'location' );\n\n                    if( $.isNumeric( val ) ) {\n                        \n                        $venueIdField.val( val );\n                        $venueLocationField.val( location ).prop( 'disabled', true );\n\n                    } else {\n\n                        $venueIdField.val( '' );\n                        $venueLocationField.val( '' ).prop( 'disabled', false );\n\n                    }\n\n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n\n                });\n\n                $categoryField.select2({\n                    placeholder: 'Tag or Add an Event Category',\n                    tags: true,\n                    createTag: function( tag ) {\n\n                        // Case-insensitive tagging\n                        var found = false;\n\n                        $categoryField.find( 'option' ).each( function() {\n                            \n                            if( $.trim( tag.term ).toUpperCase() === $.trim( $( this ).text() ).toUpperCase() ) {\n                                found = true;\n                            }\n\n                        });\n                \n                        if( !found ) {\n                            \n                            // Also don't allow purely numeric venue names\n                            if( $.isNumeric( tag.term ) ) {\n                                return {};\n                            }\n\n                            return {\n                                id: tag.term,\n                                text: tag.term + \" (new)\",\n                                isNew: true\n                            };\n\n                        }\n\n                    },\n                    language: {\n                        noResults: function( params ){\n                            return \"No Existing Categories Found\";\n                        }\n                    },\n                });\n\n                $categoryField.on( 'change', function() {\n\n                    var val = $( this ).val();\n\n                    if( $.isNumeric( val ) ) {\n                        $categoryIdField.val( val );\n                    } else {\n                        $categoryIdField.val( '' );\n                    }\n\n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n\n                });\n    \n                $( '#megacal-event-form input' ).on( 'keyup', function() {\n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n                });\n\n                if( $allDayCheckbox.prop( 'checked' ) ) {\n                    \n                    $startTimeField.hide().removeClass( 'required' );\n                    $endTimeField.hide().removeClass( 'required' );\n\n                }\n\n                $allDayCheckbox.on( 'change', function() {\n    \n                    var checked = $( this ).prop( 'checked' );\n    \n                    if( checked ) {\n    \n                        $startTimeField.hide().removeClass( 'required' );\n                        $endTimeField.hide().removeClass( 'required' );\n                        \n                    } else {\n    \n                        $startTimeField.show().addClass( 'required' );\n                        $endTimeField.show().addClass( 'required' );\n    \n                    }\n    \n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n    \n                });\n\n                $eventForm.find( 'input' ).on( 'blur, focus', function() { checkRequiredFields( $eventForm, $eventSubmitBtn ); } );\n    \n                // Form Submission\n                $eventForm.on( 'submit', function( e ) {\n    \n                    e.preventDefault();\n\n                    if( tinyMCE ) {\n                        tinyMCE.triggerSave();\n                    }\n                    \n                    var form = $( this )[0];\n                    var formData = new FormData( form );\n\n                    if( recurrenceDetails && !changeTypeSelected ) {\n                        showChangeTypeModal( 'update' );\n                    } else {\n                        saveEvent( formData );\n                    }\n    \n                });\n    \n                // Image Uploads\n                $eventImgBtn.on( 'click', function( e ) {\n    \n                    e.preventDefault();\n    \n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n\n                    customUploader = wp.media({\n    \n                        title: 'Upload Event Image',\n                        library : {\n                            type : 'image'\n                        },\n                        button: {\n                            text: 'Use this image' // button label text\n                        },\n                        multiple: false\n    \n                    }).on('select', function() { // it also has \"open\" and \"close\" events\n    \n                        var attachment = customUploader.state().get( 'selection' ).first().toJSON();\n                        $eventImgBtn.hide();\n                        $imgPreview.attr( 'src', attachment.url ).show();\n                        $eventRemoveBtn.show();\n                        $eventImgField.val( attachment.url );\n    \n                    }).open();\n    \n                });\n    \n                $eventRemoveBtn.on( 'click', function( e ) {\n    \n                    e.preventDefault();\n\n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n    \n                    $imgPreview.hide();\n                    $eventRemoveBtn.hide();\n                    $eventImgBtn.show();\n                    $eventImgField.val( '' );\n    \n                });\n\n                fetchEventRecurrenceDetails( recurrenceDetails );\n\n            }\n\n            function showChangeTypeModal( action ) {\n                var $modal = $( '#megacal-change-type-modal' );\n\n                $modal.show();\n                $( '#megacal-admin-mask' ).show();\n\n                if( action === 'update' ) {\n                    $( '#megacal-change-type-this' ).prop( 'checked', true );\n                    $( '#megacal-change-type-options' ).show();\n                    $modal.find( '.megacal-button-delete-event' ).hide();\n                    $modal.find( '.megacal-button-save-event' ).show();\n                    $modal.find( '#megacal-change-type-this' ).focus();\n                } else if( action === 'delete' ) {\n                    $( '#megacal-delete-type-this' ).prop( 'checked', true );\n                    $( '#megacal-delete-type-options' ).show();\n                    $modal.find( '.megacal-button-delete-event' ).show();\n                    $modal.find( '.megacal-button-save-event' ).hide();\n                    $modal.find( '#megacal-delete-type-this' ).focus();\n                }\n\n                changeTypeSelected = true;\n            }\n\n            function hideChangeTypeModal() {\n                $( '#megacal-change-type-modal' ).hide();\n                $( '#megacal-admin-mask' ).hide();\n                $( '#megacal-change-type-options' ).hide();\n                $( '#megacal-delete-type-options' ).hide();\n                $( '.megacal-button-save-event' ).focus();\n                \n                changeTypeSelected = false;\n            }\n\n            function saveEvent( formData ) {\n\n                var _nonce = formData.get( '_megacal_event_upsert_nonce' );\n                var eventId = formData.get( 'eventId' );\n                var eventTitle = formData.get( 'eventTitle' );\n                var eventDate = formData.get( 'eventDate' );\n                var eventAllDay = formData.get( 'eventAllDay' );\n                var eventStartTime = formData.get( 'eventStartTime' );\n                var eventEndTime = formData.get( 'eventEndTime' );\n                var eventImg = formData.get( 'eventImg' );\n                var eventVenueId = formData.get( 'eventVenueId' );\n                var eventVenueName = formData.get( 'eventVenueName' );\n                var eventVenueLocation = formData.get( 'eventVenueLocation' );\n                var eventCatId = formData.get( 'eventCatId' );\n                var eventCatName = formData.get( 'eventCatName' );\n                var eventOrganizer = formData.get( 'megacal-event-organizer' );\n                var eventFacebookUrl = formData.get( 'eventFacebookUrl' );\n                var eventTicketUrl = formData.get( 'eventTicketUrl' );\n                var eventPrice = formData.get( 'eventPrice' );\n                var eventTaggedUsers = formData.getAll( 'eventTaggedUsers' );\n                var eventTaggedUsersExtra = formData.get( 'eventTaggedUsersExtra' );\n                var megacalEventDescription = formData.get( 'megacal-event-description' );\n                var megacalEventPrivateNotes = formData.get( 'megacal-event-private-notes' );\n                var published = formData.get( 'publishEvent' );\n                var eventRecurrence = formData.get( 'eventRecurrence' );\n                var eventRecurrenceRepetition = formData.get( 'eventRecurrenceRepetition' );\n                var eventRecurrenceCustomType = formData.get( 'eventRecurrenceCustomType' );\n                var eventRecurrenceCustomMonthlyFreq = formData.get( 'eventRecurrenceCustomMonthlyFreq' );\n                var eventRecurrenceWeeklyDays = formData.getAll( 'eventRecurrenceWeeklyDays' );\n                var eventRecurrenceEnd = formData.get( 'eventRecurrenceEnd' );\n                var eventRecurrenceEndDate = formData.get( 'eventRecurrenceEndDate' );\n                var eventRecurrenceEndOccurrence = formData.get( 'eventRecurrenceEndOccurrence' );\n                var eventRecurrenceDayOfWeek = formData.get( 'eventRecurrenceDayOfWeek' );\n                var eventRecurrenceWeekOfMonth = formData.get( 'eventRecurrenceWeekOfMonth' );\n                var eventRecurrenceLastDayOfWeek = formData.get( 'eventRecurrenceLastDayOfWeek' );\n                var eventRecurrenceDayOfMonth = formData.get( 'eventRecurrenceDayOfMonth' );\n                var eventRecurrenceMonth = formData.get( 'eventRecurrenceMonth' );\n                var eventChangeType = formData.get( 'eventChangeType' );\n\n                var saveEventData = {\n                    action: 'megacal_save_event',\n                    _nonce,\n                    eventId,\n                    eventTitle,\n                    eventDate,\n                    eventAllDay,\n                    eventStartTime,\n                    eventEndTime,\n                    eventImg,\n                    eventVenueId,\n                    eventVenueName,\n                    eventVenueLocation,\n                    eventCatId,\n                    eventCatName,\n                    eventOrganizer,\n                    eventFacebookUrl,\n                    eventTicketUrl,\n                    eventPrice,\n                    eventTaggedUsers,\n                    eventTaggedUsersExtra,\n                    megacalEventDescription,\n                    megacalEventPrivateNotes,\n                    published,\n                    eventRecurrence,\n                    eventRecurrenceRepetition,\n                    eventRecurrenceCustomType,\n                    eventRecurrenceCustomMonthlyFreq,\n                    eventRecurrenceWeeklyDays,\n                    eventRecurrenceEnd,\n                    eventRecurrenceEndDate,\n                    eventRecurrenceEndOccurrence,\n                    eventRecurrenceDayOfWeek,\n                    eventRecurrenceWeekOfMonth,\n                    eventRecurrenceLastDayOfWeek,\n                    eventRecurrenceDayOfMonth,\n                    eventRecurrenceMonth,\n                    eventChangeType,\n                };\n                \n                $.post(\n\n                    megacal_admin_script_opts.ajax_url,\n                    saveEventData,\n                    function( response ) {\n\n                        if( false == response.success ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'error' );\n\n                            return;\n                        }\n                        \n                        $saveEventWrap.fadeOut( 500 );\n                        $calendar.eventCalendar( 'refresh' );\n\n                        if( response.data.message ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'success' );\n                        }\n\n                        // Refresh cached venues if a new one was added \n                        if( '' == eventVenueId ) {\n\n                            var _nonce = $( '#_megacal_get_event_upsert_nonce' ).val();\n                            var eventId = response.data.eventId;\n\n                            var eventUpsertData = {\n                                action: 'megacal_get_event_upsert',\n                                _nonce,\n                                eventId: eventId,\n                            };\n            \n                            $.post(\n            \n                                megacal_admin_script_opts.ajax_url,\n                                eventUpsertData,\n                                function( response ) {\n                                    \n                                    if( false == response.success ) {\n                                        clearAlertNotification();\n                                        showAlertNotification( response.data.message, 'error' );\n\n                                        return;\n                                    }\n\n                                }\n                                \n                            );\n\n                        }\n\n                    }\n    \n                )\n                .fail( function() {\n    \n                    clearAlertNotification();\n                    showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n                    changeTypeSelected = false;\n\n                })\n                .done( function() {\n                    hideChangeTypeModal(); \n                } );\n\n            }\n\n            function fetchEventRecurrenceDetails( recurrence ) {\n\n                var $eventRecurrenceContainer = $( '.megacal-event-recurrence-container' );\n                \n                var $select = $eventRecurrenceContainer.find( '#eventRecurrenceSelect' );\n                var selectVal = $select ? $select.val() : false;\n\n                var $radio = $eventRecurrenceContainer.find( '.eventRecurrenceEnd:checked' );\n                var radioVal = $radio ? $radio.val() : false;\n\n                var $customRecurrenceTypeSelectOr = $( '#eventRecurrenceCustomType' );\n                var customRecurrenceTypeVal = $customRecurrenceTypeSelectOr ? $customRecurrenceTypeSelectOr.val() : false;\n\n                var $dateField = $( '#megacal-event-date' );\n                var date = $dateField.val();\n                var eventId = $( '#megacal-event-id' ).val().trim() ? parseInt( $( '#megacal-event-id' ).val().trim() ) : 0;\n\n                var $endsDetailsContainer = $( '.megacal-ends-details-container' );\n                var endsExpanded = $endsDetailsContainer.length > 0 ? !$endsDetailsContainer.hasClass( 'collapsed' ) : false;\n                var showRecurrence = true;\n\n                if( !recurrence && eventId > 0 ) {\n                    showRecurrence = false;\n                }\n\n                if( recurrence ) {\n                    selectVal = recurrence.type;\n\n                    if( 'CUSTOM' === recurrence.type ) {\n                        customRecurrenceTypeVal = recurrence.custom.type||customRecurrenceTypeVal;\n                        radioVal = recurrence.custom.end_condition||radioVal;\n                    }\n                }\n\n                // Remove content\n                var _nonce = $( '#_megacal_event_recurrence_nonce' ).val();\n\n                $.post(\n\n                    megacal_admin_script_opts.ajax_url,\n                    { \n                        action: 'megacal_get_event_recurrence',\n                        _nonce,\n                        date: date || null,\n                        showRecurrence,\n                    },\n                    function( response ) {\n\n                        if( false == response.success ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'error' );\n                            return;\n                        }\n\n                        $eventRecurrenceContainer.html( response.data.content );\n\n                        var recurrence_details = response.data.recurrence_details;\n                        if( recurrence_details ) {\n\n                            var $eventRecurrenceRepetition = $( '#eventRecurrenceRepetition' );\n                            var $eventRecurrenceEndDate = $( '#eventRecurrenceEndDate' );\n                            var $eventRecurrenceEndOccurrence = $( '#eventRecurrenceEndOccurrence' );\n                            var $customRecurrenceTypeSelect = $( '#eventRecurrenceCustomType' );\n                            var $customRecurrenceMonthlyFreq = $( '#eventRecurrenceCustomMonthlyFreq' );\n                            var $customRecurrenceWeeklyDays = $( '#eventRecurrenceWeeklyDays' );\n                            var $eventRecurrenceSelect = $eventRecurrenceContainer.find( '#eventRecurrenceSelect' );\n                            var $customRecurrenceDetailsSection = $eventRecurrenceContainer.find( '.megacal-custom-recurrence-details' );\n\n                            // Reselect options after date change\n                            if( selectVal ) {\n                                \n                                $eventRecurrenceSelect.val( selectVal );\n\n                                if( 'CUSTOM' === selectVal ) {\n                                    $customRecurrenceDetailsSection.show();\n                                }\n\n                            }\n\n                            if( radioVal ) {\n                                $eventRecurrenceContainer.find( '.eventRecurrenceEnd[value=\"' + radioVal + '\"]' ).prop( 'checked', true );\n                            }\n\n                            if( customRecurrenceTypeVal ) {\n                                $customRecurrenceTypeSelect.val( customRecurrenceTypeVal );\n                            }\n\n                            if( $eventRecurrenceSelect.val() === 'CUSTOM' ) {\n                                $( '.megacal-custom-recurrence-details' ).removeClass( 'hidden' );\n                            }\n\n                            if( $customRecurrenceTypeSelect.length < 1 ) {\n                                return;\n                            }\n\n                            var customRecurrenceType = $customRecurrenceTypeSelect.val().toLowerCase();\n                            var customDetail = recurrence_details.custom;\n                            var detailVals = customDetail[customRecurrenceType + '_custom'];\n                            var fmtEndDate = moment( detailVals.end_condition.on, 'YYYY-MM-DD' ).format( 'MM/DD/YYYY' );\n                            var afterOccurrence = detailVals.end_condition.after_occurrence;\n                            var repetition = customDetail.repetition;\n                            \n                            if( recurrence ) {    \n                                \n                                if( recurrence.custom ) {\n                                    var recurrenceDetails = recurrence.custom[customRecurrenceType + '_custom'] || recurrence.custom;\n                                    repetition = recurrence.custom.repetition||repetition;\n\n                                    if( recurrenceDetails.repeat_on ) {\n                                        $( '.eventRecurrenceWeeklyDays' ).prop( 'checked', false );\n                                        $( '.eventRecurrenceWeeklyDays' ).each( function() {\n                                            var $this = $( this );\n\n                                            if( recurrenceDetails.repeat_on.indexOf( $this.val() ) > -1 ) {\n                                                $( this ).prop( 'checked', true );\n                                            }\n                                        });\n                                    }\n\n                                    if( recurrenceDetails.day_of_week ) {\n                                        var weekOfMonth = recurrenceDetails.week_of_month;\n                                        $( '#eventRecurrenceCustomMonthlyFreq' ).val( 'week_of_month-' + weekOfMonth );\n                                    }\n\n                                    if( recurrence.custom.end_condition ) {\n                                        if( recurrence.custom.end_condition.on ) {\n                                            fmtEndDate = moment( recurrence.custom.end_condition.on, 'YYYY-MM-DD' ).format( 'MM/DD/YYYY' );\n                                            endsExpanded = true;\n                                            $eventRecurrenceContainer.find( '#eventRecurrenceEndDateOp' ).prop( 'checked', true );\n                                        } else if( recurrence.custom.end_condition.after_occurrence > 0 ) {\n                                            afterOccurrence = recurrence.custom.end_condition.after_occurrence;\n                                            endsExpanded = true;\n                                            $eventRecurrenceContainer.find( '#eventRecurrenceEndOccurrenceOp' ).prop( 'checked', true );\n                                        }\n                                    }\n                                }\n                                \n                            }\n\n                            $eventRecurrenceRepetition.val( repetition );\n                            $eventRecurrenceEndDate.val( fmtEndDate );\n                            $eventRecurrenceEndOccurrence.val( afterOccurrence );\n\n                            // expand/collapse ends details\n                            if( endsExpanded ) {\n                                var $newEndsDetailsContainer = $eventRecurrenceContainer.find( '.megacal-ends-details-container' );\n                                var $toggle = $eventRecurrenceContainer.find( '.collapsable-toggle' );\n                                $toggle.find( '.icon-chevron-right' ).removeClass( 'icon-chevron-right' ).addClass( 'icon-chevron-down' );\n                                $newEndsDetailsContainer.removeClass( 'collapsed' );\n                            }\n\n                            // re-register event listeners\n                            $eventRecurrenceSelect.on( 'change', function() {\n\n                                if( 'CUSTOM' === $( this ).val() ) {\n                                    $customRecurrenceDetailsSection.slideDown();\n                                } else {\n                                    $customRecurrenceDetailsSection.slideUp();\n                                }\n\n                            } );\n\n                            if( 'WEEKLY' === $customRecurrenceTypeSelect.val() ) {    \n                                $customRecurrenceWeeklyDays.removeClass( 'hidden' );\n                            } else if( 'MONTHLY' === $customRecurrenceTypeSelect.val() ) {\n                                $customRecurrenceMonthlyFreq.removeClass( 'hidden' );\n                            }\n\n                            $customRecurrenceTypeSelect.on( 'change', function() {\n                                \n                                recurrence.custom.type = $( this ).val();\n                                fetchEventRecurrenceDetails( recurrence );\n\n                            } );\n\n                            // Register datepicker\n                            $eventRecurrenceContainer.find( '#eventRecurrenceEndDate' ).megacalDatepicker({\n                                format: 'mm/dd/yyyy',\n                                todayHighlight: true,\n                                autoclose: true,\n                            }).megacalDatepicker( 'update' );\n\n                            $( '#eventRecurrenceEndOccurrence' ).on( 'click', function() {\n                                $('#eventRecurrenceEndOccurrenceOp' ).prop( 'checked', true );\n                            } );\n                            \n                            $( '#eventRecurrenceEndDate' ).on( 'click', function() {\n                                $('#eventRecurrenceEndDateOp' ).prop( 'checked', true );\n                            } );\n\n                            $( '.eventRecurrenceWeeklyDays' ).on( 'click', function() {\n                                \n                                var $weeklyDaysCBs = $( '.eventRecurrenceWeeklyDays' );\n                                var $selectedDayCB;\n                                var defaultDay = customDetail.weekly_custom.selected_day_of_week;\n                                var allEmpty = true;\n\n                                $weeklyDaysCBs.each( function() {\n\n                                    if( $( this ).prop( 'checked' ) === true ) {\n                                        allEmpty = false;\n                                    }\n\n                                    if( $( this ).val() !== defaultDay )\n                                        return;\n\n                                    $selectedDayCB = $( this );\n\n                                } );\n\n                                if( allEmpty ) {\n                                    $selectedDayCB.prop( 'checked', true );\n                                }\n\n                            } );\n\n                        }\n\n                    }\n    \n                )\n                .fail( function() {\n                    clearAlertNotification();\n                    showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n                    return;\n                } )\n                .done( function() {\n\n                    var $eventForm = $( '#megacal-event-form' );\n                    var $eventSubmitBtn = $( '.megacal-button-save-event' );\n\n                    checkRequiredFields( $eventForm, $eventSubmitBtn );\n\n                } );\n                \n            }\n\n            function initWYSIWYGFields() {\n\n                if( !tinyMCE )\n                    return; // Safeguard, should never happen\n                    \n                var $eventForm = $( '#megacal-event-form' );\n                var $eventSubmitBtn = $( '.megacal-button-save-event' );\n\n                $saveEventWrap.find( '.wp-editor-area' ).each( function() {\n                    \n                    var id = $( this ).attr( 'id' );\n\n                    // xxx: Need to jump through some hoops to properly render WYSIWYG editors after AJAX\n                    \n                    tinyMCEPreInit.mceInit[id].setup = function( ed ) {\n\n                        ed.on( 'keyup', function() {\n                            checkRequiredFields( $eventForm, $eventSubmitBtn );\n                        });\n\n                    };\n\n                    tinyMCE.init( tinyMCEPreInit.mceInit[id] ); // don't change the settings\n                    \n                    // Render the editor\n                    tinyMCE.execCommand( 'mceRemoveEditor', false, id ); \n                    tinyMCE.execCommand( 'mceAddEditor', false, id ); \n\n                    quicktags( { id } ); // Text view quicktag buttons\n\n                });\n\n            }\n\n            function showAddEventForm() {\n            \n                $saveEventWrap.fadeIn( 200, function() {\n                    $( '#megacal-event-title' ).focus();\n                } );\n\n            }\n\n            function loadCalendarView( $eventCalendar, date ) {\n\n                const format = 'YYYY-MM-DD';\n                const aMoment = moment( date ).hours(0)\n                    .minutes(0)\n                    .seconds(0)\n                    .milliseconds(0);\n\n                const startDate = aMoment.clone().startOf( 'month' ).startOf( 'week' ).format( format );\n                const endDate = aMoment.clone().endOf( 'month' ).endOf( 'week' ).format( format );\n    \n                var _nonce = $( '#_megacal_fetch_events_nonce' ).val();\n                var $filterForm = $( '#megacal-manage-filter-form' );\n                var formData = new FormData( $filterForm[0] );\n\n                var eventCategories = formData.getAll( 'megacalFilterCategories' );\n\n                var fetchEventsData = {\n                    action: 'megacal_fetch_calendar_events',\n                    _nonce,\n                    startDate,\n                    endDate,\n                    eventCategories,\n                };\n\n                $eventCalendar.eventCalendar( 'showLoader' );\n\n                $.post(\n\n                    megacal_admin_script_opts.ajax_url,\n                    fetchEventsData,\n                    function( response ) {\n                        \n                        if( false == response.success ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'error' );\n                            return;\n                        }\n\n                        $eventCalendar.eventCalendar( \n                            'option', \n                            'events', \n                            { \n                                'events': response.data.events \n                            } \n                        );\n\n                    }\n\n                )\n                .fail( function() {\n                })\n                .done( function() {\n                    $eventCalendar.eventCalendar( 'hideLoader' );\n                });\n\n            };\n\n            function loadApprovalList() {\n\n                var _nonce = $( '#megacal_get_approval_list_nonce' ).val();\n                var getApprovalListData = {\n                    action: 'megacal_get_approval_list',\n                    _nonce\n                };\n\n                $.post(\n                    megacal_admin_script_opts.ajax_url,\n                    getApprovalListData,\n                    function( response ) {\n                        \n                        if( false == response.success ) {\n                            clearAlertNotification();\n                            showAlertNotification( response.data.message, 'error' );\n                            return;\n                        }\n\n                        $approvalList.html( response.data.content );\n\n                        var $approvalActionBtn = $( '.button-approval-action' );\n                        $approvalActionBtn.on( 'click', function( e ) {\n            \n                            e.preventDefault();\n                            setEventApproval( $( this ).data( 'action' ), $( this ) );\n            \n                        });\n\n                    }\n                ).fail( function() {\n                    clearAlertNotification();\n                    showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n                });\n\n            }\n            \n        }\n\n        var $manageRelationships = $( '.megacal-manage-relationships-page' );\n\n        if( $manageRelationships.length > 0 ) {\n\n            var isDirty = false;\n\n            $( window ).on( 'load', function() {\n                window.addEventListener(\"beforeunload\", function (e) {\n\n                    if( !isDirty ) {\n                        return undefined;\n                    }\n                    \n                    var confirmationMessage = 'Changes you made on this page may not be saved';\n            \n                    (e || window.event).returnValue = confirmationMessage; //Gecko + IE\n                    return confirmationMessage; //Gecko + Webkit, Safari, Chrome etc.\n\n                });\n            } );\n\n            // Edit button functionality\n            $( '.megacal-relationship-edit-btn' ).on( 'click', function( e ) {\n\n                e.preventDefault();\n                isDirty = true;\n\n                var $this = $( this );\n                var $form = $this.closest( '.megacal-manage-relationship-form' );\n\n                var $inputs = $form.find( 'input, textarea' );\n                var $nameInput;\n                $inputs.each( function() {\n                    $( this ).prop( 'readonly', false );\n                    $( this ).prop( 'disabled', false );\n\n                    if( $( this ).attr( 'name' ) == 'name' ) {\n                        $nameInput = $( this );\n                    }\n                });\n\n                if( $nameInput ) {\n                    $nameInput.focus();\n                }\n\n                $form.find( '.megacal-relationship-save-btn' ).prop( 'disabled', false );\n                $this.prop( 'disabled', true );\n\n            } );\n\n            $( '.megacal-manage-relationship-form' ).on( 'submit', function( e ) {\n\n                e.preventDefault();\n\n                var $form = $( this );\n                var _nonce = $( '#megacal_update_relationships_nonce' ).val();\n                var form = $form[0];\n                var formData = new FormData( form );\n                var type = formData.get( 'type' );\n                var $inputs = $form.find( 'input, textarea' );\n\n                $form.find( '.megacal-relationship-save-btn' ).prop( 'disabled', true );\n                \n                var putRelationshipData = {\n                    name: formData.get( 'name' ),\n                    published: formData.get( 'published' ),\n                    _nonce,\n                    action: 'megacal_update_' + type + '_details',\n                };\n\n                putRelationshipData[type + '_id'] = formData.get( 'id' );\n\n                if( 'venue' === type ) {\n                    putRelationshipData.location = formData.get( 'location' );\n                }\n\n                $.post(\n\n                    megacal_admin_script_opts.ajax_url,\n                    putRelationshipData,\n                    function( response ) {\n                        \n                        clearAlertNotification();\n                        $form.find( '.megacal-relationship-save-btn' ).prop( 'disabled', true );\n                        $form.find( '.megacal-relationship-edit-btn' ).prop( 'disabled', false );\n\n                        if( false == response.success ) {\n                            showAlertNotification( response.data.message, 'error' );\n                            return;\n                        }\n\n                        isDirty = false;\n\n                        $inputs.each( function() {\n                            var $this = $( this );\n\n                            if( $this.attr( 'type' ) === 'checkbox' ) {\n                                $( this ).prop( 'disabled', true );\n                            } else {\n                                $( this ).prop( 'readonly', true );\n                            }\n                        });\n\n                    }\n    \n                )\n                .fail( function() {\n    \n                    clearAlertNotification();\n                    showAlertNotification( GENERIC_ERROR_MSG, 'error' );\n                    $form.find( '.megacal-relationship-save-btn' ).prop( 'disabled', false );\n                    \n                });\n\n            } );\n        }\n\n        var $alertNotice = $( '#alert-notice' );\n        var alertState = '';\n        var clearNotificationTimeout;\n\n        $alertNotice.find( '.alert-notice-close' ).on( 'click', function( e ) {\n            e.preventDefault();\n            clearAlertNotification();\n        } );\n\n        /**\n         * Displays an alert notice\n         * \n         * @param string msg The message to add to the notice \n         * @param string type The type of notice to show - One of 'success', 'error', 'info'. Custom strings can be used and will result in a 'mystring-notice' class. \n         */\n        function showAlertNotification( msg, type ) {\n\n            alertState = type + '-notice';\n\n            $alertNotice.addClass( alertState );\n            $alertNotice.find( '.alert-notice-inner' ).html( '<p>' + msg + '</p>' );\n            $alertNotice.removeClass( 'hidden' );\n            $alertNotice.show();\n\n            $( 'html, body' ).animate({ scrollTop: 0 });\n\n            if( clearNotificationTimeout ) {\n                clearTimeout( clearNotificationTimeout );\n            }\n\n            clearNotificationTimeout = setTimeout( clearAlertNotification, 5000 );\n\n        }\n\n        function clearAlertNotification() {\n\n            $alertNotice.fadeOut( 2000, function() {\n                $alertNotice.removeClass( alertState );\n            } );\n\n            if( clearNotificationTimeout ) {\n                clearTimeout( clearNotificationTimeout );\n            }\n\n        }\n\n        // Shortcode Fields\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #themeSelect', \n            shortcode_att: 'theme', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'val'\n        });\n\n        megacalShortcodeFieldUpdate({\n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #buttonPositions', \n            shortcode_att: 'buttons', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'val'\n        });\n\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #showDesc', \n            shortcode_att: 'descrip', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'checked'\n        });\n\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #displyImgs', \n            shortcode_att: 'display', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: function( att, shortcode, $element ) {\n\n                var display = ($element.prop('checked')) ? 'img' : 'text';\n                return megacalReplaceShortcodeAtt( att, display, shortcode );\n                \n            }\n        });\n\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #defaultView', \n            shortcode_att: 'view', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'val'\n        });\n\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #hideView', \n            shortcode_att: 'hideview', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'checked'\n        });\n\n        megacalShortcodeFieldUpdate({  \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #listStyleSelect', \n            shortcode_att: 'style', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'val',\n        });\n\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #filterCal', \n            shortcode_att: 'eventOwner', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: function( att, shortcode, $element ) {\n\n                var id = '';\n                var ownerId = 0;\n\n                ownerId = $element.val();\n                id = ( 0 == ownerId ) ? '' : ownerId;\n\n                return megacalReplaceShortcodeAtt( att, id, shortcode );\n\n            }\n        });\n\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #filterCat', \n            shortcode_att: 'category', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: function( att, shortcode, $element ) {\n\n                var id = '';\n                var catId = 0;\n\n                catId = $element.val();\n                id = ( 0 == catId ) ? '' : catId;\n\n                return megacalReplaceShortcodeAtt( att, id, shortcode );\n\n            }\n        });\n\n        megacalShortcodeFieldUpdate({  \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #imgHeight', \n            shortcode_att: 'imgHeight', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'val',\n        });\n\n        megacalShortcodeFieldUpdate({ \n            event_type: 'change', \n            field_selector: '#megacal-events-settings-sc #showFilters', \n            shortcode_att: 'showfilters', \n            output_selector: '#megacal-events-settings-sc .shortcode',\n            handler: 'checked'\n        });\n\n        var $shortcode_btn = $( '#megacal-insert-shortcode' );\n        if( $shortcode_btn.length > 0 ) {\n\n            $shortcode_btn.on( 'click', function( e ) {\n\n                e.preventDefault();\n\n                tb_show( \n                    'MegaCal Shortcode Options', \n                    ajax_shortcode_options.url\n                );\n\n            });\n\n            $document.on('click', '#megacal-events-settings-sc .insertShortcode', function(e) {\n            \n                e.preventDefault();\n\n                var target = $(this).data('target-class');\n\n                if( 'undefined' == typeof target ) {\n                    console.error( 'no target shortcode field supplied' );\n                    return;\n                }\n\n                if( '' == target ) {\n                    console.error( 'target cannot be empty' );\n                    return;\n                }\n\n                target = '.' + target;\n                var copyTextarea = $(target);\n\n                if( copyTextarea.length > 0 ) {\n                 \n                    var val = copyTextarea.val();\n\n                    wp.media.editor.insert( val );\n                    tb_remove();\n                \n                }\n\n            });\n\n            // Ehhhhh.....\n            // Depending on a mutation observer\n            // is undesirable and expensive, but\n            // there is no callback after ajax \n            // loads in thickbox\n            var in_dom = $( '#megacal-events-settings' ).length > 0;\n            var observer = new MutationObserver(function( mutations ) {\n\n                var $loaded_content = $( '#megacal-events-settings' );\n\n                // Make sure tabs get set up\n                // after ajax content loads\n                if( $loaded_content.length <= 0 && in_dom ) {\n                    \n                    in_dom = false;\n                    return;\n\n                } else if( $loaded_content.length > 0 ) {\n                \n                    if(!in_dom) {\n\n                        setupAdminTabs( '#megacal-events-settings' );\n                        \n                        // override thickbox styles...\n                        // thickbox doesn't let us dynamically\n                        // size content, so this is as good as\n                        // this is going to get\n                        $('#TB_ajaxContent').css({ \n                            width: '100%',\n                            height: '100%',\n                            padding: 0\n                        });\n\n                        $('#TB_window').css({\n                            overflow: 'auto'\n                        });\n\n                    }\n\n                    in_dom = true;\n\n                } \n             \n            });\n\n            observer.observe( document.body, { childList: true } );\n\n        }\n\n        // collapsable sections\n        $( document ).on( 'click', '.mega-collapsable-toggle', function() {\n\n            var $toggle = $( this );\n            var $collapsable = $toggle.next( '.mega-collapsable' );\n            var slideSpeed = 300;\n\n            if( $collapsable.hasClass( 'collapsed' ) ) {\n                \n                $toggle.find( '.icon-chevron-right' ).removeClass( 'icon-chevron-right' ).addClass( 'icon-chevron-down' );\n                $toggle.attr( 'aria-pressed', true );\n\n                $collapsable.slideDown( slideSpeed, function() { \n                    $collapsable.removeClass( 'collapsed' );\n                } );\n\n            } else {\n\n                $toggle.find( '.icon-chevron-down' ).removeClass( 'icon-chevron-down' ).addClass( 'icon-chevron-right' );\n                $toggle.attr( 'aria-pressed', false );\n\n                $collapsable.slideUp( slideSpeed, function() { \n                    $collapsable.addClass( 'collapsed' );\n                } );\n                \n            }\n\n        } );\n\n    });\n\n    $( document ).on( 'keyup', '.mega-collapsable-toggle', function( e ) {\n\n        if( e.key === 'Enter' ) {\n            $( this ).trigger( 'click' );\n        }\n\n    } );\n\n    function setupAdminTabs( selector ) {\n\n        var tabs = $(selector).find('ul.tabs');\n\n        if( tabs.length <= 0 || tabs.hasClass('tabs-init') )\n            return;\n\n        tabs.addClass('tabs-init');\n        \n        tabs.each(function() {\n            // For each set of tabs, we want to keep track of\n            // which tab is active and its associated content\n            var $active, $content, $links = $(this).find('a');\n\n            // If the location.hash matches one of the links, use that as the active tab.\n            // If no match is found, use the first link as the initial active tab.\n            $active = $($links.filter('[href=\"'+location.hash+'\"]')[0] || $links[0]);\n            $active.addClass('current');\n\n            $content = $($active[0].hash);\n            // Hide the remaining content\n            $links.not($active).each(function () {\n                $(this.hash).hide();\n            });\n\n            // Bind the click event handler\n            $(this).on('click', 'a', function(e){\n                // Make the old tab inactive.\n                $active.removeClass('current');\n                $content.hide();\n\n                // Update the variables with the new link and content\n                $active = $(this);\n                $content = $(this.hash);\n                // Make the tab active.\n                $active.addClass('current');\n                $content.show();\n\n                // Prevent the anchor's default click action\n                e.preventDefault();\n            });\n        });\n\n    }\n\n    // Delegate shortcode options event handlers\n    function megacalShortcodeFieldUpdate( opts ) {\n        \n        if( 'object' != typeof opts )\n            return false;\n\n        if( 'undefined' == typeof opts.event_type ) {\n            console.error( 'event_type is required by megacalShortcodeFieldUpdate' );\n            return false;\n        }\n\n        if( 'undefined' == typeof opts.field_selector ) {\n            console.error( 'field_selector is required by megacalShortcodeFieldUpdate' );\n            return false;\n        }\n\n        if( 'undefined' == typeof opts.shortcode_att ) {\n            console.error( 'shortcode_att is required by megacalShortcodeFieldUpdate');\n            return false;\n        }\n\n        if( 'undefined' == typeof opts.output_selector ) {\n            console.error( 'output_selector is required by megacalShortcodeFieldUpdate' );\n            return false;\n        }\n\n        var opts = {\n            event_type: opts.event_type, \n            field_selector: opts.field_selector,\n            shortcode_att: opts.shortcode_att,\n            output_selector: opts.output_selector,\n            handler: ( 'undefined' == typeof opts.handler) ? 'val' : opts.handler,\n            callback: ( 'undefined' == typeof opts.callback) ? null : opts.callback\n        };\n\n        $document.on( opts.event_type, opts.field_selector, function(e) {\n\n            var $shortcode_field = $(opts.output_selector)\n            var shortcode = $shortcode_field.val();\n            var out = shortcode;\n\n            var default_handler = function( type, att, shortcode, $element ) {\n\n                if( 'val' != type && 'checked' != type )\n                    return shortcode;\n\n                var val;\n\n                if( 'val' == type ) {\n                    val = $element.val();\n                } else if( 'checked' == type ) {\n                    val = $element.prop('checked');\n                }\n    \n                return megacalReplaceShortcodeAtt( att, val, shortcode );\n\n            };\n\n            if( 'function' == typeof opts.handler )\n                out = opts.handler( opts.shortcode_att, shortcode, $(this) );\n            else if( 'string' == typeof opts.handler )\n                out = default_handler( opts.handler, opts.shortcode_att, shortcode, $(this) );\n\n            if( 'function' == typeof opts.callback )\n                opts.callback( out );\n\n            $shortcode_field.val( out );\n        });\n\n    }\n\n    function megacalReplaceShortcodeAtt( att, val, shortcode ) {\n\n        var shortcode_len = shortcode.length;\n        var insert_index = shortcode_len - 1;\n        var regex = new RegExp( \"\\\\s\" + att + '=\"[^\"]*\"', 'g' );\n\n        if( shortcode.indexOf( ' ' + att ) > 0 && '' != val )\n            return shortcode.replace( regex, ' ' + att + '=\"' + val + '\"' );\n        else if( '' != val )\n            return shortcode.substring( 0, insert_index ) + ' ' + att + '=\"' + val + '\"' + shortcode.substring( shortcode_len - 1 );\n        else\n            return shortcode.replace( regex, '' );\n\n    }\n\n    function checkRequiredFields( $form, $submitBtn ) {\n      \n        var required = $form.find('.required');\n        var allValid = true;\n    \n        required.each(function () {\n    \n            var $this = $( this );\n\n            if( !$this.val() ) {\n\n                if( $this.hasClass( 'select2-hidden-accessible' ) ) {\n                    \n                    $this.next( '.select2-container' ).removeClass('valid'); \n                    $this.next( '.select2-container' ).addClass('invalid');\n\n                } else {\n\n                    $this.removeClass('valid'); \n                    $this.addClass('invalid');\n                \n                }\n\n                allValid = false;\n\n            } else {\n                \n                if( $this.hasClass( 'select2-hidden-accessible' ) ) {\n                    $this.next( '.select2-container' ).removeClass('invalid');\n                } else {\n                    $this.removeClass('invalid');\n                }\n            \n            }\n    \n        });\n    \n        if (allValid) {\n            $submitBtn.prop('disabled', false);\n        } else {\n            $submitBtn.prop('disabled', true);\n        }\n\n    }\n\n    function isValidHexCode( hexStr ) {\n        \n        const hexRegex = /^#[0-9A-F]{6}$/i;\n        return hexRegex.test( hexStr );\n\n    }\n\n})(jQuery);\n\n"]}